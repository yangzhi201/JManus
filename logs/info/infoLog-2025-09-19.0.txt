2025-09-19 09:08:54:669 [main] INFO  c.a.cloud.ai.manus.OpenManusSpringBootApplication(StartupInfoLogger.java 53) -Starting OpenManusSpringBootApplication using Java 17.0.4.1 with PID 27148 (/Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/target/classes started by whisper in /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus)
2025-09-19 09:08:54:671 [main] INFO  c.a.cloud.ai.manus.OpenManusSpringBootApplication(SpringApplication.java 658) -The following 1 profile is active: "h2"
2025-09-19 09:08:55:068 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate(RepositoryConfigurationDelegate.java 147) -Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-19 09:08:55:196 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate(RepositoryConfigurationDelegate.java 215) -Finished Spring Data repository scanning in 121 ms. Found 17 JPA repository interfaces.
2025-09-19 09:08:55:682 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer(TomcatWebServer.java 111) -Tomcat initialized with port 18080 (http)
2025-09-19 09:08:55:689 [main] INFO  org.apache.coyote.http11.Http11NioProtocol(DirectJDKLog.java 168) -Initializing ProtocolHandler ["http-nio-18080"]
2025-09-19 09:08:55:691 [main] INFO  org.apache.catalina.core.StandardService(DirectJDKLog.java 168) -Starting service [Tomcat]
2025-09-19 09:08:55:691 [main] INFO  org.apache.catalina.core.StandardEngine(DirectJDKLog.java 168) -Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-09-19 09:08:55:738 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/](DirectJDKLog.java 168) -Initializing Spring embedded WebApplicationContext
2025-09-19 09:08:55:738 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext(ServletWebServerApplicationContext.java 301) -Root WebApplicationContext: initialization completed in 1031 ms
2025-09-19 09:08:55:833 [main] INFO  org.hibernate.jpa.internal.util.LogHelper(LogHelper.java 31) -HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-19 09:08:55:870 [main] INFO  org.hibernate.Version(Version.java 44) -HHH000412: Hibernate ORM core version 6.6.22.Final
2025-09-19 09:08:55:889 [main] INFO  o.hibernate.cache.internal.RegionFactoryInitiator(RegionFactoryInitiator.java 50) -HHH000026: Second-level cache disabled
2025-09-19 09:08:56:033 [main] INFO  o.s.o.j.persistenceunit.SpringPersistenceUnitInfo(SpringPersistenceUnitInfo.java 87) -No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-19 09:08:56:050 [main] INFO  com.zaxxer.hikari.HikariDataSource(HikariDataSource.java 109) -Spring-AI-Alibaba-JManus-h2-Pool - Starting...
2025-09-19 09:08:56:530 [main] INFO  com.zaxxer.hikari.pool.HikariPool(HikariPool.java 554) -Spring-AI-Alibaba-JManus-h2-Pool - Added connection conn0: url=jdbc:h2:file:./h2-data/openmanus_db user=SA
2025-09-19 09:08:56:531 [main] INFO  com.zaxxer.hikari.HikariDataSource(HikariDataSource.java 122) -Spring-AI-Alibaba-JManus-h2-Pool - Start completed.
2025-09-19 09:08:56:567 [main] INFO  org.hibernate.orm.connections.pooling(JdbcEnvironmentInitiator.java 163) -HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (Spring-AI-Alibaba-JManus-h2-Pool)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-19 09:08:56:760 [main] INFO  com.alibaba.cloud.ai.manus.config.JacksonConfig(JacksonConfig.java 73) -Successfully registered JavaTimeModule to org.springframework.ai.model.ModelOptionsUtils.OBJECT_MAPPER
2025-09-19 09:08:56:760 [main] INFO  com.alibaba.cloud.ai.manus.config.JacksonConfig(JacksonConfig.java 73) -Successfully registered JavaTimeModule to org.springframework.ai.util.json.JsonParser.OBJECT_MAPPER
2025-09-19 09:08:56:761 [main] INFO  com.alibaba.cloud.ai.manus.config.JacksonConfig(JacksonConfig.java 46) -Created ObjectMapper with JavaTimeModule and UTF-8 support registered
2025-09-19 09:08:57:244 [main] INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator(JtaPlatformInitiator.java 59) -HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-19 09:08:57:279 [main] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean(AbstractEntityManagerFactoryBean.java 447) -Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-19 09:08:57:448 [main] INFO  o.s.data.jpa.repository.query.QueryEnhancerFactory(QueryEnhancerFactory.java 49) -Hibernate is in classpath; If applicable, HQL parser will be used.
2025-09-19 09:08:57:852 [main] INFO  c.a.cloud.ai.manus.mcp.service.McpCacheManager(McpCacheManager.java 274) -MCP service loader configuration changed, updating thread pool
2025-09-19 09:08:57:853 [main] INFO  c.a.cloud.ai.manus.mcp.service.McpCacheManager(McpCacheManager.java 288) -Updated MCP service loader thread pool with max 10 concurrent connections
2025-09-19 09:08:57:853 [main] INFO  c.a.cloud.ai.manus.mcp.service.McpCacheManager(McpCacheManager.java 203) -Initializing MCP cache manager with double buffer mechanism
2025-09-19 09:08:57:855 [main] INFO  c.a.cloud.ai.manus.mcp.service.McpCacheManager(McpCacheManager.java 344) -No MCP server configurations found
2025-09-19 09:08:57:856 [main] INFO  c.a.cloud.ai.manus.mcp.service.McpCacheManager(McpCacheManager.java 214) -Initial cache loaded successfully with 0 services
2025-09-19 09:08:57:856 [main] INFO  c.a.cloud.ai.manus.mcp.service.McpCacheManager(McpCacheManager.java 236) -Scheduled cache update task started, interval: 10 minutes
2025-09-19 09:08:57:980 [main] INFO  com.alibaba.cloud.ai.manus.llm.LlmService(LlmService.java 111) -Checking and init ChatClient instance...
2025-09-19 09:08:57:995 [main] INFO  com.alibaba.cloud.ai.manus.llm.LlmService(LlmService.java 122) -Find default model: qwen-plus
2025-09-19 09:08:58:248 [main] INFO  com.alibaba.cloud.ai.manus.llm.LlmService(LlmService.java 247) -Build or update dynamic chat client for model: qwen-plus
2025-09-19 09:08:58:248 [main] INFO  com.alibaba.cloud.ai.manus.llm.LlmService(LlmService.java 127) -ChatClient init success
2025-09-19 09:08:58:389 [main] INFO  c.alibaba.cloud.ai.manus.config.PlaywrightConfig(PlaywrightConfig.java 60) -PLAYWRIGHT_BROWSERS_PATH not set, using default browser path
2025-09-19 09:08:58:391 [main] INFO  c.a.c.a.m.model.service.ModelDataInitialization(ModelDataInitialization.java 102) -Default model already exists: qwen-plus, skipping environment variable model creation
2025-09-19 09:08:58:703 [main] INFO  o.s.b.autoconfigure.h2.H2ConsoleAutoConfiguration(H2ConsoleAutoConfiguration.java 133) -H2 console available at '/h2-console'. Database available at 'jdbc:h2:file:./h2-data/openmanus_db'
2025-09-19 09:08:58:807 [main] INFO  org.apache.coyote.http11.Http11NioProtocol(DirectJDKLog.java 168) -Starting ProtocolHandler ["http-nio-18080"]
2025-09-19 09:08:58:821 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer(TomcatWebServer.java 243) -Tomcat started on port 18080 (http) with context path '/'
2025-09-19 09:08:58:831 [main] INFO  com.alibaba.cloud.ai.manus.config.ConfigService(ConfigService.java 70) -Found 33 configuration beans
2025-09-19 09:08:58:832 [main] INFO  com.alibaba.cloud.ai.manus.config.ConfigService(ConfigService.java 85) -Cleaning up obsolete configurations not defined in ManusProperties...
2025-09-19 09:08:58:843 [main] INFO  com.alibaba.cloud.ai.manus.config.ConfigService(ConfigService.java 102) -âœ… No obsolete configurations found
2025-09-19 09:08:58:859 [main] INFO  c.a.cloud.ai.manus.OpenManusSpringBootApplication(StartupInfoLogger.java 59) -Started OpenManusSpringBootApplication in 4.533 seconds (process running for 4.85)
2025-09-19 09:08:58:864 [main] INFO  c.a.c.a.m.config.startUp.ConfigAppStartupListener(ConfigAppStartupListener.java 60) -Configuration system initialized with 17 total configs
2025-09-19 09:08:58:864 [main] INFO  c.a.c.a.m.config.startUp.ConfigAppStartupListener(ConfigAppStartupListener.java 61) -Group 'manus': 17 configs
2025-09-19 09:08:58:865 [main] INFO  c.a.c.a.m.config.startUp.ConfigAppStartupListener(ConfigAppStartupListener.java 68) -1 configs are using custom values
2025-09-19 09:08:58:865 [main] INFO  c.a.c.a.m.config.startUp.ConfigAppStartupListener(ConfigAppStartupListener.java 78) -Starting to initialize dynamic agents...
2025-09-19 09:08:58:866 [main] INFO  c.a.c.ai.manus.agent.service.DynamicAgentScanner(DynamicAgentScanner.java 93) -Checking for deprecated @DynamicAgentDefinition annotation usage...
2025-09-19 09:08:58:903 [main] INFO  c.a.c.ai.manus.agent.service.DynamicAgentScanner(DynamicAgentScanner.java 174) -âœ… No deprecated @DynamicAgentDefinition annotations found. System can start normally.
2025-09-19 09:08:58:903 [main] INFO  c.a.c.ai.manus.agent.service.DynamicAgentScanner(DynamicAgentScanner.java 75) -âœ… Force override from YAML enabled - Starting to scan and override agents from YAML configuration files...
2025-09-19 09:08:58:903 [main] INFO  c.a.c.ai.manus.agent.service.DynamicAgentScanner(DynamicAgentScanner.java 181) -ðŸ” Starting to scan YAML agent configuration files...
2025-09-19 09:08:58:905 [main] INFO  c.a.c.a.m.a.startupAgent.StartupAgentConfigLoader(StartupAgentConfigLoader.java 231) -Scanned 0 startup agents: []
2025-09-19 09:08:58:905 [main] INFO  c.a.c.ai.manus.agent.service.DynamicAgentScanner(DynamicAgentScanner.java 212) -âœ… YAML agent configuration scanning completed - Total: 0, Created: 0, Overridden: 0
2025-09-19 09:08:58:906 [main] INFO  c.a.c.ai.manus.agent.service.DynamicAgentScanner(DynamicAgentScanner.java 81) -âœ… Dynamic agent override from YAML files completed
2025-09-19 09:08:58:906 [main] INFO  c.a.c.a.m.config.startUp.ConfigAppStartupListener(ConfigAppStartupListener.java 80) -Dynamic agents initialization completed
2025-09-19 09:08:58:906 [main] INFO  c.a.c.a.m.tool.database.DatabaseUseStartupListener(DatabaseUseStartupListener.java 48) -Starting to initialize database configurations...
2025-09-19 09:08:58:907 [main] INFO  c.a.cloud.ai.manus.tool.database.DataSourceService(DataSourceService.java 62) -Added datasource 'amanus' with url: jdbc:mysql://127.0.0.1:3306/amanus?serverTimezone=UTC&useUnicode=true&characterEncoding=utf8 and type: mysql
2025-09-19 09:08:58:907 [main] INFO  c.a.c.a.m.tool.database.DatabaseUseStartupListener(DatabaseUseStartupListener.java 100) -Initialized datasource 'amanus' (type: mysql)
2025-09-19 09:08:58:907 [main] INFO  c.a.cloud.ai.manus.tool.database.DataSourceService(DataSourceService.java 62) -Added datasource 'testdb' with url: jdbc:h2:file:./h2-data/testdb;MODE=MYSQL;DATABASE_TO_LOWER=TRUE and type: h2
2025-09-19 09:08:58:908 [main] INFO  c.a.c.a.m.tool.database.DatabaseUseStartupListener(DatabaseUseStartupListener.java 100) -Initialized datasource 'testdb' (type: h2)
2025-09-19 09:08:58:908 [main] INFO  c.a.c.a.m.tool.database.DatabaseUseStartupListener(DatabaseUseStartupListener.java 68) -Database configurations initialized with 2 datasources
2025-09-19 09:08:58:908 [main] INFO  c.a.c.a.m.tool.database.DatabaseUseStartupListener(DatabaseUseStartupListener.java 150) -
====================================================================================================
DATABASE DATASOURCE SUMMARY
====================================================================================================
â”‚ Datasource: amanus       â”‚ Type: mysql    â”‚ Status: âœ“ INSTANTIATED â”‚ URL: jdbc:mysql://127.0.0.1:3306/amanus?serverTimezone=UTC&useUnicode=true&characterEncoding=utf8 â”‚
â”‚ Datasource: testdb       â”‚ Type: h2       â”‚ Status: âœ“ INSTANTIATED â”‚ URL: jdbc:h2:file:./h2-data/testdb;MODE=MYSQL;DATABASE_TO_LOWER=TRUE â”‚
----------------------------------------------------------------------------------------------------
â”‚ SUMMARY: Total=2, Instantiated=2, Disabled=0, Failed=0 â”‚
====================================================================================================


2025-09-19 09:08:58:930 [main] INFO  c.a.c.a.manus.cron.scheduler.DynamicCronTaskLoader(DynamicCronTaskLoader.java 93) -Loaded 0 enabled scheduled tasks
2025-09-19 09:08:58:930 [main] INFO  c.a.c.a.manus.cron.scheduler.DynamicCronTaskLoader(DynamicCronTaskLoader.java 52) -Scheduled task loading completed
2025-09-19 09:08:58:930 [main] INFO  c.a.c.ai.manus.tool.textOperator.TextFileService(TextFileService.java 76) -TextFileService initialized
2025-09-19 09:08:58:930 [main] INFO  c.a.c.a.m.tool.jsxGenerator.JsxGeneratorService(JsxGeneratorService.java 69) -JsxGeneratorService initialized
2025-09-19 09:08:58:930 [main] INFO  c.a.c.a.m.tool.jsxGenerator.JsxGeneratorService(JsxGeneratorService.java 442) -Registered template: counter-button
2025-09-19 09:08:58:930 [main] INFO  c.a.c.a.m.tool.jsxGenerator.JsxGeneratorService(JsxGeneratorService.java 442) -Registered template: data-form
2025-09-19 09:08:58:930 [main] INFO  c.a.c.a.m.tool.jsxGenerator.JsxGeneratorService(JsxGeneratorService.java 203) -Default templates initialized: [counter-button, data-form]
2025-09-19 09:08:58:943 [main] INFO  c.a.c.a.m.n.service.NamespaceDataInitialization(NamespaceDataInitialization.java 53) -1 namespaces already exist, skipping default namespace initialization
2025-09-19 09:08:58:945 [main] INFO  c.a.c.ai.manus.config.startUp.AppStartupListener(AppStartupListener.java 54) -Application started, attempting to open browser to access: http://localhost:18080/ui/index.html
2025-09-19 09:08:58:974 [main] INFO  c.a.c.ai.manus.config.startUp.AppStartupListener(AppStartupListener.java 75) -Successfully opened browser via macOS open command
2025-09-19 09:08:58:977 [main] INFO  c.a.c.a.m.s.initializer.SubplanToolInitializer(SubplanToolInitializer.java 54) -Starting subplan tools initialization...
2025-09-19 09:08:58:977 [main] INFO  c.a.c.a.m.s.initializer.SubplanToolInitializer(SubplanToolInitializer.java 74) -Initializing plan templates...
2025-09-19 09:08:58:989 [main] INFO  c.a.c.a.m.s.initializer.SubplanToolInitializer(SubplanToolInitializer.java 113) -Initializing predefined subplan tools...
2025-09-19 09:08:58:991 [main] INFO  c.a.c.a.m.s.initializer.SubplanToolInitializer(SubplanToolInitializer.java 63) -Subplan tools initialization completed successfully
2025-09-19 09:08:59:614 [http-nio-18080-exec-1] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/](DirectJDKLog.java 168) -Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-19 09:08:59:615 [http-nio-18080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet(FrameworkServlet.java 532) -Initializing Servlet 'dispatcherServlet'
2025-09-19 09:08:59:616 [http-nio-18080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet(FrameworkServlet.java 554) -Completed initialization in 1 ms
2025-09-19 09:08:59:736 [http-nio-18080-exec-4] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: browser_use
2025-09-19 09:08:59:738 [http-nio-18080-exec-4] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: database_use
2025-09-19 09:09:11:816 [http-nio-18080-exec-4] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: terminate
2025-09-19 09:09:11:819 [http-nio-18080-exec-4] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: bash
2025-09-19 09:09:11:820 [http-nio-18080-exec-4] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: doc_loader
2025-09-19 09:09:11:820 [http-nio-18080-exec-4] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: text_file_operator
2025-09-19 09:09:11:821 [http-nio-18080-exec-4] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: table_processor
2025-09-19 09:09:11:821 [http-nio-18080-exec-4] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: file_merge_tool
2025-09-19 09:09:11:822 [http-nio-18080-exec-4] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: form_input
2025-09-19 09:09:11:823 [http-nio-18080-exec-4] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: data_split_tool
2025-09-19 09:09:11:824 [http-nio-18080-exec-4] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: map_output_tool
2025-09-19 09:09:11:824 [http-nio-18080-exec-4] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: reduce_operation_tool
2025-09-19 09:09:11:825 [http-nio-18080-exec-4] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: mapreduce_finalize_tool
2025-09-19 09:09:11:825 [http-nio-18080-exec-4] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: cron_tool
2025-09-19 09:09:11:826 [http-nio-18080-exec-4] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: excel_processor
2025-09-19 09:09:11:826 [http-nio-18080-exec-4] INFO  c.a.c.ai.manus.subplan.service.SubplanToolService(SubplanToolService.java 93) -Creating subplan tool callbacks for planId: 03746ff7-1c0b-4bd9-a7e2-4d102cbe780c, rootPlanId: 03746ff7-1c0b-4bd9-a7e2-4d102cbe780c
2025-09-19 09:09:11:839 [http-nio-18080-exec-4] INFO  c.a.c.ai.manus.subplan.service.SubplanToolService(SubplanToolService.java 106) -Found 4 subplan tools to register
2025-09-19 09:09:11:843 [http-nio-18080-exec-4] INFO  c.a.c.ai.manus.subplan.service.SubplanToolService(SubplanToolService.java 130) -Successfully registered subplan tool: extract_relevant_content -> extract_relevant_content_template
2025-09-19 09:09:11:843 [http-nio-18080-exec-4] INFO  c.a.c.ai.manus.subplan.service.SubplanToolService(SubplanToolService.java 130) -Successfully registered subplan tool: searchShenxun -> planTemplate-1758087694822
2025-09-19 09:09:11:844 [http-nio-18080-exec-4] INFO  c.a.c.ai.manus.subplan.service.SubplanToolService(SubplanToolService.java 130) -Successfully registered subplan tool: summaryResult -> planTemplate-1758202965673
2025-09-19 09:09:11:844 [http-nio-18080-exec-4] INFO  c.a.c.ai.manus.subplan.service.SubplanToolService(SubplanToolService.java 130) -Successfully registered subplan tool: summaryStructure -> planTemplate-1758202965693
2025-09-19 09:09:11:844 [http-nio-18080-exec-4] INFO  c.a.c.ai.manus.subplan.service.SubplanToolService(SubplanToolService.java 144) -Created 4 subplan tool callbacks
2025-09-19 09:09:11:851 [http-nio-18080-exec-4] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 314) -Registered 4 subplan tools
2025-09-19 09:09:11:853 [http-nio-18080-exec-4] INFO  c.a.cloud.ai.manus.mcp.service.McpCacheManager(McpCacheManager.java 553) -Cache invalidation requested for plan: 03746ff7-1c0b-4bd9-a7e2-4d102cbe780c, but using double buffer mechanism - no action needed
2025-09-19 09:09:18:040 [http-nio-18080-exec-1] INFO  c.a.c.a.m.c.controller.CoordinatorToolController(CoordinatorToolController.java 116) -Getting or creating coordinator tool for plan template: planTemplate-1758202965693
2025-09-19 09:09:18:061 [http-nio-18080-exec-10] INFO  c.a.cloud.ai.manus.model.service.ModelServiceImpl(ModelServiceImpl.java 432) -Sending HTTP request to: https://dashscope.aliyuncs.com/compatible-mode/v1/models
2025-09-19 09:09:18:814 [http-nio-18080-exec-10] INFO  c.a.cloud.ai.manus.model.service.ModelServiceImpl(ModelServiceImpl.java 442) -HTTP request completed - Status code: 200, Duration: 753ms
2025-09-19 09:09:18:815 [http-nio-18080-exec-10] INFO  c.a.cloud.ai.manus.model.service.ModelServiceImpl(ModelServiceImpl.java 321) -Successfully parsed response, obtained 97 available models
2025-09-19 09:09:18:815 [http-nio-18080-exec-10] INFO  c.a.cloud.ai.manus.model.service.ModelServiceImpl(ModelServiceImpl.java 447) -Successfully parsed response, obtained 97 models
2025-09-19 09:09:21:989 [http-nio-18080-exec-4] INFO  c.a.c.ai.manus.runtime.controller.ManusController(ManusController.java 230) -ðŸ”— [HTTP] Received query request from HTTP client: 
2025-09-19 09:09:21:991 [http-nio-18080-exec-4] INFO  c.a.c.ai.manus.runtime.controller.ManusController(ManusController.java 244) -Tool not published, using toolName as planTemplateId: planTemplate-1758202965693
2025-09-19 09:09:21:992 [http-nio-18080-exec-4] INFO  c.a.c.ai.manus.runtime.controller.ManusController(ManusController.java 546) -Replacing parameter placeholders in plan template with input parameters: [planId]
2025-09-19 09:09:22:022 [http-nio-18080-exec-4] INFO  c.a.c.ai.manus.runtime.service.PlanningCoordinator(PlanningCoordinator.java 156) -Starting direct plan execution for plan: null
2025-09-19 09:09:22:022 [http-nio-18080-exec-4] INFO  c.a.c.a.m.r.executor.factory.PlanExecutorFactory(PlanExecutorFactory.java 162) -Creating executor for plan type: dynamic_agent (planId: null)
2025-09-19 09:09:22:036 [http-nio-18080-exec-4] INFO  c.a.c.a.m.runtime.executor.LevelBasedExecutorPool(LevelBasedExecutorPool.java 207) -Created executor pool for depth level 0: level-0-executor-0 (core: 5, max: 20, queue: 100)
2025-09-19 09:09:22:070 [level-0-executor-0-thread-1] INFO  c.a.c.a.m.r.service.NewRepoPlanExecutionRecorder(NewRepoPlanExecutionRecorder.java 822) -Successfully created plan relationship for currentPlanId: plan-1758244161991, parentPlanId: null, rootPlanId: plan-1758244161991
2025-09-19 09:09:22:071 [level-0-executor-0-thread-1] INFO  c.a.c.a.m.r.service.NewRepoPlanExecutionRecorder(NewRepoPlanExecutionRecorder.java 148) -Successfully saved plan execution record for ID: plan-1758244161991 with 1 steps
2025-09-19 09:09:22:081 [level-0-executor-0-thread-1] INFO  c.a.cloud.ai.manus.agent.service.AgentServiceImpl(AgentServiceImpl.java 349) -Create new BaseAgent: ConfigurableDynaAgent, planId: plan-1758244161991
2025-09-19 09:09:22:082 [level-0-executor-0-thread-1] INFO  c.a.cloud.ai.manus.agent.service.AgentServiceImpl(AgentServiceImpl.java 204) -No model entity provided for ConfigurableDynaAgent, using null model
2025-09-19 09:09:22:086 [level-0-executor-0-thread-1] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: browser_use
2025-09-19 09:09:22:086 [level-0-executor-0-thread-1] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: database_use
2025-09-19 09:09:27:085 [http-nio-18080-exec-1] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244161991
2025-09-19 09:09:32:089 [http-nio-18080-exec-5] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244161991
2025-09-19 09:09:37:079 [http-nio-18080-exec-2] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244161991
2025-09-19 09:09:42:085 [http-nio-18080-exec-10] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244161991
2025-09-19 09:09:47:089 [http-nio-18080-exec-4] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244161991
2025-09-19 09:09:52:088 [http-nio-18080-exec-1] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244161991
2025-09-19 09:09:57:157 [http-nio-18080-exec-5] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244161991
2025-09-19 09:10:02:088 [http-nio-18080-exec-2] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244161991
2025-09-19 09:10:07:085 [http-nio-18080-exec-10] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244161991
2025-09-19 09:10:12:076 [http-nio-18080-exec-4] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244161991
2025-09-19 09:10:17:091 [http-nio-18080-exec-1] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244161991
2025-09-19 09:10:22:087 [http-nio-18080-exec-5] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244161991
2025-09-19 09:10:27:081 [http-nio-18080-exec-2] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244161991
2025-09-19 09:10:32:084 [http-nio-18080-exec-10] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244161991
2025-09-19 09:10:37:083 [http-nio-18080-exec-4] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244161991
2025-09-19 09:10:42:075 [http-nio-18080-exec-1] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244161991
2025-09-19 09:10:47:093 [http-nio-18080-exec-5] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244161991
2025-09-19 09:10:52:082 [http-nio-18080-exec-2] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244161991
2025-09-19 09:10:57:082 [http-nio-18080-exec-10] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244161991
2025-09-19 09:11:02:080 [http-nio-18080-exec-4] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244161991
2025-09-19 09:11:07:074 [http-nio-18080-exec-1] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244161991
2025-09-19 09:11:12:084 [http-nio-18080-exec-5] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244161991
2025-09-19 09:11:17:079 [http-nio-18080-exec-2] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244161991
2025-09-19 09:11:22:084 [http-nio-18080-exec-10] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244161991
2025-09-19 09:11:27:076 [http-nio-18080-exec-4] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244161991
2025-09-19 09:11:32:083 [http-nio-18080-exec-1] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244161991
2025-09-19 09:11:37:075 [http-nio-18080-exec-5] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244161991
2025-09-19 09:11:42:079 [http-nio-18080-exec-2] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244161991
2025-09-19 09:11:47:080 [http-nio-18080-exec-10] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244161991
2025-09-19 09:11:52:071 [http-nio-18080-exec-4] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244161991
2025-09-19 09:11:57:077 [http-nio-18080-exec-1] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244161991
2025-09-19 09:12:02:075 [http-nio-18080-exec-5] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244161991
2025-09-19 09:12:03:773 [level-0-executor-0-thread-1] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: terminate
2025-09-19 09:12:07:085 [http-nio-18080-exec-2] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244161991
2025-09-19 09:12:12:075 [http-nio-18080-exec-10] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244161991
2025-09-19 09:12:17:073 [http-nio-18080-exec-4] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244161991
2025-09-19 09:12:22:079 [http-nio-18080-exec-1] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244161991
2025-09-19 09:12:27:073 [http-nio-18080-exec-5] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244161991
2025-09-19 09:12:32:070 [http-nio-18080-exec-2] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244161991
2025-09-19 09:12:37:075 [http-nio-18080-exec-10] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244161991
2025-09-19 09:12:42:076 [http-nio-18080-exec-4] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244161991
2025-09-19 09:12:47:069 [http-nio-18080-exec-1] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244161991
2025-09-19 09:12:52:074 [http-nio-18080-exec-5] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244161991
2025-09-19 09:12:57:070 [http-nio-18080-exec-2] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244161991
2025-09-19 09:13:02:070 [http-nio-18080-exec-10] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244161991
2025-09-19 09:13:07:067 [http-nio-18080-exec-4] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244161991
2025-09-19 09:13:12:072 [http-nio-18080-exec-1] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244161991
2025-09-19 09:13:17:075 [http-nio-18080-exec-5] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244161991
2025-09-19 09:13:22:066 [http-nio-18080-exec-2] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244161991
2025-09-19 09:13:27:070 [http-nio-18080-exec-10] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244161991
2025-09-19 09:13:32:071 [http-nio-18080-exec-4] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244161991
2025-09-19 09:13:37:071 [http-nio-18080-exec-1] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244161991
2025-09-19 09:13:42:065 [http-nio-18080-exec-5] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244161991
2025-09-19 09:13:47:064 [http-nio-18080-exec-2] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244161991
2025-09-19 09:13:52:070 [http-nio-18080-exec-10] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244161991
2025-09-19 09:13:57:066 [http-nio-18080-exec-4] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244161991
2025-09-19 09:14:02:064 [http-nio-18080-exec-1] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244161991
2025-09-19 09:14:07:063 [http-nio-18080-exec-5] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244161991
2025-09-19 09:14:12:070 [http-nio-18080-exec-2] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244161991
2025-09-19 09:14:17:063 [http-nio-18080-exec-10] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244161991
2025-09-19 09:14:22:064 [http-nio-18080-exec-4] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244161991
2025-09-19 09:14:27:064 [http-nio-18080-exec-1] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244161991
2025-09-19 09:14:32:068 [http-nio-18080-exec-5] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244161991
2025-09-19 09:14:37:069 [http-nio-18080-exec-2] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244161991
2025-09-19 09:14:42:069 [http-nio-18080-exec-10] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244161991
2025-09-19 09:14:47:064 [http-nio-18080-exec-4] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244161991
2025-09-19 09:14:52:060 [http-nio-18080-exec-1] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244161991
2025-09-19 09:14:57:063 [http-nio-18080-exec-5] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244161991
2025-09-19 09:15:02:077 [http-nio-18080-exec-2] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244161991
2025-09-19 09:15:07:061 [http-nio-18080-exec-10] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244161991
2025-09-19 09:15:12:060 [http-nio-18080-exec-4] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244161991
2025-09-19 09:15:17:066 [http-nio-18080-exec-1] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244161991
2025-09-19 09:15:22:073 [http-nio-18080-exec-5] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244161991
2025-09-19 09:15:27:061 [http-nio-18080-exec-2] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244161991
2025-09-19 09:15:32:061 [http-nio-18080-exec-10] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244161991
2025-09-19 09:15:37:060 [http-nio-18080-exec-4] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244161991
2025-09-19 09:15:42:058 [http-nio-18080-exec-1] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244161991
2025-09-19 09:15:47:063 [http-nio-18080-exec-5] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244161991
2025-09-19 09:15:52:058 [http-nio-18080-exec-2] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244161991
2025-09-19 09:15:57:058 [http-nio-18080-exec-10] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244161991
2025-09-19 09:16:02:057 [http-nio-18080-exec-4] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244161991
2025-09-19 09:16:07:058 [http-nio-18080-exec-1] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244161991
2025-09-19 09:16:12:058 [http-nio-18080-exec-5] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244161991
2025-09-19 09:16:17:059 [http-nio-18080-exec-2] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244161991
2025-09-19 09:16:22:057 [http-nio-18080-exec-10] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244161991
2025-09-19 09:16:27:064 [http-nio-18080-exec-4] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244161991
2025-09-19 09:16:32:057 [http-nio-18080-exec-1] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244161991
2025-09-19 09:16:37:055 [http-nio-18080-exec-5] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244161991
2025-09-19 09:16:42:057 [http-nio-18080-exec-2] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244161991
2025-09-19 09:16:47:055 [http-nio-18080-exec-10] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244161991
2025-09-19 09:16:52:056 [http-nio-18080-exec-4] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244161991
2025-09-19 09:16:57:061 [http-nio-18080-exec-1] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244161991
2025-09-19 09:17:02:054 [http-nio-18080-exec-5] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244161991
2025-09-19 09:17:07:051 [http-nio-18080-exec-2] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244161991
2025-09-19 09:17:12:054 [http-nio-18080-exec-10] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244161991
2025-09-19 09:17:17:053 [http-nio-18080-exec-4] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244161991
2025-09-19 09:17:22:069 [http-nio-18080-exec-1] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244161991
2025-09-19 09:17:27:068 [http-nio-18080-exec-5] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244161991
2025-09-19 09:17:32:058 [http-nio-18080-exec-2] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244161991
2025-09-19 09:17:37:051 [http-nio-18080-exec-10] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244161991
2025-09-19 09:17:42:051 [http-nio-18080-exec-4] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244161991
2025-09-19 09:17:47:053 [http-nio-18080-exec-1] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244161991
2025-09-19 09:17:52:052 [http-nio-18080-exec-5] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244161991
2025-09-19 09:17:57:053 [http-nio-18080-exec-2] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244161991
2025-09-19 09:18:02:052 [http-nio-18080-exec-10] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244161991
2025-09-19 09:18:07:059 [http-nio-18080-exec-4] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244161991
2025-09-19 09:18:12:050 [http-nio-18080-exec-1] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244161991
2025-09-19 09:18:17:055 [http-nio-18080-exec-5] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244161991
2025-09-19 09:18:22:059 [http-nio-18080-exec-2] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244161991
2025-09-19 09:18:27:049 [http-nio-18080-exec-10] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244161991
2025-09-19 09:18:32:048 [http-nio-18080-exec-4] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244161991
2025-09-19 09:18:37:055 [http-nio-18080-exec-1] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244161991
2025-09-19 09:18:41:376 [main] INFO  c.a.cloud.ai.manus.OpenManusSpringBootApplication(StartupInfoLogger.java 53) -Starting OpenManusSpringBootApplication using Java 17.0.4.1 with PID 49405 (/Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/target/classes started by whisper in /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus)
2025-09-19 09:18:41:379 [main] INFO  c.a.cloud.ai.manus.OpenManusSpringBootApplication(SpringApplication.java 658) -The following 1 profile is active: "h2"
2025-09-19 09:18:41:783 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate(RepositoryConfigurationDelegate.java 147) -Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-19 09:18:41:933 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate(RepositoryConfigurationDelegate.java 215) -Finished Spring Data repository scanning in 138 ms. Found 17 JPA repository interfaces.
2025-09-19 09:18:42:574 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer(TomcatWebServer.java 111) -Tomcat initialized with port 18080 (http)
2025-09-19 09:18:42:591 [main] INFO  org.apache.coyote.http11.Http11NioProtocol(DirectJDKLog.java 168) -Initializing ProtocolHandler ["http-nio-18080"]
2025-09-19 09:18:42:592 [main] INFO  org.apache.catalina.core.StandardService(DirectJDKLog.java 168) -Starting service [Tomcat]
2025-09-19 09:18:42:593 [main] INFO  org.apache.catalina.core.StandardEngine(DirectJDKLog.java 168) -Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-09-19 09:18:42:633 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/](DirectJDKLog.java 168) -Initializing Spring embedded WebApplicationContext
2025-09-19 09:18:42:633 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext(ServletWebServerApplicationContext.java 301) -Root WebApplicationContext: initialization completed in 1220 ms
2025-09-19 09:18:42:727 [main] INFO  org.hibernate.jpa.internal.util.LogHelper(LogHelper.java 31) -HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-19 09:18:42:760 [main] INFO  org.hibernate.Version(Version.java 44) -HHH000412: Hibernate ORM core version 6.6.22.Final
2025-09-19 09:18:42:781 [main] INFO  o.hibernate.cache.internal.RegionFactoryInitiator(RegionFactoryInitiator.java 50) -HHH000026: Second-level cache disabled
2025-09-19 09:18:42:927 [main] INFO  o.s.o.j.persistenceunit.SpringPersistenceUnitInfo(SpringPersistenceUnitInfo.java 87) -No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-19 09:18:42:945 [main] INFO  com.zaxxer.hikari.HikariDataSource(HikariDataSource.java 109) -Spring-AI-Alibaba-JManus-h2-Pool - Starting...
2025-09-19 09:18:43:278 [main] INFO  com.zaxxer.hikari.pool.HikariPool(HikariPool.java 554) -Spring-AI-Alibaba-JManus-h2-Pool - Added connection conn0: url=jdbc:h2:file:./h2-data/openmanus_db user=SA
2025-09-19 09:18:43:279 [main] INFO  com.zaxxer.hikari.HikariDataSource(HikariDataSource.java 122) -Spring-AI-Alibaba-JManus-h2-Pool - Start completed.
2025-09-19 09:18:43:307 [main] INFO  org.hibernate.orm.connections.pooling(JdbcEnvironmentInitiator.java 163) -HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (Spring-AI-Alibaba-JManus-h2-Pool)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-19 09:18:43:485 [main] INFO  com.alibaba.cloud.ai.manus.config.JacksonConfig(JacksonConfig.java 73) -Successfully registered JavaTimeModule to org.springframework.ai.model.ModelOptionsUtils.OBJECT_MAPPER
2025-09-19 09:18:43:486 [main] INFO  com.alibaba.cloud.ai.manus.config.JacksonConfig(JacksonConfig.java 73) -Successfully registered JavaTimeModule to org.springframework.ai.util.json.JsonParser.OBJECT_MAPPER
2025-09-19 09:18:43:488 [main] INFO  com.alibaba.cloud.ai.manus.config.JacksonConfig(JacksonConfig.java 46) -Created ObjectMapper with JavaTimeModule and UTF-8 support registered
2025-09-19 09:18:44:009 [main] INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator(JtaPlatformInitiator.java 59) -HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-19 09:18:44:047 [main] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean(AbstractEntityManagerFactoryBean.java 447) -Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-19 09:18:44:254 [main] INFO  o.s.data.jpa.repository.query.QueryEnhancerFactory(QueryEnhancerFactory.java 49) -Hibernate is in classpath; If applicable, HQL parser will be used.
2025-09-19 09:18:44:651 [main] INFO  c.a.cloud.ai.manus.mcp.service.McpCacheManager(McpCacheManager.java 274) -MCP service loader configuration changed, updating thread pool
2025-09-19 09:18:44:651 [main] INFO  c.a.cloud.ai.manus.mcp.service.McpCacheManager(McpCacheManager.java 288) -Updated MCP service loader thread pool with max 10 concurrent connections
2025-09-19 09:18:44:651 [main] INFO  c.a.cloud.ai.manus.mcp.service.McpCacheManager(McpCacheManager.java 203) -Initializing MCP cache manager with double buffer mechanism
2025-09-19 09:18:44:653 [main] INFO  c.a.cloud.ai.manus.mcp.service.McpCacheManager(McpCacheManager.java 344) -No MCP server configurations found
2025-09-19 09:18:44:654 [main] INFO  c.a.cloud.ai.manus.mcp.service.McpCacheManager(McpCacheManager.java 214) -Initial cache loaded successfully with 0 services
2025-09-19 09:18:44:654 [main] INFO  c.a.cloud.ai.manus.mcp.service.McpCacheManager(McpCacheManager.java 236) -Scheduled cache update task started, interval: 10 minutes
2025-09-19 09:18:44:787 [main] INFO  com.alibaba.cloud.ai.manus.llm.LlmService(LlmService.java 111) -Checking and init ChatClient instance...
2025-09-19 09:18:44:801 [main] INFO  com.alibaba.cloud.ai.manus.llm.LlmService(LlmService.java 122) -Find default model: qwen-plus
2025-09-19 09:18:45:080 [main] INFO  com.alibaba.cloud.ai.manus.llm.LlmService(LlmService.java 247) -Build or update dynamic chat client for model: qwen-plus
2025-09-19 09:18:45:081 [main] INFO  com.alibaba.cloud.ai.manus.llm.LlmService(LlmService.java 127) -ChatClient init success
2025-09-19 09:18:45:229 [main] INFO  c.alibaba.cloud.ai.manus.config.PlaywrightConfig(PlaywrightConfig.java 60) -PLAYWRIGHT_BROWSERS_PATH not set, using default browser path
2025-09-19 09:18:45:231 [main] INFO  c.a.c.a.m.model.service.ModelDataInitialization(ModelDataInitialization.java 102) -Default model already exists: qwen-plus, skipping environment variable model creation
2025-09-19 09:18:45:545 [main] INFO  o.s.b.autoconfigure.h2.H2ConsoleAutoConfiguration(H2ConsoleAutoConfiguration.java 133) -H2 console available at '/h2-console'. Database available at 'jdbc:h2:file:./h2-data/openmanus_db'
2025-09-19 09:18:45:659 [main] INFO  org.apache.coyote.http11.Http11NioProtocol(DirectJDKLog.java 168) -Starting ProtocolHandler ["http-nio-18080"]
2025-09-19 09:18:45:677 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer(TomcatWebServer.java 243) -Tomcat started on port 18080 (http) with context path '/'
2025-09-19 09:18:45:687 [main] INFO  com.alibaba.cloud.ai.manus.config.ConfigService(ConfigService.java 70) -Found 33 configuration beans
2025-09-19 09:18:45:688 [main] INFO  com.alibaba.cloud.ai.manus.config.ConfigService(ConfigService.java 85) -Cleaning up obsolete configurations not defined in ManusProperties...
2025-09-19 09:18:45:702 [main] INFO  com.alibaba.cloud.ai.manus.config.ConfigService(ConfigService.java 102) -âœ… No obsolete configurations found
2025-09-19 09:18:45:725 [main] INFO  c.a.cloud.ai.manus.OpenManusSpringBootApplication(StartupInfoLogger.java 59) -Started OpenManusSpringBootApplication in 4.681 seconds (process running for 5.055)
2025-09-19 09:18:45:730 [main] INFO  c.a.c.a.m.config.startUp.ConfigAppStartupListener(ConfigAppStartupListener.java 60) -Configuration system initialized with 17 total configs
2025-09-19 09:18:45:730 [main] INFO  c.a.c.a.m.config.startUp.ConfigAppStartupListener(ConfigAppStartupListener.java 61) -Group 'manus': 17 configs
2025-09-19 09:18:45:731 [main] INFO  c.a.c.a.m.config.startUp.ConfigAppStartupListener(ConfigAppStartupListener.java 68) -1 configs are using custom values
2025-09-19 09:18:45:731 [main] INFO  c.a.c.a.m.config.startUp.ConfigAppStartupListener(ConfigAppStartupListener.java 78) -Starting to initialize dynamic agents...
2025-09-19 09:18:45:733 [main] INFO  c.a.c.ai.manus.agent.service.DynamicAgentScanner(DynamicAgentScanner.java 93) -Checking for deprecated @DynamicAgentDefinition annotation usage...
2025-09-19 09:18:45:769 [main] INFO  c.a.c.ai.manus.agent.service.DynamicAgentScanner(DynamicAgentScanner.java 174) -âœ… No deprecated @DynamicAgentDefinition annotations found. System can start normally.
2025-09-19 09:18:45:769 [main] INFO  c.a.c.ai.manus.agent.service.DynamicAgentScanner(DynamicAgentScanner.java 75) -âœ… Force override from YAML enabled - Starting to scan and override agents from YAML configuration files...
2025-09-19 09:18:45:769 [main] INFO  c.a.c.ai.manus.agent.service.DynamicAgentScanner(DynamicAgentScanner.java 181) -ðŸ” Starting to scan YAML agent configuration files...
2025-09-19 09:18:45:771 [main] INFO  c.a.c.a.m.a.startupAgent.StartupAgentConfigLoader(StartupAgentConfigLoader.java 231) -Scanned 0 startup agents: []
2025-09-19 09:18:45:772 [main] INFO  c.a.c.ai.manus.agent.service.DynamicAgentScanner(DynamicAgentScanner.java 212) -âœ… YAML agent configuration scanning completed - Total: 0, Created: 0, Overridden: 0
2025-09-19 09:18:45:772 [main] INFO  c.a.c.ai.manus.agent.service.DynamicAgentScanner(DynamicAgentScanner.java 81) -âœ… Dynamic agent override from YAML files completed
2025-09-19 09:18:45:772 [main] INFO  c.a.c.a.m.config.startUp.ConfigAppStartupListener(ConfigAppStartupListener.java 80) -Dynamic agents initialization completed
2025-09-19 09:18:45:772 [main] INFO  c.a.c.a.m.tool.database.DatabaseUseStartupListener(DatabaseUseStartupListener.java 48) -Starting to initialize database configurations...
2025-09-19 09:18:45:774 [main] INFO  c.a.cloud.ai.manus.tool.database.DataSourceService(DataSourceService.java 62) -Added datasource 'amanus' with url: jdbc:mysql://127.0.0.1:3306/amanus?serverTimezone=UTC&useUnicode=true&characterEncoding=utf8 and type: mysql
2025-09-19 09:18:45:774 [main] INFO  c.a.c.a.m.tool.database.DatabaseUseStartupListener(DatabaseUseStartupListener.java 100) -Initialized datasource 'amanus' (type: mysql)
2025-09-19 09:18:45:774 [main] INFO  c.a.cloud.ai.manus.tool.database.DataSourceService(DataSourceService.java 62) -Added datasource 'testdb' with url: jdbc:h2:file:./h2-data/testdb;MODE=MYSQL;DATABASE_TO_LOWER=TRUE and type: h2
2025-09-19 09:18:45:774 [main] INFO  c.a.c.a.m.tool.database.DatabaseUseStartupListener(DatabaseUseStartupListener.java 100) -Initialized datasource 'testdb' (type: h2)
2025-09-19 09:18:45:774 [main] INFO  c.a.c.a.m.tool.database.DatabaseUseStartupListener(DatabaseUseStartupListener.java 68) -Database configurations initialized with 2 datasources
2025-09-19 09:18:45:775 [main] INFO  c.a.c.a.m.tool.database.DatabaseUseStartupListener(DatabaseUseStartupListener.java 150) -
====================================================================================================
DATABASE DATASOURCE SUMMARY
====================================================================================================
â”‚ Datasource: amanus       â”‚ Type: mysql    â”‚ Status: âœ“ INSTANTIATED â”‚ URL: jdbc:mysql://127.0.0.1:3306/amanus?serverTimezone=UTC&useUnicode=true&characterEncoding=utf8 â”‚
â”‚ Datasource: testdb       â”‚ Type: h2       â”‚ Status: âœ“ INSTANTIATED â”‚ URL: jdbc:h2:file:./h2-data/testdb;MODE=MYSQL;DATABASE_TO_LOWER=TRUE â”‚
----------------------------------------------------------------------------------------------------
â”‚ SUMMARY: Total=2, Instantiated=2, Disabled=0, Failed=0 â”‚
====================================================================================================


2025-09-19 09:18:45:778 [main] INFO  c.a.c.a.m.tool.jsxGenerator.JsxGeneratorService(JsxGeneratorService.java 69) -JsxGeneratorService initialized
2025-09-19 09:18:45:778 [main] INFO  c.a.c.a.m.tool.jsxGenerator.JsxGeneratorService(JsxGeneratorService.java 442) -Registered template: counter-button
2025-09-19 09:18:45:778 [main] INFO  c.a.c.a.m.tool.jsxGenerator.JsxGeneratorService(JsxGeneratorService.java 442) -Registered template: data-form
2025-09-19 09:18:45:778 [main] INFO  c.a.c.a.m.tool.jsxGenerator.JsxGeneratorService(JsxGeneratorService.java 203) -Default templates initialized: [counter-button, data-form]
2025-09-19 09:18:45:778 [main] INFO  c.a.c.ai.manus.tool.textOperator.TextFileService(TextFileService.java 76) -TextFileService initialized
2025-09-19 09:18:45:780 [main] INFO  c.a.c.a.manus.cron.scheduler.DynamicCronTaskLoader(DynamicCronTaskLoader.java 93) -Loaded 0 enabled scheduled tasks
2025-09-19 09:18:45:781 [main] INFO  c.a.c.a.manus.cron.scheduler.DynamicCronTaskLoader(DynamicCronTaskLoader.java 52) -Scheduled task loading completed
2025-09-19 09:18:45:813 [main] INFO  c.a.c.a.m.n.service.NamespaceDataInitialization(NamespaceDataInitialization.java 53) -1 namespaces already exist, skipping default namespace initialization
2025-09-19 09:18:45:815 [main] INFO  c.a.c.ai.manus.config.startUp.AppStartupListener(AppStartupListener.java 54) -Application started, attempting to open browser to access: http://localhost:18080/ui/index.html
2025-09-19 09:18:45:842 [main] INFO  c.a.c.ai.manus.config.startUp.AppStartupListener(AppStartupListener.java 75) -Successfully opened browser via macOS open command
2025-09-19 09:18:45:844 [main] INFO  c.a.c.a.m.s.initializer.SubplanToolInitializer(SubplanToolInitializer.java 54) -Starting subplan tools initialization...
2025-09-19 09:18:45:844 [main] INFO  c.a.c.a.m.s.initializer.SubplanToolInitializer(SubplanToolInitializer.java 74) -Initializing plan templates...
2025-09-19 09:18:45:853 [main] INFO  c.a.c.a.m.s.initializer.SubplanToolInitializer(SubplanToolInitializer.java 113) -Initializing predefined subplan tools...
2025-09-19 09:18:45:855 [main] INFO  c.a.c.a.m.s.initializer.SubplanToolInitializer(SubplanToolInitializer.java 63) -Subplan tools initialization completed successfully
2025-09-19 09:18:46:722 [http-nio-18080-exec-1] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/](DirectJDKLog.java 168) -Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-19 09:18:46:723 [http-nio-18080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet(FrameworkServlet.java 532) -Initializing Servlet 'dispatcherServlet'
2025-09-19 09:18:46:724 [http-nio-18080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet(FrameworkServlet.java 554) -Completed initialization in 1 ms
2025-09-19 09:18:46:910 [http-nio-18080-exec-4] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: browser_use
2025-09-19 09:18:46:912 [http-nio-18080-exec-4] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: database_use
2025-09-19 09:18:46:912 [http-nio-18080-exec-4] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: terminate
2025-09-19 09:18:46:916 [http-nio-18080-exec-4] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: bash
2025-09-19 09:18:46:917 [http-nio-18080-exec-4] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: doc_loader
2025-09-19 09:18:46:918 [http-nio-18080-exec-4] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: text_file_operator
2025-09-19 09:18:46:921 [http-nio-18080-exec-4] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: table_processor
2025-09-19 09:18:46:927 [http-nio-18080-exec-4] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: file_merge_tool
2025-09-19 09:18:46:932 [http-nio-18080-exec-4] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: form_input
2025-09-19 09:18:46:932 [http-nio-18080-exec-4] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: data_split_tool
2025-09-19 09:18:46:935 [http-nio-18080-exec-4] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: map_output_tool
2025-09-19 09:18:46:937 [http-nio-18080-exec-4] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: reduce_operation_tool
2025-09-19 09:18:46:940 [http-nio-18080-exec-4] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: mapreduce_finalize_tool
2025-09-19 09:18:46:941 [http-nio-18080-exec-4] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: cron_tool
2025-09-19 09:18:46:942 [http-nio-18080-exec-4] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: excel_processor
2025-09-19 09:18:46:943 [http-nio-18080-exec-4] INFO  c.a.c.ai.manus.subplan.service.SubplanToolService(SubplanToolService.java 93) -Creating subplan tool callbacks for planId: 50c17635-c380-4606-85e4-65222431a794, rootPlanId: 50c17635-c380-4606-85e4-65222431a794
2025-09-19 09:18:46:984 [http-nio-18080-exec-4] INFO  c.a.c.ai.manus.subplan.service.SubplanToolService(SubplanToolService.java 106) -Found 4 subplan tools to register
2025-09-19 09:18:46:988 [http-nio-18080-exec-4] INFO  c.a.c.ai.manus.subplan.service.SubplanToolService(SubplanToolService.java 130) -Successfully registered subplan tool: extract_relevant_content -> extract_relevant_content_template
2025-09-19 09:18:46:989 [http-nio-18080-exec-4] INFO  c.a.c.ai.manus.subplan.service.SubplanToolService(SubplanToolService.java 130) -Successfully registered subplan tool: searchShenxun -> planTemplate-1758087694822
2025-09-19 09:18:46:989 [http-nio-18080-exec-4] INFO  c.a.c.ai.manus.subplan.service.SubplanToolService(SubplanToolService.java 130) -Successfully registered subplan tool: summaryResult -> planTemplate-1758202965673
2025-09-19 09:18:46:989 [http-nio-18080-exec-4] INFO  c.a.c.ai.manus.subplan.service.SubplanToolService(SubplanToolService.java 130) -Successfully registered subplan tool: summaryStructure -> planTemplate-1758202965693
2025-09-19 09:18:46:989 [http-nio-18080-exec-4] INFO  c.a.c.ai.manus.subplan.service.SubplanToolService(SubplanToolService.java 144) -Created 4 subplan tool callbacks
2025-09-19 09:18:46:997 [http-nio-18080-exec-4] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 314) -Registered 4 subplan tools
2025-09-19 09:18:46:998 [http-nio-18080-exec-4] INFO  c.a.cloud.ai.manus.mcp.service.McpCacheManager(McpCacheManager.java 553) -Cache invalidation requested for plan: 50c17635-c380-4606-85e4-65222431a794, but using double buffer mechanism - no action needed
2025-09-19 09:18:47:140 [http-nio-18080-exec-7] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244161991
2025-09-19 09:18:52:047 [http-nio-18080-exec-1] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244161991
2025-09-19 09:18:55:734 [http-nio-18080-exec-9] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: browser_use
2025-09-19 09:18:55:741 [http-nio-18080-exec-9] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: database_use
2025-09-19 09:18:55:741 [http-nio-18080-exec-9] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: terminate
2025-09-19 09:18:55:741 [http-nio-18080-exec-9] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: bash
2025-09-19 09:18:55:741 [http-nio-18080-exec-9] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: doc_loader
2025-09-19 09:18:55:741 [http-nio-18080-exec-9] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: text_file_operator
2025-09-19 09:18:55:741 [http-nio-18080-exec-9] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: table_processor
2025-09-19 09:18:55:742 [http-nio-18080-exec-9] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: file_merge_tool
2025-09-19 09:18:55:742 [http-nio-18080-exec-9] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: form_input
2025-09-19 09:18:55:742 [http-nio-18080-exec-9] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: data_split_tool
2025-09-19 09:18:55:743 [http-nio-18080-exec-9] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: map_output_tool
2025-09-19 09:18:55:743 [http-nio-18080-exec-9] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: reduce_operation_tool
2025-09-19 09:18:55:743 [http-nio-18080-exec-9] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: mapreduce_finalize_tool
2025-09-19 09:18:55:744 [http-nio-18080-exec-9] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: cron_tool
2025-09-19 09:18:55:744 [http-nio-18080-exec-9] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: excel_processor
2025-09-19 09:18:55:744 [http-nio-18080-exec-9] INFO  c.a.c.ai.manus.subplan.service.SubplanToolService(SubplanToolService.java 93) -Creating subplan tool callbacks for planId: d61f4072-e2a9-452e-8a5d-135161e7b909, rootPlanId: d61f4072-e2a9-452e-8a5d-135161e7b909
2025-09-19 09:18:55:753 [http-nio-18080-exec-9] INFO  c.a.c.ai.manus.subplan.service.SubplanToolService(SubplanToolService.java 106) -Found 4 subplan tools to register
2025-09-19 09:18:55:754 [http-nio-18080-exec-9] INFO  c.a.c.ai.manus.subplan.service.SubplanToolService(SubplanToolService.java 130) -Successfully registered subplan tool: extract_relevant_content -> extract_relevant_content_template
2025-09-19 09:18:55:754 [http-nio-18080-exec-9] INFO  c.a.c.ai.manus.subplan.service.SubplanToolService(SubplanToolService.java 130) -Successfully registered subplan tool: searchShenxun -> planTemplate-1758087694822
2025-09-19 09:18:55:755 [http-nio-18080-exec-9] INFO  c.a.c.ai.manus.subplan.service.SubplanToolService(SubplanToolService.java 130) -Successfully registered subplan tool: summaryResult -> planTemplate-1758202965673
2025-09-19 09:18:55:755 [http-nio-18080-exec-9] INFO  c.a.c.ai.manus.subplan.service.SubplanToolService(SubplanToolService.java 130) -Successfully registered subplan tool: summaryStructure -> planTemplate-1758202965693
2025-09-19 09:18:55:755 [http-nio-18080-exec-9] INFO  c.a.c.ai.manus.subplan.service.SubplanToolService(SubplanToolService.java 144) -Created 4 subplan tool callbacks
2025-09-19 09:18:55:757 [http-nio-18080-exec-9] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 314) -Registered 4 subplan tools
2025-09-19 09:18:55:763 [http-nio-18080-exec-9] INFO  c.a.cloud.ai.manus.mcp.service.McpCacheManager(McpCacheManager.java 553) -Cache invalidation requested for plan: d61f4072-e2a9-452e-8a5d-135161e7b909, but using double buffer mechanism - no action needed
2025-09-19 09:18:57:443 [http-nio-18080-exec-3] INFO  c.a.c.a.m.c.controller.CoordinatorToolController(CoordinatorToolController.java 116) -Getting or creating coordinator tool for plan template: planTemplate-1758202965693
2025-09-19 09:18:57:469 [http-nio-18080-exec-6] INFO  c.a.cloud.ai.manus.model.service.ModelServiceImpl(ModelServiceImpl.java 432) -Sending HTTP request to: https://dashscope.aliyuncs.com/compatible-mode/v1/models
2025-09-19 09:18:57:780 [http-nio-18080-exec-6] INFO  c.a.cloud.ai.manus.model.service.ModelServiceImpl(ModelServiceImpl.java 442) -HTTP request completed - Status code: 200, Duration: 310ms
2025-09-19 09:18:57:781 [http-nio-18080-exec-6] INFO  c.a.cloud.ai.manus.model.service.ModelServiceImpl(ModelServiceImpl.java 321) -Successfully parsed response, obtained 97 available models
2025-09-19 09:18:57:781 [http-nio-18080-exec-6] INFO  c.a.cloud.ai.manus.model.service.ModelServiceImpl(ModelServiceImpl.java 447) -Successfully parsed response, obtained 97 models
2025-09-19 09:19:01:505 [http-nio-18080-exec-3] INFO  c.a.c.ai.manus.runtime.controller.ManusController(ManusController.java 230) -ðŸ”— [HTTP] Received query request from HTTP client: 
2025-09-19 09:19:01:509 [http-nio-18080-exec-3] INFO  c.a.c.ai.manus.runtime.controller.ManusController(ManusController.java 244) -Tool not published, using toolName as planTemplateId: planTemplate-1758202965693
2025-09-19 09:19:01:515 [http-nio-18080-exec-3] INFO  c.a.c.ai.manus.runtime.controller.ManusController(ManusController.java 546) -Replacing parameter placeholders in plan template with input parameters: [planId]
2025-09-19 09:19:01:555 [http-nio-18080-exec-3] INFO  c.a.c.ai.manus.runtime.service.PlanningCoordinator(PlanningCoordinator.java 156) -Starting direct plan execution for plan: null
2025-09-19 09:19:01:555 [http-nio-18080-exec-3] INFO  c.a.c.a.m.r.executor.factory.PlanExecutorFactory(PlanExecutorFactory.java 162) -Creating executor for plan type: dynamic_agent (planId: null)
2025-09-19 09:19:01:569 [http-nio-18080-exec-3] INFO  c.a.c.a.m.runtime.executor.LevelBasedExecutorPool(LevelBasedExecutorPool.java 207) -Created executor pool for depth level 0: level-0-executor-0 (core: 5, max: 20, queue: 100)
2025-09-19 09:19:01:606 [level-0-executor-0-thread-1] INFO  c.a.c.a.m.r.service.NewRepoPlanExecutionRecorder(NewRepoPlanExecutionRecorder.java 822) -Successfully created plan relationship for currentPlanId: plan-1758244741509, parentPlanId: null, rootPlanId: plan-1758244741509
2025-09-19 09:19:01:607 [level-0-executor-0-thread-1] INFO  c.a.c.a.m.r.service.NewRepoPlanExecutionRecorder(NewRepoPlanExecutionRecorder.java 148) -Successfully saved plan execution record for ID: plan-1758244741509 with 1 steps
2025-09-19 09:19:01:617 [level-0-executor-0-thread-1] INFO  c.a.cloud.ai.manus.agent.service.AgentServiceImpl(AgentServiceImpl.java 349) -Create new BaseAgent: ConfigurableDynaAgent, planId: plan-1758244741509
2025-09-19 09:19:01:617 [level-0-executor-0-thread-1] INFO  c.a.cloud.ai.manus.agent.service.AgentServiceImpl(AgentServiceImpl.java 204) -No model entity provided for ConfigurableDynaAgent, using null model
2025-09-19 09:19:01:620 [level-0-executor-0-thread-1] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: browser_use
2025-09-19 09:19:01:620 [level-0-executor-0-thread-1] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: database_use
2025-09-19 09:19:01:620 [level-0-executor-0-thread-1] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: terminate
2025-09-19 09:19:01:620 [level-0-executor-0-thread-1] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: bash
2025-09-19 09:19:01:620 [level-0-executor-0-thread-1] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: doc_loader
2025-09-19 09:19:01:620 [level-0-executor-0-thread-1] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: text_file_operator
2025-09-19 09:19:01:620 [level-0-executor-0-thread-1] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: table_processor
2025-09-19 09:19:01:620 [level-0-executor-0-thread-1] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: file_merge_tool
2025-09-19 09:19:01:621 [level-0-executor-0-thread-1] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: form_input
2025-09-19 09:19:01:621 [level-0-executor-0-thread-1] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: data_split_tool
2025-09-19 09:19:01:621 [level-0-executor-0-thread-1] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: map_output_tool
2025-09-19 09:19:01:621 [level-0-executor-0-thread-1] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: reduce_operation_tool
2025-09-19 09:19:01:621 [level-0-executor-0-thread-1] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: mapreduce_finalize_tool
2025-09-19 09:19:01:621 [level-0-executor-0-thread-1] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: cron_tool
2025-09-19 09:19:01:621 [level-0-executor-0-thread-1] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: excel_processor
2025-09-19 09:19:01:621 [level-0-executor-0-thread-1] INFO  c.a.c.ai.manus.subplan.service.SubplanToolService(SubplanToolService.java 93) -Creating subplan tool callbacks for planId: plan-1758244741509, rootPlanId: plan-1758244741509
2025-09-19 09:19:01:622 [level-0-executor-0-thread-1] INFO  c.a.c.ai.manus.subplan.service.SubplanToolService(SubplanToolService.java 106) -Found 4 subplan tools to register
2025-09-19 09:19:01:623 [level-0-executor-0-thread-1] INFO  c.a.c.ai.manus.subplan.service.SubplanToolService(SubplanToolService.java 130) -Successfully registered subplan tool: extract_relevant_content -> extract_relevant_content_template
2025-09-19 09:19:01:623 [level-0-executor-0-thread-1] INFO  c.a.c.ai.manus.subplan.service.SubplanToolService(SubplanToolService.java 130) -Successfully registered subplan tool: searchShenxun -> planTemplate-1758087694822
2025-09-19 09:19:01:624 [level-0-executor-0-thread-1] INFO  c.a.c.ai.manus.subplan.service.SubplanToolService(SubplanToolService.java 130) -Successfully registered subplan tool: summaryResult -> planTemplate-1758202965673
2025-09-19 09:19:01:624 [level-0-executor-0-thread-1] INFO  c.a.c.ai.manus.subplan.service.SubplanToolService(SubplanToolService.java 130) -Successfully registered subplan tool: summaryStructure -> planTemplate-1758202965693
2025-09-19 09:19:01:624 [level-0-executor-0-thread-1] INFO  c.a.c.ai.manus.subplan.service.SubplanToolService(SubplanToolService.java 144) -Created 4 subplan tool callbacks
2025-09-19 09:19:01:625 [level-0-executor-0-thread-1] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 314) -Registered 4 subplan tools
2025-09-19 09:19:01:635 [level-0-executor-0-thread-1] INFO  c.a.c.a.m.r.service.NewRepoPlanExecutionRecorder(NewRepoPlanExecutionRecorder.java 329) -Successfully recorded step start for stepId: step-a1ecfc1b-1a8a-4b65-b750-a6fe9bb4b3e8, planId: plan-1758244741509, status: RUNNING
2025-09-19 09:19:01:635 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 1/40
2025-09-19 09:19:01:635 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:19:01:636 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758244741509
- Available files: None

2025-09-19 09:19:01:636 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:19:01:636 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
No operation performed yet

2025-09-19 09:19:01:636 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:19:01:636 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758244741509
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:19:01:636 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:19:01:751 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 134) -Exception occurred
java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:107)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:92)
	at org.springframework.ai.openai.api.OpenAiApi$FunctionTool$Function.<init>(OpenAiApi.java:888)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$getFunctionTools$21(OpenAiChatModel.java:674)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.ai.openai.OpenAiChatModel.getFunctionTools(OpenAiChatModel.java:676)
	at org.springframework.ai.openai.OpenAiChatModel.createRequest(OpenAiChatModel.java:615)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalStream$13(OpenAiChatModel.java:272)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxPublishOn.subscribeOrReturn(FluxPublishOn.java:92)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:55)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891)
	at reactor.core.publisher.Flux.blockLast(Flux.java:2816)
	at com.alibaba.cloud.ai.manus.llm.StreamingResponseHandler.processStreamingResponse(StreamingResponseHandler.java:222)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.executeWithRetry(DynamicAgent.java:187)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.think(DynamicAgent.java:130)
	at com.alibaba.cloud.ai.manus.agent.ReActAgent.step(ReActAgent.java:83)
	at com.alibaba.cloud.ai.manus.agent.BaseAgent.run(BaseAgent.java:222)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.executeStep(AbstractPlanExecutor.java:109)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.lambda$0(AbstractPlanExecutor.java:228)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Flux.blockLast(Flux.java:2817)
		... 11 common frames omitted
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2666)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:741)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipComma(ReaderBasedJsonParser.java:2429)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:924)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR._deserializeNR(UntypedObjectDeserializerNR.java:227)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserialize(UntypedObjectDeserializerNR.java:70)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4931)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3868)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3851)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:104)
	... 39 common frames omitted
2025-09-19 09:19:01:757 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: in_progress
2025-09-19 09:19:01:758 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 2/40
2025-09-19 09:19:01:758 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:19:01:758 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758244741509
- Available files: None

2025-09-19 09:19:01:758 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:19:01:758 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
No operation performed yet

2025-09-19 09:19:01:758 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:19:01:759 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758244741509
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:19:01:759 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:19:01:771 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 134) -Exception occurred
java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:107)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:92)
	at org.springframework.ai.openai.api.OpenAiApi$FunctionTool$Function.<init>(OpenAiApi.java:888)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$getFunctionTools$21(OpenAiChatModel.java:674)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.ai.openai.OpenAiChatModel.getFunctionTools(OpenAiChatModel.java:676)
	at org.springframework.ai.openai.OpenAiChatModel.createRequest(OpenAiChatModel.java:615)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalStream$13(OpenAiChatModel.java:272)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxPublishOn.subscribeOrReturn(FluxPublishOn.java:92)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:55)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891)
	at reactor.core.publisher.Flux.blockLast(Flux.java:2816)
	at com.alibaba.cloud.ai.manus.llm.StreamingResponseHandler.processStreamingResponse(StreamingResponseHandler.java:222)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.executeWithRetry(DynamicAgent.java:187)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.think(DynamicAgent.java:130)
	at com.alibaba.cloud.ai.manus.agent.ReActAgent.step(ReActAgent.java:83)
	at com.alibaba.cloud.ai.manus.agent.BaseAgent.run(BaseAgent.java:222)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.executeStep(AbstractPlanExecutor.java:109)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.lambda$0(AbstractPlanExecutor.java:228)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Flux.blockLast(Flux.java:2817)
		... 11 common frames omitted
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2666)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:741)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipComma(ReaderBasedJsonParser.java:2429)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:924)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR._deserializeNR(UntypedObjectDeserializerNR.java:227)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserialize(UntypedObjectDeserializerNR.java:70)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4931)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3868)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3851)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:104)
	... 39 common frames omitted
2025-09-19 09:19:01:771 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: in_progress
2025-09-19 09:19:01:771 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 3/40
2025-09-19 09:19:01:771 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:19:01:771 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758244741509
- Available files: None

2025-09-19 09:19:01:771 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:19:01:771 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
No operation performed yet

2025-09-19 09:19:01:771 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:19:01:771 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758244741509
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:19:01:772 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:19:01:790 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 134) -Exception occurred
java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:107)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:92)
	at org.springframework.ai.openai.api.OpenAiApi$FunctionTool$Function.<init>(OpenAiApi.java:888)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$getFunctionTools$21(OpenAiChatModel.java:674)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.ai.openai.OpenAiChatModel.getFunctionTools(OpenAiChatModel.java:676)
	at org.springframework.ai.openai.OpenAiChatModel.createRequest(OpenAiChatModel.java:615)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalStream$13(OpenAiChatModel.java:272)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxPublishOn.subscribeOrReturn(FluxPublishOn.java:92)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:55)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891)
	at reactor.core.publisher.Flux.blockLast(Flux.java:2816)
	at com.alibaba.cloud.ai.manus.llm.StreamingResponseHandler.processStreamingResponse(StreamingResponseHandler.java:222)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.executeWithRetry(DynamicAgent.java:187)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.think(DynamicAgent.java:130)
	at com.alibaba.cloud.ai.manus.agent.ReActAgent.step(ReActAgent.java:83)
	at com.alibaba.cloud.ai.manus.agent.BaseAgent.run(BaseAgent.java:222)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.executeStep(AbstractPlanExecutor.java:109)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.lambda$0(AbstractPlanExecutor.java:228)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Flux.blockLast(Flux.java:2817)
		... 11 common frames omitted
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2666)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:741)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipComma(ReaderBasedJsonParser.java:2429)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:924)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR._deserializeNR(UntypedObjectDeserializerNR.java:227)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserialize(UntypedObjectDeserializerNR.java:70)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4931)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3868)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3851)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:104)
	... 39 common frames omitted
2025-09-19 09:19:01:792 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: in_progress
2025-09-19 09:19:01:792 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 4/40
2025-09-19 09:19:01:793 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:19:01:793 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758244741509
- Available files: None

2025-09-19 09:19:01:793 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:19:01:793 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
No operation performed yet

2025-09-19 09:19:01:794 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:19:01:794 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758244741509
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:19:01:794 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:19:01:808 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 134) -Exception occurred
java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:107)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:92)
	at org.springframework.ai.openai.api.OpenAiApi$FunctionTool$Function.<init>(OpenAiApi.java:888)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$getFunctionTools$21(OpenAiChatModel.java:674)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.ai.openai.OpenAiChatModel.getFunctionTools(OpenAiChatModel.java:676)
	at org.springframework.ai.openai.OpenAiChatModel.createRequest(OpenAiChatModel.java:615)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalStream$13(OpenAiChatModel.java:272)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxPublishOn.subscribeOrReturn(FluxPublishOn.java:92)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:55)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891)
	at reactor.core.publisher.Flux.blockLast(Flux.java:2816)
	at com.alibaba.cloud.ai.manus.llm.StreamingResponseHandler.processStreamingResponse(StreamingResponseHandler.java:222)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.executeWithRetry(DynamicAgent.java:187)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.think(DynamicAgent.java:130)
	at com.alibaba.cloud.ai.manus.agent.ReActAgent.step(ReActAgent.java:83)
	at com.alibaba.cloud.ai.manus.agent.BaseAgent.run(BaseAgent.java:222)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.executeStep(AbstractPlanExecutor.java:109)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.lambda$0(AbstractPlanExecutor.java:228)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Flux.blockLast(Flux.java:2817)
		... 11 common frames omitted
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2666)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:741)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipComma(ReaderBasedJsonParser.java:2429)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:924)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR._deserializeNR(UntypedObjectDeserializerNR.java:227)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserialize(UntypedObjectDeserializerNR.java:70)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4931)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3868)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3851)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:104)
	... 39 common frames omitted
2025-09-19 09:19:01:809 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: in_progress
2025-09-19 09:19:01:809 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 5/40
2025-09-19 09:19:01:809 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:19:01:809 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758244741509
- Available files: None

2025-09-19 09:19:01:809 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:19:01:810 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
No operation performed yet

2025-09-19 09:19:01:810 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:19:01:810 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758244741509
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:19:01:810 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:19:01:831 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 134) -Exception occurred
java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:107)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:92)
	at org.springframework.ai.openai.api.OpenAiApi$FunctionTool$Function.<init>(OpenAiApi.java:888)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$getFunctionTools$21(OpenAiChatModel.java:674)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.ai.openai.OpenAiChatModel.getFunctionTools(OpenAiChatModel.java:676)
	at org.springframework.ai.openai.OpenAiChatModel.createRequest(OpenAiChatModel.java:615)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalStream$13(OpenAiChatModel.java:272)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxPublishOn.subscribeOrReturn(FluxPublishOn.java:92)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:55)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891)
	at reactor.core.publisher.Flux.blockLast(Flux.java:2816)
	at com.alibaba.cloud.ai.manus.llm.StreamingResponseHandler.processStreamingResponse(StreamingResponseHandler.java:222)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.executeWithRetry(DynamicAgent.java:187)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.think(DynamicAgent.java:130)
	at com.alibaba.cloud.ai.manus.agent.ReActAgent.step(ReActAgent.java:83)
	at com.alibaba.cloud.ai.manus.agent.BaseAgent.run(BaseAgent.java:222)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.executeStep(AbstractPlanExecutor.java:109)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.lambda$0(AbstractPlanExecutor.java:228)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Flux.blockLast(Flux.java:2817)
		... 11 common frames omitted
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2666)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:741)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipComma(ReaderBasedJsonParser.java:2429)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:924)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR._deserializeNR(UntypedObjectDeserializerNR.java:227)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserialize(UntypedObjectDeserializerNR.java:70)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4931)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3868)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3851)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:104)
	... 39 common frames omitted
2025-09-19 09:19:01:832 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: in_progress
2025-09-19 09:19:01:833 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 6/40
2025-09-19 09:19:01:833 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:19:01:833 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758244741509
- Available files: None

2025-09-19 09:19:01:833 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:19:01:833 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
No operation performed yet

2025-09-19 09:19:01:833 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:19:01:833 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758244741509
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:19:01:833 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:19:01:848 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 134) -Exception occurred
java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:107)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:92)
	at org.springframework.ai.openai.api.OpenAiApi$FunctionTool$Function.<init>(OpenAiApi.java:888)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$getFunctionTools$21(OpenAiChatModel.java:674)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.ai.openai.OpenAiChatModel.getFunctionTools(OpenAiChatModel.java:676)
	at org.springframework.ai.openai.OpenAiChatModel.createRequest(OpenAiChatModel.java:615)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalStream$13(OpenAiChatModel.java:272)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxPublishOn.subscribeOrReturn(FluxPublishOn.java:92)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:55)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891)
	at reactor.core.publisher.Flux.blockLast(Flux.java:2816)
	at com.alibaba.cloud.ai.manus.llm.StreamingResponseHandler.processStreamingResponse(StreamingResponseHandler.java:222)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.executeWithRetry(DynamicAgent.java:187)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.think(DynamicAgent.java:130)
	at com.alibaba.cloud.ai.manus.agent.ReActAgent.step(ReActAgent.java:83)
	at com.alibaba.cloud.ai.manus.agent.BaseAgent.run(BaseAgent.java:222)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.executeStep(AbstractPlanExecutor.java:109)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.lambda$0(AbstractPlanExecutor.java:228)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Flux.blockLast(Flux.java:2817)
		... 11 common frames omitted
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2666)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:741)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipComma(ReaderBasedJsonParser.java:2429)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:924)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR._deserializeNR(UntypedObjectDeserializerNR.java:227)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserialize(UntypedObjectDeserializerNR.java:70)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4931)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3868)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3851)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:104)
	... 39 common frames omitted
2025-09-19 09:19:01:849 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: in_progress
2025-09-19 09:19:01:849 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 7/40
2025-09-19 09:19:01:849 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:19:01:849 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758244741509
- Available files: None

2025-09-19 09:19:01:850 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:19:01:850 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
No operation performed yet

2025-09-19 09:19:01:850 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:19:01:850 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758244741509
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:19:01:851 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:19:01:864 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 134) -Exception occurred
java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:107)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:92)
	at org.springframework.ai.openai.api.OpenAiApi$FunctionTool$Function.<init>(OpenAiApi.java:888)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$getFunctionTools$21(OpenAiChatModel.java:674)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.ai.openai.OpenAiChatModel.getFunctionTools(OpenAiChatModel.java:676)
	at org.springframework.ai.openai.OpenAiChatModel.createRequest(OpenAiChatModel.java:615)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalStream$13(OpenAiChatModel.java:272)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxPublishOn.subscribeOrReturn(FluxPublishOn.java:92)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:55)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891)
	at reactor.core.publisher.Flux.blockLast(Flux.java:2816)
	at com.alibaba.cloud.ai.manus.llm.StreamingResponseHandler.processStreamingResponse(StreamingResponseHandler.java:222)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.executeWithRetry(DynamicAgent.java:187)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.think(DynamicAgent.java:130)
	at com.alibaba.cloud.ai.manus.agent.ReActAgent.step(ReActAgent.java:83)
	at com.alibaba.cloud.ai.manus.agent.BaseAgent.run(BaseAgent.java:222)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.executeStep(AbstractPlanExecutor.java:109)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.lambda$0(AbstractPlanExecutor.java:228)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Flux.blockLast(Flux.java:2817)
		... 11 common frames omitted
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2666)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:741)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipComma(ReaderBasedJsonParser.java:2429)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:924)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR._deserializeNR(UntypedObjectDeserializerNR.java:227)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserialize(UntypedObjectDeserializerNR.java:70)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4931)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3868)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3851)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:104)
	... 39 common frames omitted
2025-09-19 09:19:01:865 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: in_progress
2025-09-19 09:19:01:865 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 8/40
2025-09-19 09:19:01:865 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:19:01:866 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758244741509
- Available files: None

2025-09-19 09:19:01:866 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:19:01:866 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
No operation performed yet

2025-09-19 09:19:01:866 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:19:01:866 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758244741509
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:19:01:866 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:19:01:884 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 134) -Exception occurred
java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:107)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:92)
	at org.springframework.ai.openai.api.OpenAiApi$FunctionTool$Function.<init>(OpenAiApi.java:888)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$getFunctionTools$21(OpenAiChatModel.java:674)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.ai.openai.OpenAiChatModel.getFunctionTools(OpenAiChatModel.java:676)
	at org.springframework.ai.openai.OpenAiChatModel.createRequest(OpenAiChatModel.java:615)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalStream$13(OpenAiChatModel.java:272)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxPublishOn.subscribeOrReturn(FluxPublishOn.java:92)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:55)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891)
	at reactor.core.publisher.Flux.blockLast(Flux.java:2816)
	at com.alibaba.cloud.ai.manus.llm.StreamingResponseHandler.processStreamingResponse(StreamingResponseHandler.java:222)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.executeWithRetry(DynamicAgent.java:187)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.think(DynamicAgent.java:130)
	at com.alibaba.cloud.ai.manus.agent.ReActAgent.step(ReActAgent.java:83)
	at com.alibaba.cloud.ai.manus.agent.BaseAgent.run(BaseAgent.java:222)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.executeStep(AbstractPlanExecutor.java:109)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.lambda$0(AbstractPlanExecutor.java:228)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Flux.blockLast(Flux.java:2817)
		... 11 common frames omitted
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2666)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:741)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipComma(ReaderBasedJsonParser.java:2429)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:924)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR._deserializeNR(UntypedObjectDeserializerNR.java:227)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserialize(UntypedObjectDeserializerNR.java:70)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4931)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3868)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3851)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:104)
	... 39 common frames omitted
2025-09-19 09:19:01:885 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: in_progress
2025-09-19 09:19:01:885 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 9/40
2025-09-19 09:19:01:885 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:19:01:885 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758244741509
- Available files: None

2025-09-19 09:19:01:885 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:19:01:886 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
No operation performed yet

2025-09-19 09:19:01:886 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:19:01:886 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758244741509
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:19:01:886 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:19:01:896 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 134) -Exception occurred
java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:107)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:92)
	at org.springframework.ai.openai.api.OpenAiApi$FunctionTool$Function.<init>(OpenAiApi.java:888)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$getFunctionTools$21(OpenAiChatModel.java:674)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.ai.openai.OpenAiChatModel.getFunctionTools(OpenAiChatModel.java:676)
	at org.springframework.ai.openai.OpenAiChatModel.createRequest(OpenAiChatModel.java:615)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalStream$13(OpenAiChatModel.java:272)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxPublishOn.subscribeOrReturn(FluxPublishOn.java:92)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:55)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891)
	at reactor.core.publisher.Flux.blockLast(Flux.java:2816)
	at com.alibaba.cloud.ai.manus.llm.StreamingResponseHandler.processStreamingResponse(StreamingResponseHandler.java:222)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.executeWithRetry(DynamicAgent.java:187)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.think(DynamicAgent.java:130)
	at com.alibaba.cloud.ai.manus.agent.ReActAgent.step(ReActAgent.java:83)
	at com.alibaba.cloud.ai.manus.agent.BaseAgent.run(BaseAgent.java:222)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.executeStep(AbstractPlanExecutor.java:109)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.lambda$0(AbstractPlanExecutor.java:228)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Flux.blockLast(Flux.java:2817)
		... 11 common frames omitted
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2666)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:741)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipComma(ReaderBasedJsonParser.java:2429)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:924)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR._deserializeNR(UntypedObjectDeserializerNR.java:227)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserialize(UntypedObjectDeserializerNR.java:70)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4931)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3868)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3851)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:104)
	... 39 common frames omitted
2025-09-19 09:19:01:897 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: in_progress
2025-09-19 09:19:01:897 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 10/40
2025-09-19 09:19:01:897 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:19:01:897 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758244741509
- Available files: None

2025-09-19 09:19:01:899 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:19:01:900 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
No operation performed yet

2025-09-19 09:19:01:900 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:19:01:900 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758244741509
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:19:01:900 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:19:01:914 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 134) -Exception occurred
java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:107)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:92)
	at org.springframework.ai.openai.api.OpenAiApi$FunctionTool$Function.<init>(OpenAiApi.java:888)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$getFunctionTools$21(OpenAiChatModel.java:674)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.ai.openai.OpenAiChatModel.getFunctionTools(OpenAiChatModel.java:676)
	at org.springframework.ai.openai.OpenAiChatModel.createRequest(OpenAiChatModel.java:615)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalStream$13(OpenAiChatModel.java:272)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxPublishOn.subscribeOrReturn(FluxPublishOn.java:92)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:55)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891)
	at reactor.core.publisher.Flux.blockLast(Flux.java:2816)
	at com.alibaba.cloud.ai.manus.llm.StreamingResponseHandler.processStreamingResponse(StreamingResponseHandler.java:222)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.executeWithRetry(DynamicAgent.java:187)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.think(DynamicAgent.java:130)
	at com.alibaba.cloud.ai.manus.agent.ReActAgent.step(ReActAgent.java:83)
	at com.alibaba.cloud.ai.manus.agent.BaseAgent.run(BaseAgent.java:222)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.executeStep(AbstractPlanExecutor.java:109)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.lambda$0(AbstractPlanExecutor.java:228)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Flux.blockLast(Flux.java:2817)
		... 11 common frames omitted
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2666)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:741)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipComma(ReaderBasedJsonParser.java:2429)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:924)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR._deserializeNR(UntypedObjectDeserializerNR.java:227)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserialize(UntypedObjectDeserializerNR.java:70)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4931)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3868)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3851)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:104)
	... 39 common frames omitted
2025-09-19 09:19:01:916 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: in_progress
2025-09-19 09:19:01:916 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 11/40
2025-09-19 09:19:01:916 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:19:01:916 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758244741509
- Available files: None

2025-09-19 09:19:01:917 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:19:01:917 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
No operation performed yet

2025-09-19 09:19:01:917 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:19:01:917 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758244741509
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:19:01:917 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:19:01:933 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 134) -Exception occurred
java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:107)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:92)
	at org.springframework.ai.openai.api.OpenAiApi$FunctionTool$Function.<init>(OpenAiApi.java:888)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$getFunctionTools$21(OpenAiChatModel.java:674)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.ai.openai.OpenAiChatModel.getFunctionTools(OpenAiChatModel.java:676)
	at org.springframework.ai.openai.OpenAiChatModel.createRequest(OpenAiChatModel.java:615)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalStream$13(OpenAiChatModel.java:272)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxPublishOn.subscribeOrReturn(FluxPublishOn.java:92)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:55)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891)
	at reactor.core.publisher.Flux.blockLast(Flux.java:2816)
	at com.alibaba.cloud.ai.manus.llm.StreamingResponseHandler.processStreamingResponse(StreamingResponseHandler.java:222)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.executeWithRetry(DynamicAgent.java:187)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.think(DynamicAgent.java:130)
	at com.alibaba.cloud.ai.manus.agent.ReActAgent.step(ReActAgent.java:83)
	at com.alibaba.cloud.ai.manus.agent.BaseAgent.run(BaseAgent.java:222)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.executeStep(AbstractPlanExecutor.java:109)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.lambda$0(AbstractPlanExecutor.java:228)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Flux.blockLast(Flux.java:2817)
		... 11 common frames omitted
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2666)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:741)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipComma(ReaderBasedJsonParser.java:2429)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:924)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR._deserializeNR(UntypedObjectDeserializerNR.java:227)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserialize(UntypedObjectDeserializerNR.java:70)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4931)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3868)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3851)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:104)
	... 39 common frames omitted
2025-09-19 09:19:01:934 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: in_progress
2025-09-19 09:19:01:934 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 12/40
2025-09-19 09:19:01:934 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:19:01:934 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758244741509
- Available files: None

2025-09-19 09:19:01:934 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:19:01:934 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
No operation performed yet

2025-09-19 09:19:01:935 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:19:01:935 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758244741509
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:19:01:935 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:19:01:946 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 134) -Exception occurred
java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:107)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:92)
	at org.springframework.ai.openai.api.OpenAiApi$FunctionTool$Function.<init>(OpenAiApi.java:888)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$getFunctionTools$21(OpenAiChatModel.java:674)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.ai.openai.OpenAiChatModel.getFunctionTools(OpenAiChatModel.java:676)
	at org.springframework.ai.openai.OpenAiChatModel.createRequest(OpenAiChatModel.java:615)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalStream$13(OpenAiChatModel.java:272)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxPublishOn.subscribeOrReturn(FluxPublishOn.java:92)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:55)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891)
	at reactor.core.publisher.Flux.blockLast(Flux.java:2816)
	at com.alibaba.cloud.ai.manus.llm.StreamingResponseHandler.processStreamingResponse(StreamingResponseHandler.java:222)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.executeWithRetry(DynamicAgent.java:187)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.think(DynamicAgent.java:130)
	at com.alibaba.cloud.ai.manus.agent.ReActAgent.step(ReActAgent.java:83)
	at com.alibaba.cloud.ai.manus.agent.BaseAgent.run(BaseAgent.java:222)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.executeStep(AbstractPlanExecutor.java:109)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.lambda$0(AbstractPlanExecutor.java:228)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Flux.blockLast(Flux.java:2817)
		... 11 common frames omitted
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2666)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:741)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipComma(ReaderBasedJsonParser.java:2429)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:924)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR._deserializeNR(UntypedObjectDeserializerNR.java:227)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserialize(UntypedObjectDeserializerNR.java:70)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4931)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3868)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3851)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:104)
	... 39 common frames omitted
2025-09-19 09:19:01:946 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: in_progress
2025-09-19 09:19:01:946 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 13/40
2025-09-19 09:19:01:946 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:19:01:946 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758244741509
- Available files: None

2025-09-19 09:19:01:946 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:19:01:947 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
No operation performed yet

2025-09-19 09:19:01:947 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:19:01:947 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758244741509
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:19:01:947 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:19:01:954 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 134) -Exception occurred
java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:107)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:92)
	at org.springframework.ai.openai.api.OpenAiApi$FunctionTool$Function.<init>(OpenAiApi.java:888)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$getFunctionTools$21(OpenAiChatModel.java:674)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.ai.openai.OpenAiChatModel.getFunctionTools(OpenAiChatModel.java:676)
	at org.springframework.ai.openai.OpenAiChatModel.createRequest(OpenAiChatModel.java:615)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalStream$13(OpenAiChatModel.java:272)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxPublishOn.subscribeOrReturn(FluxPublishOn.java:92)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:55)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891)
	at reactor.core.publisher.Flux.blockLast(Flux.java:2816)
	at com.alibaba.cloud.ai.manus.llm.StreamingResponseHandler.processStreamingResponse(StreamingResponseHandler.java:222)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.executeWithRetry(DynamicAgent.java:187)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.think(DynamicAgent.java:130)
	at com.alibaba.cloud.ai.manus.agent.ReActAgent.step(ReActAgent.java:83)
	at com.alibaba.cloud.ai.manus.agent.BaseAgent.run(BaseAgent.java:222)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.executeStep(AbstractPlanExecutor.java:109)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.lambda$0(AbstractPlanExecutor.java:228)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Flux.blockLast(Flux.java:2817)
		... 11 common frames omitted
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2666)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:741)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipComma(ReaderBasedJsonParser.java:2429)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:924)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR._deserializeNR(UntypedObjectDeserializerNR.java:227)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserialize(UntypedObjectDeserializerNR.java:70)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4931)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3868)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3851)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:104)
	... 39 common frames omitted
2025-09-19 09:19:01:955 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: in_progress
2025-09-19 09:19:01:955 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 14/40
2025-09-19 09:19:01:955 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:19:01:955 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758244741509
- Available files: None

2025-09-19 09:19:01:955 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:19:01:955 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
No operation performed yet

2025-09-19 09:19:01:955 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:19:01:955 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758244741509
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:19:01:955 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:19:01:964 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 134) -Exception occurred
java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:107)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:92)
	at org.springframework.ai.openai.api.OpenAiApi$FunctionTool$Function.<init>(OpenAiApi.java:888)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$getFunctionTools$21(OpenAiChatModel.java:674)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.ai.openai.OpenAiChatModel.getFunctionTools(OpenAiChatModel.java:676)
	at org.springframework.ai.openai.OpenAiChatModel.createRequest(OpenAiChatModel.java:615)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalStream$13(OpenAiChatModel.java:272)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxPublishOn.subscribeOrReturn(FluxPublishOn.java:92)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:55)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891)
	at reactor.core.publisher.Flux.blockLast(Flux.java:2816)
	at com.alibaba.cloud.ai.manus.llm.StreamingResponseHandler.processStreamingResponse(StreamingResponseHandler.java:222)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.executeWithRetry(DynamicAgent.java:187)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.think(DynamicAgent.java:130)
	at com.alibaba.cloud.ai.manus.agent.ReActAgent.step(ReActAgent.java:83)
	at com.alibaba.cloud.ai.manus.agent.BaseAgent.run(BaseAgent.java:222)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.executeStep(AbstractPlanExecutor.java:109)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.lambda$0(AbstractPlanExecutor.java:228)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Flux.blockLast(Flux.java:2817)
		... 11 common frames omitted
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2666)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:741)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipComma(ReaderBasedJsonParser.java:2429)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:924)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR._deserializeNR(UntypedObjectDeserializerNR.java:227)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserialize(UntypedObjectDeserializerNR.java:70)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4931)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3868)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3851)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:104)
	... 39 common frames omitted
2025-09-19 09:19:01:965 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: in_progress
2025-09-19 09:19:01:965 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 15/40
2025-09-19 09:19:01:965 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:19:01:965 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758244741509
- Available files: None

2025-09-19 09:19:01:965 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:19:01:965 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
No operation performed yet

2025-09-19 09:19:01:965 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:19:01:965 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758244741509
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:19:01:965 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:19:01:972 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 134) -Exception occurred
java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:107)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:92)
	at org.springframework.ai.openai.api.OpenAiApi$FunctionTool$Function.<init>(OpenAiApi.java:888)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$getFunctionTools$21(OpenAiChatModel.java:674)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.ai.openai.OpenAiChatModel.getFunctionTools(OpenAiChatModel.java:676)
	at org.springframework.ai.openai.OpenAiChatModel.createRequest(OpenAiChatModel.java:615)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalStream$13(OpenAiChatModel.java:272)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxPublishOn.subscribeOrReturn(FluxPublishOn.java:92)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:55)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891)
	at reactor.core.publisher.Flux.blockLast(Flux.java:2816)
	at com.alibaba.cloud.ai.manus.llm.StreamingResponseHandler.processStreamingResponse(StreamingResponseHandler.java:222)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.executeWithRetry(DynamicAgent.java:187)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.think(DynamicAgent.java:130)
	at com.alibaba.cloud.ai.manus.agent.ReActAgent.step(ReActAgent.java:83)
	at com.alibaba.cloud.ai.manus.agent.BaseAgent.run(BaseAgent.java:222)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.executeStep(AbstractPlanExecutor.java:109)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.lambda$0(AbstractPlanExecutor.java:228)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Flux.blockLast(Flux.java:2817)
		... 11 common frames omitted
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2666)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:741)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipComma(ReaderBasedJsonParser.java:2429)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:924)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR._deserializeNR(UntypedObjectDeserializerNR.java:227)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserialize(UntypedObjectDeserializerNR.java:70)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4931)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3868)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3851)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:104)
	... 39 common frames omitted
2025-09-19 09:19:01:972 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: in_progress
2025-09-19 09:19:01:972 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 16/40
2025-09-19 09:19:01:973 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:19:01:973 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758244741509
- Available files: None

2025-09-19 09:19:01:973 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:19:01:973 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
No operation performed yet

2025-09-19 09:19:01:973 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:19:01:973 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758244741509
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:19:01:973 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:19:01:986 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 134) -Exception occurred
java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:107)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:92)
	at org.springframework.ai.openai.api.OpenAiApi$FunctionTool$Function.<init>(OpenAiApi.java:888)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$getFunctionTools$21(OpenAiChatModel.java:674)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.ai.openai.OpenAiChatModel.getFunctionTools(OpenAiChatModel.java:676)
	at org.springframework.ai.openai.OpenAiChatModel.createRequest(OpenAiChatModel.java:615)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalStream$13(OpenAiChatModel.java:272)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxPublishOn.subscribeOrReturn(FluxPublishOn.java:92)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:55)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891)
	at reactor.core.publisher.Flux.blockLast(Flux.java:2816)
	at com.alibaba.cloud.ai.manus.llm.StreamingResponseHandler.processStreamingResponse(StreamingResponseHandler.java:222)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.executeWithRetry(DynamicAgent.java:187)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.think(DynamicAgent.java:130)
	at com.alibaba.cloud.ai.manus.agent.ReActAgent.step(ReActAgent.java:83)
	at com.alibaba.cloud.ai.manus.agent.BaseAgent.run(BaseAgent.java:222)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.executeStep(AbstractPlanExecutor.java:109)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.lambda$0(AbstractPlanExecutor.java:228)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Flux.blockLast(Flux.java:2817)
		... 11 common frames omitted
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2666)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:741)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipComma(ReaderBasedJsonParser.java:2429)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:924)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR._deserializeNR(UntypedObjectDeserializerNR.java:227)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserialize(UntypedObjectDeserializerNR.java:70)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4931)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3868)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3851)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:104)
	... 39 common frames omitted
2025-09-19 09:19:01:986 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: in_progress
2025-09-19 09:19:01:986 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 17/40
2025-09-19 09:19:01:986 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:19:01:986 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758244741509
- Available files: None

2025-09-19 09:19:01:987 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:19:01:987 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
No operation performed yet

2025-09-19 09:19:01:987 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:19:01:987 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758244741509
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:19:01:987 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:19:01:998 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 134) -Exception occurred
java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:107)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:92)
	at org.springframework.ai.openai.api.OpenAiApi$FunctionTool$Function.<init>(OpenAiApi.java:888)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$getFunctionTools$21(OpenAiChatModel.java:674)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.ai.openai.OpenAiChatModel.getFunctionTools(OpenAiChatModel.java:676)
	at org.springframework.ai.openai.OpenAiChatModel.createRequest(OpenAiChatModel.java:615)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalStream$13(OpenAiChatModel.java:272)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxPublishOn.subscribeOrReturn(FluxPublishOn.java:92)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:55)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891)
	at reactor.core.publisher.Flux.blockLast(Flux.java:2816)
	at com.alibaba.cloud.ai.manus.llm.StreamingResponseHandler.processStreamingResponse(StreamingResponseHandler.java:222)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.executeWithRetry(DynamicAgent.java:187)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.think(DynamicAgent.java:130)
	at com.alibaba.cloud.ai.manus.agent.ReActAgent.step(ReActAgent.java:83)
	at com.alibaba.cloud.ai.manus.agent.BaseAgent.run(BaseAgent.java:222)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.executeStep(AbstractPlanExecutor.java:109)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.lambda$0(AbstractPlanExecutor.java:228)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Flux.blockLast(Flux.java:2817)
		... 11 common frames omitted
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2666)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:741)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipComma(ReaderBasedJsonParser.java:2429)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:924)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR._deserializeNR(UntypedObjectDeserializerNR.java:227)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserialize(UntypedObjectDeserializerNR.java:70)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4931)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3868)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3851)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:104)
	... 39 common frames omitted
2025-09-19 09:19:01:999 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: in_progress
2025-09-19 09:19:01:999 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 18/40
2025-09-19 09:19:01:999 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:19:01:999 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758244741509
- Available files: None

2025-09-19 09:19:01:999 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:19:02:000 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
No operation performed yet

2025-09-19 09:19:02:000 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:19:02:000 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758244741509
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:19:02:000 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:19:02:012 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 134) -Exception occurred
java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:107)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:92)
	at org.springframework.ai.openai.api.OpenAiApi$FunctionTool$Function.<init>(OpenAiApi.java:888)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$getFunctionTools$21(OpenAiChatModel.java:674)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.ai.openai.OpenAiChatModel.getFunctionTools(OpenAiChatModel.java:676)
	at org.springframework.ai.openai.OpenAiChatModel.createRequest(OpenAiChatModel.java:615)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalStream$13(OpenAiChatModel.java:272)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxPublishOn.subscribeOrReturn(FluxPublishOn.java:92)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:55)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891)
	at reactor.core.publisher.Flux.blockLast(Flux.java:2816)
	at com.alibaba.cloud.ai.manus.llm.StreamingResponseHandler.processStreamingResponse(StreamingResponseHandler.java:222)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.executeWithRetry(DynamicAgent.java:187)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.think(DynamicAgent.java:130)
	at com.alibaba.cloud.ai.manus.agent.ReActAgent.step(ReActAgent.java:83)
	at com.alibaba.cloud.ai.manus.agent.BaseAgent.run(BaseAgent.java:222)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.executeStep(AbstractPlanExecutor.java:109)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.lambda$0(AbstractPlanExecutor.java:228)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Flux.blockLast(Flux.java:2817)
		... 11 common frames omitted
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2666)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:741)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipComma(ReaderBasedJsonParser.java:2429)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:924)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR._deserializeNR(UntypedObjectDeserializerNR.java:227)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserialize(UntypedObjectDeserializerNR.java:70)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4931)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3868)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3851)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:104)
	... 39 common frames omitted
2025-09-19 09:19:02:013 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: in_progress
2025-09-19 09:19:02:013 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 19/40
2025-09-19 09:19:02:013 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:19:02:013 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758244741509
- Available files: None

2025-09-19 09:19:02:013 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:19:02:013 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
No operation performed yet

2025-09-19 09:19:02:014 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:19:02:014 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758244741509
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:19:02:014 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:19:02:022 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 134) -Exception occurred
java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:107)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:92)
	at org.springframework.ai.openai.api.OpenAiApi$FunctionTool$Function.<init>(OpenAiApi.java:888)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$getFunctionTools$21(OpenAiChatModel.java:674)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.ai.openai.OpenAiChatModel.getFunctionTools(OpenAiChatModel.java:676)
	at org.springframework.ai.openai.OpenAiChatModel.createRequest(OpenAiChatModel.java:615)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalStream$13(OpenAiChatModel.java:272)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxPublishOn.subscribeOrReturn(FluxPublishOn.java:92)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:55)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891)
	at reactor.core.publisher.Flux.blockLast(Flux.java:2816)
	at com.alibaba.cloud.ai.manus.llm.StreamingResponseHandler.processStreamingResponse(StreamingResponseHandler.java:222)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.executeWithRetry(DynamicAgent.java:187)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.think(DynamicAgent.java:130)
	at com.alibaba.cloud.ai.manus.agent.ReActAgent.step(ReActAgent.java:83)
	at com.alibaba.cloud.ai.manus.agent.BaseAgent.run(BaseAgent.java:222)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.executeStep(AbstractPlanExecutor.java:109)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.lambda$0(AbstractPlanExecutor.java:228)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Flux.blockLast(Flux.java:2817)
		... 11 common frames omitted
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2666)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:741)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipComma(ReaderBasedJsonParser.java:2429)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:924)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR._deserializeNR(UntypedObjectDeserializerNR.java:227)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserialize(UntypedObjectDeserializerNR.java:70)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4931)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3868)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3851)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:104)
	... 39 common frames omitted
2025-09-19 09:19:02:022 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: in_progress
2025-09-19 09:19:02:022 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 20/40
2025-09-19 09:19:02:022 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:19:02:023 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758244741509
- Available files: None

2025-09-19 09:19:02:023 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:19:02:023 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
No operation performed yet

2025-09-19 09:19:02:023 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:19:02:023 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758244741509
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:19:02:023 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:19:02:037 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 134) -Exception occurred
java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:107)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:92)
	at org.springframework.ai.openai.api.OpenAiApi$FunctionTool$Function.<init>(OpenAiApi.java:888)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$getFunctionTools$21(OpenAiChatModel.java:674)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.ai.openai.OpenAiChatModel.getFunctionTools(OpenAiChatModel.java:676)
	at org.springframework.ai.openai.OpenAiChatModel.createRequest(OpenAiChatModel.java:615)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalStream$13(OpenAiChatModel.java:272)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxPublishOn.subscribeOrReturn(FluxPublishOn.java:92)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:55)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891)
	at reactor.core.publisher.Flux.blockLast(Flux.java:2816)
	at com.alibaba.cloud.ai.manus.llm.StreamingResponseHandler.processStreamingResponse(StreamingResponseHandler.java:222)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.executeWithRetry(DynamicAgent.java:187)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.think(DynamicAgent.java:130)
	at com.alibaba.cloud.ai.manus.agent.ReActAgent.step(ReActAgent.java:83)
	at com.alibaba.cloud.ai.manus.agent.BaseAgent.run(BaseAgent.java:222)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.executeStep(AbstractPlanExecutor.java:109)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.lambda$0(AbstractPlanExecutor.java:228)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Flux.blockLast(Flux.java:2817)
		... 11 common frames omitted
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2666)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:741)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipComma(ReaderBasedJsonParser.java:2429)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:924)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR._deserializeNR(UntypedObjectDeserializerNR.java:227)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserialize(UntypedObjectDeserializerNR.java:70)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4931)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3868)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3851)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:104)
	... 39 common frames omitted
2025-09-19 09:19:02:037 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: in_progress
2025-09-19 09:19:02:037 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 21/40
2025-09-19 09:19:02:037 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:19:02:037 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758244741509
- Available files: None

2025-09-19 09:19:02:038 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:19:02:038 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
No operation performed yet

2025-09-19 09:19:02:038 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:19:02:038 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758244741509
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:19:02:038 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:19:02:046 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 134) -Exception occurred
java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:107)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:92)
	at org.springframework.ai.openai.api.OpenAiApi$FunctionTool$Function.<init>(OpenAiApi.java:888)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$getFunctionTools$21(OpenAiChatModel.java:674)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.ai.openai.OpenAiChatModel.getFunctionTools(OpenAiChatModel.java:676)
	at org.springframework.ai.openai.OpenAiChatModel.createRequest(OpenAiChatModel.java:615)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalStream$13(OpenAiChatModel.java:272)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxPublishOn.subscribeOrReturn(FluxPublishOn.java:92)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:55)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891)
	at reactor.core.publisher.Flux.blockLast(Flux.java:2816)
	at com.alibaba.cloud.ai.manus.llm.StreamingResponseHandler.processStreamingResponse(StreamingResponseHandler.java:222)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.executeWithRetry(DynamicAgent.java:187)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.think(DynamicAgent.java:130)
	at com.alibaba.cloud.ai.manus.agent.ReActAgent.step(ReActAgent.java:83)
	at com.alibaba.cloud.ai.manus.agent.BaseAgent.run(BaseAgent.java:222)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.executeStep(AbstractPlanExecutor.java:109)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.lambda$0(AbstractPlanExecutor.java:228)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Flux.blockLast(Flux.java:2817)
		... 11 common frames omitted
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2666)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:741)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipComma(ReaderBasedJsonParser.java:2429)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:924)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR._deserializeNR(UntypedObjectDeserializerNR.java:227)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserialize(UntypedObjectDeserializerNR.java:70)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4931)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3868)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3851)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:104)
	... 39 common frames omitted
2025-09-19 09:19:02:046 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: in_progress
2025-09-19 09:19:02:046 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 22/40
2025-09-19 09:19:02:046 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:19:02:046 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758244741509
- Available files: None

2025-09-19 09:19:02:046 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:19:02:046 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
No operation performed yet

2025-09-19 09:19:02:046 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:19:02:047 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758244741509
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:19:02:047 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:19:02:053 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 134) -Exception occurred
java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:107)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:92)
	at org.springframework.ai.openai.api.OpenAiApi$FunctionTool$Function.<init>(OpenAiApi.java:888)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$getFunctionTools$21(OpenAiChatModel.java:674)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.ai.openai.OpenAiChatModel.getFunctionTools(OpenAiChatModel.java:676)
	at org.springframework.ai.openai.OpenAiChatModel.createRequest(OpenAiChatModel.java:615)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalStream$13(OpenAiChatModel.java:272)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxPublishOn.subscribeOrReturn(FluxPublishOn.java:92)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:55)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891)
	at reactor.core.publisher.Flux.blockLast(Flux.java:2816)
	at com.alibaba.cloud.ai.manus.llm.StreamingResponseHandler.processStreamingResponse(StreamingResponseHandler.java:222)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.executeWithRetry(DynamicAgent.java:187)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.think(DynamicAgent.java:130)
	at com.alibaba.cloud.ai.manus.agent.ReActAgent.step(ReActAgent.java:83)
	at com.alibaba.cloud.ai.manus.agent.BaseAgent.run(BaseAgent.java:222)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.executeStep(AbstractPlanExecutor.java:109)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.lambda$0(AbstractPlanExecutor.java:228)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Flux.blockLast(Flux.java:2817)
		... 11 common frames omitted
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2666)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:741)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipComma(ReaderBasedJsonParser.java:2429)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:924)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR._deserializeNR(UntypedObjectDeserializerNR.java:227)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserialize(UntypedObjectDeserializerNR.java:70)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4931)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3868)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3851)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:104)
	... 39 common frames omitted
2025-09-19 09:19:02:053 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: in_progress
2025-09-19 09:19:02:054 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 23/40
2025-09-19 09:19:02:054 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:19:02:054 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758244741509
- Available files: None

2025-09-19 09:19:02:054 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:19:02:054 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
No operation performed yet

2025-09-19 09:19:02:054 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:19:02:054 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758244741509
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:19:02:054 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:19:02:062 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 134) -Exception occurred
java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:107)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:92)
	at org.springframework.ai.openai.api.OpenAiApi$FunctionTool$Function.<init>(OpenAiApi.java:888)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$getFunctionTools$21(OpenAiChatModel.java:674)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.ai.openai.OpenAiChatModel.getFunctionTools(OpenAiChatModel.java:676)
	at org.springframework.ai.openai.OpenAiChatModel.createRequest(OpenAiChatModel.java:615)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalStream$13(OpenAiChatModel.java:272)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxPublishOn.subscribeOrReturn(FluxPublishOn.java:92)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:55)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891)
	at reactor.core.publisher.Flux.blockLast(Flux.java:2816)
	at com.alibaba.cloud.ai.manus.llm.StreamingResponseHandler.processStreamingResponse(StreamingResponseHandler.java:222)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.executeWithRetry(DynamicAgent.java:187)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.think(DynamicAgent.java:130)
	at com.alibaba.cloud.ai.manus.agent.ReActAgent.step(ReActAgent.java:83)
	at com.alibaba.cloud.ai.manus.agent.BaseAgent.run(BaseAgent.java:222)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.executeStep(AbstractPlanExecutor.java:109)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.lambda$0(AbstractPlanExecutor.java:228)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Flux.blockLast(Flux.java:2817)
		... 11 common frames omitted
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2666)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:741)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipComma(ReaderBasedJsonParser.java:2429)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:924)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR._deserializeNR(UntypedObjectDeserializerNR.java:227)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserialize(UntypedObjectDeserializerNR.java:70)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4931)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3868)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3851)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:104)
	... 39 common frames omitted
2025-09-19 09:19:02:062 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: in_progress
2025-09-19 09:19:02:062 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 24/40
2025-09-19 09:19:02:062 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:19:02:062 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758244741509
- Available files: None

2025-09-19 09:19:02:062 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:19:02:062 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
No operation performed yet

2025-09-19 09:19:02:062 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:19:02:062 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758244741509
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:19:02:062 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:19:02:069 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 134) -Exception occurred
java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:107)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:92)
	at org.springframework.ai.openai.api.OpenAiApi$FunctionTool$Function.<init>(OpenAiApi.java:888)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$getFunctionTools$21(OpenAiChatModel.java:674)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.ai.openai.OpenAiChatModel.getFunctionTools(OpenAiChatModel.java:676)
	at org.springframework.ai.openai.OpenAiChatModel.createRequest(OpenAiChatModel.java:615)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalStream$13(OpenAiChatModel.java:272)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxPublishOn.subscribeOrReturn(FluxPublishOn.java:92)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:55)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891)
	at reactor.core.publisher.Flux.blockLast(Flux.java:2816)
	at com.alibaba.cloud.ai.manus.llm.StreamingResponseHandler.processStreamingResponse(StreamingResponseHandler.java:222)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.executeWithRetry(DynamicAgent.java:187)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.think(DynamicAgent.java:130)
	at com.alibaba.cloud.ai.manus.agent.ReActAgent.step(ReActAgent.java:83)
	at com.alibaba.cloud.ai.manus.agent.BaseAgent.run(BaseAgent.java:222)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.executeStep(AbstractPlanExecutor.java:109)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.lambda$0(AbstractPlanExecutor.java:228)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Flux.blockLast(Flux.java:2817)
		... 11 common frames omitted
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2666)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:741)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipComma(ReaderBasedJsonParser.java:2429)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:924)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR._deserializeNR(UntypedObjectDeserializerNR.java:227)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserialize(UntypedObjectDeserializerNR.java:70)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4931)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3868)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3851)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:104)
	... 39 common frames omitted
2025-09-19 09:19:02:069 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: in_progress
2025-09-19 09:19:02:069 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 25/40
2025-09-19 09:19:02:069 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:19:02:069 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758244741509
- Available files: None

2025-09-19 09:19:02:069 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:19:02:069 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
No operation performed yet

2025-09-19 09:19:02:069 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:19:02:069 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758244741509
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:19:02:069 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:19:02:076 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 134) -Exception occurred
java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:107)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:92)
	at org.springframework.ai.openai.api.OpenAiApi$FunctionTool$Function.<init>(OpenAiApi.java:888)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$getFunctionTools$21(OpenAiChatModel.java:674)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.ai.openai.OpenAiChatModel.getFunctionTools(OpenAiChatModel.java:676)
	at org.springframework.ai.openai.OpenAiChatModel.createRequest(OpenAiChatModel.java:615)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalStream$13(OpenAiChatModel.java:272)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxPublishOn.subscribeOrReturn(FluxPublishOn.java:92)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:55)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891)
	at reactor.core.publisher.Flux.blockLast(Flux.java:2816)
	at com.alibaba.cloud.ai.manus.llm.StreamingResponseHandler.processStreamingResponse(StreamingResponseHandler.java:222)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.executeWithRetry(DynamicAgent.java:187)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.think(DynamicAgent.java:130)
	at com.alibaba.cloud.ai.manus.agent.ReActAgent.step(ReActAgent.java:83)
	at com.alibaba.cloud.ai.manus.agent.BaseAgent.run(BaseAgent.java:222)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.executeStep(AbstractPlanExecutor.java:109)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.lambda$0(AbstractPlanExecutor.java:228)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Flux.blockLast(Flux.java:2817)
		... 11 common frames omitted
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2666)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:741)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipComma(ReaderBasedJsonParser.java:2429)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:924)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR._deserializeNR(UntypedObjectDeserializerNR.java:227)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserialize(UntypedObjectDeserializerNR.java:70)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4931)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3868)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3851)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:104)
	... 39 common frames omitted
2025-09-19 09:19:02:076 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: in_progress
2025-09-19 09:19:02:076 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 26/40
2025-09-19 09:19:02:076 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:19:02:076 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758244741509
- Available files: None

2025-09-19 09:19:02:076 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:19:02:076 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
No operation performed yet

2025-09-19 09:19:02:076 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:19:02:076 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758244741509
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:19:02:076 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:19:02:083 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 134) -Exception occurred
java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:107)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:92)
	at org.springframework.ai.openai.api.OpenAiApi$FunctionTool$Function.<init>(OpenAiApi.java:888)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$getFunctionTools$21(OpenAiChatModel.java:674)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.ai.openai.OpenAiChatModel.getFunctionTools(OpenAiChatModel.java:676)
	at org.springframework.ai.openai.OpenAiChatModel.createRequest(OpenAiChatModel.java:615)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalStream$13(OpenAiChatModel.java:272)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxPublishOn.subscribeOrReturn(FluxPublishOn.java:92)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:55)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891)
	at reactor.core.publisher.Flux.blockLast(Flux.java:2816)
	at com.alibaba.cloud.ai.manus.llm.StreamingResponseHandler.processStreamingResponse(StreamingResponseHandler.java:222)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.executeWithRetry(DynamicAgent.java:187)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.think(DynamicAgent.java:130)
	at com.alibaba.cloud.ai.manus.agent.ReActAgent.step(ReActAgent.java:83)
	at com.alibaba.cloud.ai.manus.agent.BaseAgent.run(BaseAgent.java:222)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.executeStep(AbstractPlanExecutor.java:109)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.lambda$0(AbstractPlanExecutor.java:228)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Flux.blockLast(Flux.java:2817)
		... 11 common frames omitted
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2666)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:741)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipComma(ReaderBasedJsonParser.java:2429)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:924)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR._deserializeNR(UntypedObjectDeserializerNR.java:227)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserialize(UntypedObjectDeserializerNR.java:70)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4931)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3868)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3851)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:104)
	... 39 common frames omitted
2025-09-19 09:19:02:084 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: in_progress
2025-09-19 09:19:02:084 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 27/40
2025-09-19 09:19:02:084 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:19:02:084 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758244741509
- Available files: None

2025-09-19 09:19:02:084 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:19:02:084 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
No operation performed yet

2025-09-19 09:19:02:084 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:19:02:084 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758244741509
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:19:02:084 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:19:02:090 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 134) -Exception occurred
java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:107)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:92)
	at org.springframework.ai.openai.api.OpenAiApi$FunctionTool$Function.<init>(OpenAiApi.java:888)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$getFunctionTools$21(OpenAiChatModel.java:674)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.ai.openai.OpenAiChatModel.getFunctionTools(OpenAiChatModel.java:676)
	at org.springframework.ai.openai.OpenAiChatModel.createRequest(OpenAiChatModel.java:615)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalStream$13(OpenAiChatModel.java:272)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxPublishOn.subscribeOrReturn(FluxPublishOn.java:92)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:55)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891)
	at reactor.core.publisher.Flux.blockLast(Flux.java:2816)
	at com.alibaba.cloud.ai.manus.llm.StreamingResponseHandler.processStreamingResponse(StreamingResponseHandler.java:222)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.executeWithRetry(DynamicAgent.java:187)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.think(DynamicAgent.java:130)
	at com.alibaba.cloud.ai.manus.agent.ReActAgent.step(ReActAgent.java:83)
	at com.alibaba.cloud.ai.manus.agent.BaseAgent.run(BaseAgent.java:222)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.executeStep(AbstractPlanExecutor.java:109)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.lambda$0(AbstractPlanExecutor.java:228)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Flux.blockLast(Flux.java:2817)
		... 11 common frames omitted
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2666)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:741)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipComma(ReaderBasedJsonParser.java:2429)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:924)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR._deserializeNR(UntypedObjectDeserializerNR.java:227)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserialize(UntypedObjectDeserializerNR.java:70)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4931)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3868)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3851)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:104)
	... 39 common frames omitted
2025-09-19 09:19:02:090 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: in_progress
2025-09-19 09:19:02:090 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 28/40
2025-09-19 09:19:02:090 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:19:02:090 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758244741509
- Available files: None

2025-09-19 09:19:02:090 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:19:02:090 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
No operation performed yet

2025-09-19 09:19:02:090 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:19:02:090 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758244741509
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:19:02:090 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:19:02:099 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 134) -Exception occurred
java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:107)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:92)
	at org.springframework.ai.openai.api.OpenAiApi$FunctionTool$Function.<init>(OpenAiApi.java:888)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$getFunctionTools$21(OpenAiChatModel.java:674)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.ai.openai.OpenAiChatModel.getFunctionTools(OpenAiChatModel.java:676)
	at org.springframework.ai.openai.OpenAiChatModel.createRequest(OpenAiChatModel.java:615)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalStream$13(OpenAiChatModel.java:272)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxPublishOn.subscribeOrReturn(FluxPublishOn.java:92)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:55)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891)
	at reactor.core.publisher.Flux.blockLast(Flux.java:2816)
	at com.alibaba.cloud.ai.manus.llm.StreamingResponseHandler.processStreamingResponse(StreamingResponseHandler.java:222)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.executeWithRetry(DynamicAgent.java:187)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.think(DynamicAgent.java:130)
	at com.alibaba.cloud.ai.manus.agent.ReActAgent.step(ReActAgent.java:83)
	at com.alibaba.cloud.ai.manus.agent.BaseAgent.run(BaseAgent.java:222)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.executeStep(AbstractPlanExecutor.java:109)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.lambda$0(AbstractPlanExecutor.java:228)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Flux.blockLast(Flux.java:2817)
		... 11 common frames omitted
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2666)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:741)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipComma(ReaderBasedJsonParser.java:2429)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:924)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR._deserializeNR(UntypedObjectDeserializerNR.java:227)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserialize(UntypedObjectDeserializerNR.java:70)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4931)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3868)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3851)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:104)
	... 39 common frames omitted
2025-09-19 09:19:02:099 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: in_progress
2025-09-19 09:19:02:099 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 29/40
2025-09-19 09:19:02:099 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:19:02:100 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758244741509
- Available files: None

2025-09-19 09:19:02:100 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:19:02:100 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
No operation performed yet

2025-09-19 09:19:02:100 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:19:02:100 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758244741509
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:19:02:100 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:19:02:106 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 134) -Exception occurred
java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:107)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:92)
	at org.springframework.ai.openai.api.OpenAiApi$FunctionTool$Function.<init>(OpenAiApi.java:888)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$getFunctionTools$21(OpenAiChatModel.java:674)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.ai.openai.OpenAiChatModel.getFunctionTools(OpenAiChatModel.java:676)
	at org.springframework.ai.openai.OpenAiChatModel.createRequest(OpenAiChatModel.java:615)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalStream$13(OpenAiChatModel.java:272)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxPublishOn.subscribeOrReturn(FluxPublishOn.java:92)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:55)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891)
	at reactor.core.publisher.Flux.blockLast(Flux.java:2816)
	at com.alibaba.cloud.ai.manus.llm.StreamingResponseHandler.processStreamingResponse(StreamingResponseHandler.java:222)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.executeWithRetry(DynamicAgent.java:187)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.think(DynamicAgent.java:130)
	at com.alibaba.cloud.ai.manus.agent.ReActAgent.step(ReActAgent.java:83)
	at com.alibaba.cloud.ai.manus.agent.BaseAgent.run(BaseAgent.java:222)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.executeStep(AbstractPlanExecutor.java:109)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.lambda$0(AbstractPlanExecutor.java:228)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Flux.blockLast(Flux.java:2817)
		... 11 common frames omitted
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2666)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:741)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipComma(ReaderBasedJsonParser.java:2429)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:924)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR._deserializeNR(UntypedObjectDeserializerNR.java:227)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserialize(UntypedObjectDeserializerNR.java:70)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4931)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3868)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3851)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:104)
	... 39 common frames omitted
2025-09-19 09:19:02:106 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: in_progress
2025-09-19 09:19:02:106 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 30/40
2025-09-19 09:19:02:106 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:19:02:106 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758244741509
- Available files: None

2025-09-19 09:19:02:106 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:19:02:106 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
No operation performed yet

2025-09-19 09:19:02:106 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:19:02:107 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758244741509
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:19:02:107 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:19:02:115 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 134) -Exception occurred
java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:107)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:92)
	at org.springframework.ai.openai.api.OpenAiApi$FunctionTool$Function.<init>(OpenAiApi.java:888)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$getFunctionTools$21(OpenAiChatModel.java:674)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.ai.openai.OpenAiChatModel.getFunctionTools(OpenAiChatModel.java:676)
	at org.springframework.ai.openai.OpenAiChatModel.createRequest(OpenAiChatModel.java:615)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalStream$13(OpenAiChatModel.java:272)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxPublishOn.subscribeOrReturn(FluxPublishOn.java:92)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:55)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891)
	at reactor.core.publisher.Flux.blockLast(Flux.java:2816)
	at com.alibaba.cloud.ai.manus.llm.StreamingResponseHandler.processStreamingResponse(StreamingResponseHandler.java:222)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.executeWithRetry(DynamicAgent.java:187)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.think(DynamicAgent.java:130)
	at com.alibaba.cloud.ai.manus.agent.ReActAgent.step(ReActAgent.java:83)
	at com.alibaba.cloud.ai.manus.agent.BaseAgent.run(BaseAgent.java:222)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.executeStep(AbstractPlanExecutor.java:109)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.lambda$0(AbstractPlanExecutor.java:228)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Flux.blockLast(Flux.java:2817)
		... 11 common frames omitted
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2666)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:741)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipComma(ReaderBasedJsonParser.java:2429)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:924)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR._deserializeNR(UntypedObjectDeserializerNR.java:227)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserialize(UntypedObjectDeserializerNR.java:70)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4931)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3868)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3851)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:104)
	... 39 common frames omitted
2025-09-19 09:19:02:115 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: in_progress
2025-09-19 09:19:02:115 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 31/40
2025-09-19 09:19:02:115 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:19:02:115 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758244741509
- Available files: None

2025-09-19 09:19:02:115 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:19:02:115 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
No operation performed yet

2025-09-19 09:19:02:115 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:19:02:115 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758244741509
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:19:02:115 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:19:02:122 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 134) -Exception occurred
java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:107)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:92)
	at org.springframework.ai.openai.api.OpenAiApi$FunctionTool$Function.<init>(OpenAiApi.java:888)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$getFunctionTools$21(OpenAiChatModel.java:674)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.ai.openai.OpenAiChatModel.getFunctionTools(OpenAiChatModel.java:676)
	at org.springframework.ai.openai.OpenAiChatModel.createRequest(OpenAiChatModel.java:615)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalStream$13(OpenAiChatModel.java:272)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxPublishOn.subscribeOrReturn(FluxPublishOn.java:92)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:55)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891)
	at reactor.core.publisher.Flux.blockLast(Flux.java:2816)
	at com.alibaba.cloud.ai.manus.llm.StreamingResponseHandler.processStreamingResponse(StreamingResponseHandler.java:222)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.executeWithRetry(DynamicAgent.java:187)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.think(DynamicAgent.java:130)
	at com.alibaba.cloud.ai.manus.agent.ReActAgent.step(ReActAgent.java:83)
	at com.alibaba.cloud.ai.manus.agent.BaseAgent.run(BaseAgent.java:222)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.executeStep(AbstractPlanExecutor.java:109)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.lambda$0(AbstractPlanExecutor.java:228)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Flux.blockLast(Flux.java:2817)
		... 11 common frames omitted
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2666)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:741)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipComma(ReaderBasedJsonParser.java:2429)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:924)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR._deserializeNR(UntypedObjectDeserializerNR.java:227)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserialize(UntypedObjectDeserializerNR.java:70)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4931)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3868)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3851)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:104)
	... 39 common frames omitted
2025-09-19 09:19:02:122 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: in_progress
2025-09-19 09:19:02:122 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 32/40
2025-09-19 09:19:02:122 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:19:02:122 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758244741509
- Available files: None

2025-09-19 09:19:02:122 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:19:02:122 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
No operation performed yet

2025-09-19 09:19:02:122 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:19:02:123 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758244741509
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:19:02:123 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:19:02:129 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 134) -Exception occurred
java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:107)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:92)
	at org.springframework.ai.openai.api.OpenAiApi$FunctionTool$Function.<init>(OpenAiApi.java:888)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$getFunctionTools$21(OpenAiChatModel.java:674)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.ai.openai.OpenAiChatModel.getFunctionTools(OpenAiChatModel.java:676)
	at org.springframework.ai.openai.OpenAiChatModel.createRequest(OpenAiChatModel.java:615)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalStream$13(OpenAiChatModel.java:272)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxPublishOn.subscribeOrReturn(FluxPublishOn.java:92)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:55)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891)
	at reactor.core.publisher.Flux.blockLast(Flux.java:2816)
	at com.alibaba.cloud.ai.manus.llm.StreamingResponseHandler.processStreamingResponse(StreamingResponseHandler.java:222)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.executeWithRetry(DynamicAgent.java:187)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.think(DynamicAgent.java:130)
	at com.alibaba.cloud.ai.manus.agent.ReActAgent.step(ReActAgent.java:83)
	at com.alibaba.cloud.ai.manus.agent.BaseAgent.run(BaseAgent.java:222)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.executeStep(AbstractPlanExecutor.java:109)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.lambda$0(AbstractPlanExecutor.java:228)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Flux.blockLast(Flux.java:2817)
		... 11 common frames omitted
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2666)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:741)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipComma(ReaderBasedJsonParser.java:2429)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:924)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR._deserializeNR(UntypedObjectDeserializerNR.java:227)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserialize(UntypedObjectDeserializerNR.java:70)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4931)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3868)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3851)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:104)
	... 39 common frames omitted
2025-09-19 09:19:02:130 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: in_progress
2025-09-19 09:19:02:130 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 33/40
2025-09-19 09:19:02:130 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:19:02:130 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758244741509
- Available files: None

2025-09-19 09:19:02:130 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:19:02:130 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
No operation performed yet

2025-09-19 09:19:02:130 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:19:02:130 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758244741509
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:19:02:130 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:19:02:137 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 134) -Exception occurred
java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:107)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:92)
	at org.springframework.ai.openai.api.OpenAiApi$FunctionTool$Function.<init>(OpenAiApi.java:888)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$getFunctionTools$21(OpenAiChatModel.java:674)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.ai.openai.OpenAiChatModel.getFunctionTools(OpenAiChatModel.java:676)
	at org.springframework.ai.openai.OpenAiChatModel.createRequest(OpenAiChatModel.java:615)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalStream$13(OpenAiChatModel.java:272)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxPublishOn.subscribeOrReturn(FluxPublishOn.java:92)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:55)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891)
	at reactor.core.publisher.Flux.blockLast(Flux.java:2816)
	at com.alibaba.cloud.ai.manus.llm.StreamingResponseHandler.processStreamingResponse(StreamingResponseHandler.java:222)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.executeWithRetry(DynamicAgent.java:187)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.think(DynamicAgent.java:130)
	at com.alibaba.cloud.ai.manus.agent.ReActAgent.step(ReActAgent.java:83)
	at com.alibaba.cloud.ai.manus.agent.BaseAgent.run(BaseAgent.java:222)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.executeStep(AbstractPlanExecutor.java:109)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.lambda$0(AbstractPlanExecutor.java:228)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Flux.blockLast(Flux.java:2817)
		... 11 common frames omitted
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2666)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:741)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipComma(ReaderBasedJsonParser.java:2429)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:924)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR._deserializeNR(UntypedObjectDeserializerNR.java:227)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserialize(UntypedObjectDeserializerNR.java:70)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4931)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3868)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3851)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:104)
	... 39 common frames omitted
2025-09-19 09:19:02:137 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: in_progress
2025-09-19 09:19:02:137 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 34/40
2025-09-19 09:19:02:137 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:19:02:138 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758244741509
- Available files: None

2025-09-19 09:19:02:138 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:19:02:138 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
No operation performed yet

2025-09-19 09:19:02:138 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:19:02:138 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758244741509
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:19:02:138 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:19:02:146 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 134) -Exception occurred
java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:107)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:92)
	at org.springframework.ai.openai.api.OpenAiApi$FunctionTool$Function.<init>(OpenAiApi.java:888)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$getFunctionTools$21(OpenAiChatModel.java:674)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.ai.openai.OpenAiChatModel.getFunctionTools(OpenAiChatModel.java:676)
	at org.springframework.ai.openai.OpenAiChatModel.createRequest(OpenAiChatModel.java:615)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalStream$13(OpenAiChatModel.java:272)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxPublishOn.subscribeOrReturn(FluxPublishOn.java:92)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:55)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891)
	at reactor.core.publisher.Flux.blockLast(Flux.java:2816)
	at com.alibaba.cloud.ai.manus.llm.StreamingResponseHandler.processStreamingResponse(StreamingResponseHandler.java:222)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.executeWithRetry(DynamicAgent.java:187)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.think(DynamicAgent.java:130)
	at com.alibaba.cloud.ai.manus.agent.ReActAgent.step(ReActAgent.java:83)
	at com.alibaba.cloud.ai.manus.agent.BaseAgent.run(BaseAgent.java:222)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.executeStep(AbstractPlanExecutor.java:109)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.lambda$0(AbstractPlanExecutor.java:228)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Flux.blockLast(Flux.java:2817)
		... 11 common frames omitted
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2666)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:741)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipComma(ReaderBasedJsonParser.java:2429)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:924)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR._deserializeNR(UntypedObjectDeserializerNR.java:227)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserialize(UntypedObjectDeserializerNR.java:70)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4931)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3868)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3851)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:104)
	... 39 common frames omitted
2025-09-19 09:19:02:146 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: in_progress
2025-09-19 09:19:02:146 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 35/40
2025-09-19 09:19:02:146 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:19:02:146 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758244741509
- Available files: None

2025-09-19 09:19:02:146 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:19:02:146 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
No operation performed yet

2025-09-19 09:19:02:146 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:19:02:146 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758244741509
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:19:02:146 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:19:02:153 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 134) -Exception occurred
java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:107)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:92)
	at org.springframework.ai.openai.api.OpenAiApi$FunctionTool$Function.<init>(OpenAiApi.java:888)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$getFunctionTools$21(OpenAiChatModel.java:674)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.ai.openai.OpenAiChatModel.getFunctionTools(OpenAiChatModel.java:676)
	at org.springframework.ai.openai.OpenAiChatModel.createRequest(OpenAiChatModel.java:615)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalStream$13(OpenAiChatModel.java:272)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxPublishOn.subscribeOrReturn(FluxPublishOn.java:92)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:55)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891)
	at reactor.core.publisher.Flux.blockLast(Flux.java:2816)
	at com.alibaba.cloud.ai.manus.llm.StreamingResponseHandler.processStreamingResponse(StreamingResponseHandler.java:222)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.executeWithRetry(DynamicAgent.java:187)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.think(DynamicAgent.java:130)
	at com.alibaba.cloud.ai.manus.agent.ReActAgent.step(ReActAgent.java:83)
	at com.alibaba.cloud.ai.manus.agent.BaseAgent.run(BaseAgent.java:222)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.executeStep(AbstractPlanExecutor.java:109)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.lambda$0(AbstractPlanExecutor.java:228)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Flux.blockLast(Flux.java:2817)
		... 11 common frames omitted
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2666)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:741)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipComma(ReaderBasedJsonParser.java:2429)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:924)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR._deserializeNR(UntypedObjectDeserializerNR.java:227)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserialize(UntypedObjectDeserializerNR.java:70)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4931)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3868)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3851)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:104)
	... 39 common frames omitted
2025-09-19 09:19:02:154 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: in_progress
2025-09-19 09:19:02:154 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 36/40
2025-09-19 09:19:02:154 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:19:02:154 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758244741509
- Available files: None

2025-09-19 09:19:02:154 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:19:02:154 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
No operation performed yet

2025-09-19 09:19:02:154 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:19:02:154 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758244741509
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:19:02:154 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:19:02:163 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 134) -Exception occurred
java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:107)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:92)
	at org.springframework.ai.openai.api.OpenAiApi$FunctionTool$Function.<init>(OpenAiApi.java:888)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$getFunctionTools$21(OpenAiChatModel.java:674)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.ai.openai.OpenAiChatModel.getFunctionTools(OpenAiChatModel.java:676)
	at org.springframework.ai.openai.OpenAiChatModel.createRequest(OpenAiChatModel.java:615)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalStream$13(OpenAiChatModel.java:272)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxPublishOn.subscribeOrReturn(FluxPublishOn.java:92)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:55)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891)
	at reactor.core.publisher.Flux.blockLast(Flux.java:2816)
	at com.alibaba.cloud.ai.manus.llm.StreamingResponseHandler.processStreamingResponse(StreamingResponseHandler.java:222)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.executeWithRetry(DynamicAgent.java:187)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.think(DynamicAgent.java:130)
	at com.alibaba.cloud.ai.manus.agent.ReActAgent.step(ReActAgent.java:83)
	at com.alibaba.cloud.ai.manus.agent.BaseAgent.run(BaseAgent.java:222)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.executeStep(AbstractPlanExecutor.java:109)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.lambda$0(AbstractPlanExecutor.java:228)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Flux.blockLast(Flux.java:2817)
		... 11 common frames omitted
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2666)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:741)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipComma(ReaderBasedJsonParser.java:2429)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:924)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR._deserializeNR(UntypedObjectDeserializerNR.java:227)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserialize(UntypedObjectDeserializerNR.java:70)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4931)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3868)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3851)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:104)
	... 39 common frames omitted
2025-09-19 09:19:02:163 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: in_progress
2025-09-19 09:19:02:163 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 37/40
2025-09-19 09:19:02:163 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:19:02:163 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758244741509
- Available files: None

2025-09-19 09:19:02:163 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:19:02:163 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
No operation performed yet

2025-09-19 09:19:02:163 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:19:02:163 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758244741509
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:19:02:163 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:19:02:170 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 134) -Exception occurred
java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:107)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:92)
	at org.springframework.ai.openai.api.OpenAiApi$FunctionTool$Function.<init>(OpenAiApi.java:888)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$getFunctionTools$21(OpenAiChatModel.java:674)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.ai.openai.OpenAiChatModel.getFunctionTools(OpenAiChatModel.java:676)
	at org.springframework.ai.openai.OpenAiChatModel.createRequest(OpenAiChatModel.java:615)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalStream$13(OpenAiChatModel.java:272)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxPublishOn.subscribeOrReturn(FluxPublishOn.java:92)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:55)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891)
	at reactor.core.publisher.Flux.blockLast(Flux.java:2816)
	at com.alibaba.cloud.ai.manus.llm.StreamingResponseHandler.processStreamingResponse(StreamingResponseHandler.java:222)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.executeWithRetry(DynamicAgent.java:187)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.think(DynamicAgent.java:130)
	at com.alibaba.cloud.ai.manus.agent.ReActAgent.step(ReActAgent.java:83)
	at com.alibaba.cloud.ai.manus.agent.BaseAgent.run(BaseAgent.java:222)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.executeStep(AbstractPlanExecutor.java:109)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.lambda$0(AbstractPlanExecutor.java:228)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Flux.blockLast(Flux.java:2817)
		... 11 common frames omitted
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2666)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:741)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipComma(ReaderBasedJsonParser.java:2429)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:924)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR._deserializeNR(UntypedObjectDeserializerNR.java:227)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserialize(UntypedObjectDeserializerNR.java:70)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4931)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3868)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3851)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:104)
	... 39 common frames omitted
2025-09-19 09:19:02:171 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: in_progress
2025-09-19 09:19:02:171 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 38/40
2025-09-19 09:19:02:171 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:19:02:171 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758244741509
- Available files: None

2025-09-19 09:19:02:171 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:19:02:171 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
No operation performed yet

2025-09-19 09:19:02:171 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:19:02:171 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758244741509
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:19:02:171 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:19:02:178 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 134) -Exception occurred
java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:107)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:92)
	at org.springframework.ai.openai.api.OpenAiApi$FunctionTool$Function.<init>(OpenAiApi.java:888)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$getFunctionTools$21(OpenAiChatModel.java:674)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.ai.openai.OpenAiChatModel.getFunctionTools(OpenAiChatModel.java:676)
	at org.springframework.ai.openai.OpenAiChatModel.createRequest(OpenAiChatModel.java:615)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalStream$13(OpenAiChatModel.java:272)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxPublishOn.subscribeOrReturn(FluxPublishOn.java:92)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:55)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891)
	at reactor.core.publisher.Flux.blockLast(Flux.java:2816)
	at com.alibaba.cloud.ai.manus.llm.StreamingResponseHandler.processStreamingResponse(StreamingResponseHandler.java:222)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.executeWithRetry(DynamicAgent.java:187)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.think(DynamicAgent.java:130)
	at com.alibaba.cloud.ai.manus.agent.ReActAgent.step(ReActAgent.java:83)
	at com.alibaba.cloud.ai.manus.agent.BaseAgent.run(BaseAgent.java:222)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.executeStep(AbstractPlanExecutor.java:109)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.lambda$0(AbstractPlanExecutor.java:228)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Flux.blockLast(Flux.java:2817)
		... 11 common frames omitted
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2666)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:741)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipComma(ReaderBasedJsonParser.java:2429)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:924)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR._deserializeNR(UntypedObjectDeserializerNR.java:227)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserialize(UntypedObjectDeserializerNR.java:70)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4931)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3868)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3851)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:104)
	... 39 common frames omitted
2025-09-19 09:19:02:179 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: in_progress
2025-09-19 09:19:02:179 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 39/40
2025-09-19 09:19:02:179 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:19:02:179 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758244741509
- Available files: None

2025-09-19 09:19:02:179 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:19:02:179 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
No operation performed yet

2025-09-19 09:19:02:179 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:19:02:179 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758244741509
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:19:02:179 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:19:02:186 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 134) -Exception occurred
java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:107)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:92)
	at org.springframework.ai.openai.api.OpenAiApi$FunctionTool$Function.<init>(OpenAiApi.java:888)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$getFunctionTools$21(OpenAiChatModel.java:674)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.ai.openai.OpenAiChatModel.getFunctionTools(OpenAiChatModel.java:676)
	at org.springframework.ai.openai.OpenAiChatModel.createRequest(OpenAiChatModel.java:615)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalStream$13(OpenAiChatModel.java:272)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxPublishOn.subscribeOrReturn(FluxPublishOn.java:92)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:55)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891)
	at reactor.core.publisher.Flux.blockLast(Flux.java:2816)
	at com.alibaba.cloud.ai.manus.llm.StreamingResponseHandler.processStreamingResponse(StreamingResponseHandler.java:222)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.executeWithRetry(DynamicAgent.java:187)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.think(DynamicAgent.java:130)
	at com.alibaba.cloud.ai.manus.agent.ReActAgent.step(ReActAgent.java:83)
	at com.alibaba.cloud.ai.manus.agent.BaseAgent.run(BaseAgent.java:222)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.executeStep(AbstractPlanExecutor.java:109)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.lambda$0(AbstractPlanExecutor.java:228)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Flux.blockLast(Flux.java:2817)
		... 11 common frames omitted
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2666)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:741)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipComma(ReaderBasedJsonParser.java:2429)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:924)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR._deserializeNR(UntypedObjectDeserializerNR.java:227)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserialize(UntypedObjectDeserializerNR.java:70)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4931)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3868)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3851)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:104)
	... 39 common frames omitted
2025-09-19 09:19:02:186 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: in_progress
2025-09-19 09:19:02:186 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 40/40
2025-09-19 09:19:02:186 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:19:02:186 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758244741509
- Available files: None

2025-09-19 09:19:02:186 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:19:02:186 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
No operation performed yet

2025-09-19 09:19:02:186 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:19:02:186 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758244741509
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:19:02:186 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:19:02:194 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 134) -Exception occurred
java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:107)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:92)
	at org.springframework.ai.openai.api.OpenAiApi$FunctionTool$Function.<init>(OpenAiApi.java:888)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$getFunctionTools$21(OpenAiChatModel.java:674)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.ai.openai.OpenAiChatModel.getFunctionTools(OpenAiChatModel.java:676)
	at org.springframework.ai.openai.OpenAiChatModel.createRequest(OpenAiChatModel.java:615)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalStream$13(OpenAiChatModel.java:272)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxPublishOn.subscribeOrReturn(FluxPublishOn.java:92)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:55)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891)
	at reactor.core.publisher.Flux.blockLast(Flux.java:2816)
	at com.alibaba.cloud.ai.manus.llm.StreamingResponseHandler.processStreamingResponse(StreamingResponseHandler.java:222)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.executeWithRetry(DynamicAgent.java:187)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.think(DynamicAgent.java:130)
	at com.alibaba.cloud.ai.manus.agent.ReActAgent.step(ReActAgent.java:83)
	at com.alibaba.cloud.ai.manus.agent.BaseAgent.run(BaseAgent.java:222)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.executeStep(AbstractPlanExecutor.java:109)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.lambda$0(AbstractPlanExecutor.java:228)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Flux.blockLast(Flux.java:2817)
		... 11 common frames omitted
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2666)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:741)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipComma(ReaderBasedJsonParser.java:2429)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:924)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR._deserializeNR(UntypedObjectDeserializerNR.java:227)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserialize(UntypedObjectDeserializerNR.java:70)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4931)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3868)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3851)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:104)
	... 39 common frames omitted
2025-09-19 09:19:02:194 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: in_progress
2025-09-19 09:19:02:197 [level-0-executor-0-thread-1] INFO  c.a.c.a.m.r.service.NewRepoPlanExecutionRecorder(NewRepoPlanExecutionRecorder.java 579) -Successfully recorded complete agent execution for stepId: step-a1ecfc1b-1a8a-4b65-b750-a6fe9bb4b3e8, final status: FINISHED
2025-09-19 09:19:02:202 [level-0-executor-0-thread-1] INFO  c.a.c.a.m.r.service.NewRepoPlanExecutionRecorder(NewRepoPlanExecutionRecorder.java 377) -Successfully recorded step end for stepId: step-a1ecfc1b-1a8a-4b65-b750-a6fe9bb4b3e8, planId: plan-1758244741509, status: FINISHED
2025-09-19 09:19:02:204 [level-0-executor-0-thread-1] INFO  c.a.c.a.m.r.service.NewRepoPlanExecutionRecorder(NewRepoPlanExecutionRecorder.java 377) -Successfully recorded step end for stepId: step-a1ecfc1b-1a8a-4b65-b750-a6fe9bb4b3e8, planId: plan-1758244741509, status: FINISHED
2025-09-19 09:19:02:206 [level-0-executor-0-thread-1] INFO  c.a.cloud.ai.manus.tool.browser.BrowserUseTool(BrowserUseTool.java 556) -Cleaning up Chrome resources for plan: plan-1758244741509
2025-09-19 09:19:02:207 [level-0-executor-0-thread-1] INFO  c.a.cloud.ai.manus.tool.mapreduce.MapOutputTool(MapOutputTool.java 388) -MapOutputTool cleanup completed for planId: plan-1758244741509
2025-09-19 09:19:02:207 [level-0-executor-0-thread-1] INFO  c.a.cloud.ai.manus.tool.database.DatabaseUseTool(DatabaseUseTool.java 188) -Cleaning up database resources for plan: plan-1758244741509
2025-09-19 09:19:02:207 [level-0-executor-0-thread-1] INFO  c.a.cloud.ai.manus.tool.database.DataSourceService(DataSourceService.java 176) -Closing all datasource connections
2025-09-19 09:19:02:207 [level-0-executor-0-thread-1] INFO  c.a.cloud.ai.manus.tool.database.DatabaseUseTool(DatabaseUseTool.java 192) -Successfully cleaned up database connections for plan: plan-1758244741509
2025-09-19 09:19:02:207 [level-0-executor-0-thread-1] INFO  c.a.c.a.m.tool.tableProcessor.TableProcessorTool(TableProcessorTool.java 467) -Cleaning up table processing resources for plan: plan-1758244741509
2025-09-19 09:19:02:207 [level-0-executor-0-thread-1] INFO  c.a.c.a.m.t.tableProcessor.TableProcessingService(TableProcessingService.java 769) -Cleaned up table processing resources for plan: plan-1758244741509
2025-09-19 09:19:02:207 [level-0-executor-0-thread-1] INFO  c.a.cloud.ai.manus.tool.mapreduce.FinalizeTool(FinalizeTool.java 315) -FinalizeTool cleanup completed for planId: plan-1758244741509
2025-09-19 09:19:02:207 [level-0-executor-0-thread-1] INFO  c.a.cloud.ai.manus.tool.innerStorage.FileMergeTool(FileMergeTool.java 263) -FileMergeTool cleanup for plan: plan-1758244741509
2025-09-19 09:19:02:207 [level-0-executor-0-thread-1] INFO  c.a.cloud.ai.manus.tool.mapreduce.DataSplitTool(DataSplitTool.java 526) -DataSplitTool cleanup completed for planId: plan-1758244741509
2025-09-19 09:19:02:207 [level-0-executor-0-thread-1] INFO  c.a.c.ai.manus.tool.mapreduce.ReduceOperationTool(ReduceOperationTool.java 311) -ReduceOperationTool cleanup completed for planId: plan-1758244741509
2025-09-19 09:19:02:207 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.tool.bash.Bash(Bash.java 166) -Cleaned up resources for plan: plan-1758244741509
2025-09-19 09:19:02:208 [level-0-executor-0-thread-1] INFO  c.a.c.ai.manus.tool.textOperator.TextFileOperator(TextFileOperator.java 649) -Cleaning up text file resources for plan: plan-1758244741509
2025-09-19 09:19:02:208 [level-0-executor-0-thread-1] INFO  c.a.c.ai.manus.tool.textOperator.TextFileService(TextFileService.java 226) -Cleaned up resources for plan: plan-1758244741509
2025-09-19 09:19:02:208 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.tool.cron.CronTool(CronTool.java 165) -Cleaned up resources for plan: plan-1758244741509
2025-09-19 09:19:11:626 [boundedElastic-2] INFO  c.a.cloud.ai.manus.llm.StreamingResponseHandler(StreamingResponseHandler.java 258) -âœ… Summary generation - Completed[9414ms]: 88 responses processed, 742 characters, 0 tool calls, 0 prompt tokens, 0 completion tokens, 0 total tokens. Preview: 'æ ¹æ®æ‚¨æä¾›çš„æ‰§è¡Œè¯¦æƒ…ï¼Œå½“å‰çš„ç”¨æˆ·è¯·æ±‚æ˜¯â€œç»“æž„åŒ–è¾“å‡ºâ€ï¼Œä½†å®žé™…çš„æ‰§è¡Œè¿‡ç¨‹å› è¾¾åˆ°æœ€å¤§è½®æ¬¡é™åˆ¶ï¼ˆ40è½®ï¼‰è€Œç»ˆæ­¢ï¼Œæœªèƒ½å®Œæ•´èŽ·å–æˆ–å¤„ç†ç›®æ ‡æ–‡ä»¶ `/Users/whisper/Downloads/html.md` çš„å†…å®¹ã€‚

### å½“å‰çŠ¶æ€æ€»ç»“ï¼š
- **è¯·æ±‚ç›®æ ‡**ï¼šå®žçŽ°â€œç»“æž„åŒ–è¾“å‡ºâ€â€”â€”é€šå¸¸æŒ‡å°†éžç»“æž„åŒ–æ•°æ®ï¼ˆå¦‚HTMLæ–‡æœ¬ï¼‰è½¬æ¢ä¸ºç»“æž„åŒ–çš„æ ¼å¼ï¼ˆå¦‚JSONã€è¡¨æ ¼ç­‰ï¼‰ã€‚
- **æ‰§è¡Œæƒ…å†µ**ï¼š
  - ç³»...'
2025-09-19 09:19:11:642 [level-0-executor-0-thread-1] INFO  c.a.c.a.m.r.service.NewRepoPlanExecutionRecorder(NewRepoPlanExecutionRecorder.java 621) -Successfully recorded plan completion for currentPlanId: plan-1758244741509, completed: true, endTime: 2025-09-19T09:19:11.636733
2025-09-19 09:19:11:642 [level-0-executor-0-thread-1] INFO  c.a.cloud.ai.manus.planning.service.PlanFinalizer(PlanFinalizer.java 114) -Generated summary: æ ¹æ®æ‚¨æä¾›çš„æ‰§è¡Œè¯¦æƒ…ï¼Œå½“å‰çš„ç”¨æˆ·è¯·æ±‚æ˜¯â€œç»“æž„åŒ–è¾“å‡ºâ€ï¼Œä½†å®žé™…çš„æ‰§è¡Œè¿‡ç¨‹å› è¾¾åˆ°æœ€å¤§è½®æ¬¡é™åˆ¶ï¼ˆ40è½®ï¼‰è€Œç»ˆæ­¢ï¼Œæœªèƒ½å®Œæ•´èŽ·å–æˆ–å¤„ç†ç›®æ ‡æ–‡ä»¶ `/Users/whisper/Downloads/html.md` çš„å†…å®¹ã€‚

### å½“å‰çŠ¶æ€æ€»ç»“ï¼š
- **è¯·æ±‚ç›®æ ‡**ï¼šå®žçŽ°â€œç»“æž„åŒ–è¾“å‡ºâ€â€”â€”é€šå¸¸æŒ‡å°†éžç»“æž„åŒ–æ•°æ®ï¼ˆå¦‚HTMLæ–‡æœ¬ï¼‰è½¬æ¢ä¸ºç»“æž„åŒ–çš„æ ¼å¼ï¼ˆå¦‚JSONã€è¡¨æ ¼ç­‰ï¼‰ã€‚
- **æ‰§è¡Œæƒ…å†µ**ï¼š
  - ç³»ç»Ÿå°è¯•è¯»å–æœ¬åœ°æ–‡ä»¶ `html.md`ã€‚
  - æ‰§è¡Œè¢«ä¸­æ–­ï¼ŒåŽŸå› ï¼šâ€œReached max rounds (40)â€ã€‚
  - **æœªèŽ·å¾—æœ‰æ•ˆæ–‡ä»¶å†…å®¹æˆ–è§£æžç»“æžœ**ã€‚
- **å½“å‰å¯ç”¨ä¿¡æ¯**ï¼šä»…æœ‰è¯·æ±‚å’Œæ‰§è¡Œæ—¥å¿—ï¼Œæ— åŽŸå§‹æ•°æ®å†…å®¹ã€‚

---

### å»ºè®®ä¸‹ä¸€æ­¥æ“ä½œï¼š

ä¸ºäº†å®Œæˆâ€œç»“æž„åŒ–è¾“å‡ºâ€çš„è¯·æ±‚ï¼Œè¯·æä¾›ä»¥ä¸‹ä»»ä¸€æ”¯æŒä¿¡æ¯ï¼š

1. âœ… **ç›´æŽ¥æä¾›æ–‡ä»¶å†…å®¹**ï¼š  
   å°† `html.md` ä¸­çš„å†…å®¹ç²˜è´´å‡ºæ¥ï¼Œæˆ‘å¯ç«‹å³å¯¹å…¶è¿›è¡Œè§£æžå¹¶ç»“æž„åŒ–è¾“å‡ºï¼ˆå¦‚è½¬ä¸º JSONã€Markdown è¡¨æ ¼ç­‰ï¼‰ã€‚

2. âœ… **æ˜Žç¡®ç»“æž„åŒ–ç›®æ ‡æ ¼å¼**ï¼š  
   æ‚¨å¸Œæœ›ç»“æž„åŒ–æˆä»€ä¹ˆå½¢å¼ï¼Ÿä¾‹å¦‚ï¼š
   - JSON
   - YAML
   - è¡¨æ ¼ï¼ˆTableï¼‰
   - XML
   - å…¶ä»–è‡ªå®šä¹‰æ ¼å¼

3. âœ… **è¯´æ˜Žéœ€æå–çš„ä¿¡æ¯ç±»åž‹**ï¼ˆå¯é€‰ï¼‰ï¼š  
   ä¾‹å¦‚ï¼šä»…æå–æ ‡é¢˜ã€é“¾æŽ¥ã€ç‰¹å®šæ ‡ç­¾ï¼›æˆ–æŒ‰ç« èŠ‚ç»„ç»‡å†…å®¹ç­‰ã€‚

---

ðŸ“¬ **è¯·å›žå¤ç¤ºä¾‹**ï¼š

```text
è¿™æ˜¯ html.md çš„å†…å®¹ï¼š
# é¡µé¢æ ‡é¢˜
<a href="https://example.com">ç¤ºä¾‹é“¾æŽ¥</a>
...
è¯·å°†å…¶ç»“æž„åŒ–ä¸º JSONã€‚
```

æ”¶åˆ°åŽï¼Œæˆ‘å°†ç«‹å³ä¸ºæ‚¨ç”Ÿæˆç»“æž„åŒ–è¾“å‡ºã€‚
2025-09-19 09:19:11:643 [level-0-executor-0-thread-1] INFO  c.a.c.ai.manus.runtime.controller.ManusController(ManusController.java 272) -Async plan execution completed for planId: plan-1758244741509
2025-09-19 09:19:26:275 [http-nio-18080-exec-10] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: browser_use
2025-09-19 09:19:26:278 [http-nio-18080-exec-10] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: database_use
2025-09-19 09:19:26:278 [http-nio-18080-exec-10] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: terminate
2025-09-19 09:19:26:278 [http-nio-18080-exec-10] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: bash
2025-09-19 09:19:26:278 [http-nio-18080-exec-10] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: doc_loader
2025-09-19 09:19:26:279 [http-nio-18080-exec-10] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: text_file_operator
2025-09-19 09:19:26:284 [http-nio-18080-exec-10] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: table_processor
2025-09-19 09:19:26:284 [http-nio-18080-exec-10] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: file_merge_tool
2025-09-19 09:19:26:284 [http-nio-18080-exec-10] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: form_input
2025-09-19 09:19:26:284 [http-nio-18080-exec-10] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: data_split_tool
2025-09-19 09:19:26:284 [http-nio-18080-exec-10] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: map_output_tool
2025-09-19 09:19:26:284 [http-nio-18080-exec-10] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: reduce_operation_tool
2025-09-19 09:19:26:284 [http-nio-18080-exec-10] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: mapreduce_finalize_tool
2025-09-19 09:19:26:285 [http-nio-18080-exec-10] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: cron_tool
2025-09-19 09:19:26:285 [http-nio-18080-exec-10] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: excel_processor
2025-09-19 09:19:26:285 [http-nio-18080-exec-10] INFO  c.a.c.ai.manus.subplan.service.SubplanToolService(SubplanToolService.java 93) -Creating subplan tool callbacks for planId: a1cbe012-dc62-48a1-9fd7-2f6d06a7505d, rootPlanId: a1cbe012-dc62-48a1-9fd7-2f6d06a7505d
2025-09-19 09:19:26:344 [http-nio-18080-exec-10] INFO  c.a.c.ai.manus.subplan.service.SubplanToolService(SubplanToolService.java 106) -Found 4 subplan tools to register
2025-09-19 09:19:26:348 [http-nio-18080-exec-10] INFO  c.a.c.ai.manus.subplan.service.SubplanToolService(SubplanToolService.java 130) -Successfully registered subplan tool: extract_relevant_content -> extract_relevant_content_template
2025-09-19 09:19:26:349 [http-nio-18080-exec-10] INFO  c.a.c.ai.manus.subplan.service.SubplanToolService(SubplanToolService.java 130) -Successfully registered subplan tool: searchShenxun -> planTemplate-1758087694822
2025-09-19 09:19:26:349 [http-nio-18080-exec-10] INFO  c.a.c.ai.manus.subplan.service.SubplanToolService(SubplanToolService.java 130) -Successfully registered subplan tool: summaryResult -> planTemplate-1758202965673
2025-09-19 09:19:26:349 [http-nio-18080-exec-10] INFO  c.a.c.ai.manus.subplan.service.SubplanToolService(SubplanToolService.java 130) -Successfully registered subplan tool: summaryStructure -> planTemplate-1758202965693
2025-09-19 09:19:26:349 [http-nio-18080-exec-10] INFO  c.a.c.ai.manus.subplan.service.SubplanToolService(SubplanToolService.java 144) -Created 4 subplan tool callbacks
2025-09-19 09:19:26:352 [http-nio-18080-exec-10] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 314) -Registered 4 subplan tools
2025-09-19 09:19:26:353 [http-nio-18080-exec-10] INFO  c.a.cloud.ai.manus.mcp.service.McpCacheManager(McpCacheManager.java 553) -Cache invalidation requested for plan: a1cbe012-dc62-48a1-9fd7-2f6d06a7505d, but using double buffer mechanism - no action needed
2025-09-19 09:19:31:749 [main] INFO  c.a.cloud.ai.manus.OpenManusSpringBootApplication(StartupInfoLogger.java 53) -Starting OpenManusSpringBootApplication using Java 17.0.4.1 with PID 51736 (/Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/target/classes started by whisper in /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus)
2025-09-19 09:19:31:751 [main] INFO  c.a.cloud.ai.manus.OpenManusSpringBootApplication(SpringApplication.java 658) -The following 1 profile is active: "h2"
2025-09-19 09:19:32:199 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate(RepositoryConfigurationDelegate.java 147) -Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-19 09:19:32:334 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate(RepositoryConfigurationDelegate.java 215) -Finished Spring Data repository scanning in 128 ms. Found 17 JPA repository interfaces.
2025-09-19 09:19:32:808 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer(TomcatWebServer.java 111) -Tomcat initialized with port 18080 (http)
2025-09-19 09:19:32:816 [main] INFO  org.apache.coyote.http11.Http11NioProtocol(DirectJDKLog.java 168) -Initializing ProtocolHandler ["http-nio-18080"]
2025-09-19 09:19:32:819 [main] INFO  org.apache.catalina.core.StandardService(DirectJDKLog.java 168) -Starting service [Tomcat]
2025-09-19 09:19:32:820 [main] INFO  org.apache.catalina.core.StandardEngine(DirectJDKLog.java 168) -Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-09-19 09:19:32:866 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/](DirectJDKLog.java 168) -Initializing Spring embedded WebApplicationContext
2025-09-19 09:19:32:866 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext(ServletWebServerApplicationContext.java 301) -Root WebApplicationContext: initialization completed in 1071 ms
2025-09-19 09:19:32:967 [main] INFO  org.hibernate.jpa.internal.util.LogHelper(LogHelper.java 31) -HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-19 09:19:33:012 [main] INFO  org.hibernate.Version(Version.java 44) -HHH000412: Hibernate ORM core version 6.6.22.Final
2025-09-19 09:19:33:035 [main] INFO  o.hibernate.cache.internal.RegionFactoryInitiator(RegionFactoryInitiator.java 50) -HHH000026: Second-level cache disabled
2025-09-19 09:19:33:180 [main] INFO  o.s.o.j.persistenceunit.SpringPersistenceUnitInfo(SpringPersistenceUnitInfo.java 87) -No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-19 09:19:33:197 [main] INFO  com.zaxxer.hikari.HikariDataSource(HikariDataSource.java 109) -Spring-AI-Alibaba-JManus-h2-Pool - Starting...
2025-09-19 09:19:33:390 [main] INFO  com.zaxxer.hikari.pool.HikariPool(HikariPool.java 554) -Spring-AI-Alibaba-JManus-h2-Pool - Added connection conn0: url=jdbc:h2:file:./h2-data/openmanus_db user=SA
2025-09-19 09:19:33:392 [main] INFO  com.zaxxer.hikari.HikariDataSource(HikariDataSource.java 122) -Spring-AI-Alibaba-JManus-h2-Pool - Start completed.
2025-09-19 09:19:33:419 [main] INFO  org.hibernate.orm.connections.pooling(JdbcEnvironmentInitiator.java 163) -HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (Spring-AI-Alibaba-JManus-h2-Pool)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-19 09:19:33:576 [main] INFO  com.alibaba.cloud.ai.manus.config.JacksonConfig(JacksonConfig.java 73) -Successfully registered JavaTimeModule to org.springframework.ai.model.ModelOptionsUtils.OBJECT_MAPPER
2025-09-19 09:19:33:576 [main] INFO  com.alibaba.cloud.ai.manus.config.JacksonConfig(JacksonConfig.java 73) -Successfully registered JavaTimeModule to org.springframework.ai.util.json.JsonParser.OBJECT_MAPPER
2025-09-19 09:19:33:577 [main] INFO  com.alibaba.cloud.ai.manus.config.JacksonConfig(JacksonConfig.java 46) -Created ObjectMapper with JavaTimeModule and UTF-8 support registered
2025-09-19 09:19:34:082 [main] INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator(JtaPlatformInitiator.java 59) -HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-19 09:19:34:146 [main] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean(AbstractEntityManagerFactoryBean.java 447) -Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-19 09:19:34:598 [main] INFO  o.s.data.jpa.repository.query.QueryEnhancerFactory(QueryEnhancerFactory.java 49) -Hibernate is in classpath; If applicable, HQL parser will be used.
2025-09-19 09:19:35:015 [main] INFO  c.a.cloud.ai.manus.mcp.service.McpCacheManager(McpCacheManager.java 274) -MCP service loader configuration changed, updating thread pool
2025-09-19 09:19:35:015 [main] INFO  c.a.cloud.ai.manus.mcp.service.McpCacheManager(McpCacheManager.java 288) -Updated MCP service loader thread pool with max 10 concurrent connections
2025-09-19 09:19:35:015 [main] INFO  c.a.cloud.ai.manus.mcp.service.McpCacheManager(McpCacheManager.java 203) -Initializing MCP cache manager with double buffer mechanism
2025-09-19 09:19:35:018 [main] INFO  c.a.cloud.ai.manus.mcp.service.McpCacheManager(McpCacheManager.java 344) -No MCP server configurations found
2025-09-19 09:19:35:018 [main] INFO  c.a.cloud.ai.manus.mcp.service.McpCacheManager(McpCacheManager.java 214) -Initial cache loaded successfully with 0 services
2025-09-19 09:19:35:018 [main] INFO  c.a.cloud.ai.manus.mcp.service.McpCacheManager(McpCacheManager.java 236) -Scheduled cache update task started, interval: 10 minutes
2025-09-19 09:19:35:162 [main] INFO  com.alibaba.cloud.ai.manus.llm.LlmService(LlmService.java 111) -Checking and init ChatClient instance...
2025-09-19 09:19:35:177 [main] INFO  com.alibaba.cloud.ai.manus.llm.LlmService(LlmService.java 122) -Find default model: qwen-plus
2025-09-19 09:19:35:425 [main] INFO  com.alibaba.cloud.ai.manus.llm.LlmService(LlmService.java 247) -Build or update dynamic chat client for model: qwen-plus
2025-09-19 09:19:35:425 [main] INFO  com.alibaba.cloud.ai.manus.llm.LlmService(LlmService.java 127) -ChatClient init success
2025-09-19 09:19:35:568 [main] INFO  c.alibaba.cloud.ai.manus.config.PlaywrightConfig(PlaywrightConfig.java 60) -PLAYWRIGHT_BROWSERS_PATH not set, using default browser path
2025-09-19 09:19:35:570 [main] INFO  c.a.c.a.m.model.service.ModelDataInitialization(ModelDataInitialization.java 102) -Default model already exists: qwen-plus, skipping environment variable model creation
2025-09-19 09:19:35:893 [main] INFO  o.s.b.autoconfigure.h2.H2ConsoleAutoConfiguration(H2ConsoleAutoConfiguration.java 133) -H2 console available at '/h2-console'. Database available at 'jdbc:h2:file:./h2-data/openmanus_db'
2025-09-19 09:19:35:987 [main] INFO  org.apache.coyote.http11.Http11NioProtocol(DirectJDKLog.java 168) -Starting ProtocolHandler ["http-nio-18080"]
2025-09-19 09:19:36:000 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer(TomcatWebServer.java 243) -Tomcat started on port 18080 (http) with context path '/'
2025-09-19 09:19:36:011 [main] INFO  com.alibaba.cloud.ai.manus.config.ConfigService(ConfigService.java 70) -Found 33 configuration beans
2025-09-19 09:19:36:013 [main] INFO  com.alibaba.cloud.ai.manus.config.ConfigService(ConfigService.java 85) -Cleaning up obsolete configurations not defined in ManusProperties...
2025-09-19 09:19:36:021 [main] INFO  com.alibaba.cloud.ai.manus.config.ConfigService(ConfigService.java 102) -âœ… No obsolete configurations found
2025-09-19 09:19:36:046 [main] INFO  c.a.cloud.ai.manus.OpenManusSpringBootApplication(StartupInfoLogger.java 59) -Started OpenManusSpringBootApplication in 4.732 seconds (process running for 5.284)
2025-09-19 09:19:36:049 [main] INFO  c.a.c.a.m.config.startUp.ConfigAppStartupListener(ConfigAppStartupListener.java 60) -Configuration system initialized with 17 total configs
2025-09-19 09:19:36:050 [main] INFO  c.a.c.a.m.config.startUp.ConfigAppStartupListener(ConfigAppStartupListener.java 61) -Group 'manus': 17 configs
2025-09-19 09:19:36:050 [main] INFO  c.a.c.a.m.config.startUp.ConfigAppStartupListener(ConfigAppStartupListener.java 68) -1 configs are using custom values
2025-09-19 09:19:36:050 [main] INFO  c.a.c.a.m.config.startUp.ConfigAppStartupListener(ConfigAppStartupListener.java 78) -Starting to initialize dynamic agents...
2025-09-19 09:19:36:052 [main] INFO  c.a.c.ai.manus.agent.service.DynamicAgentScanner(DynamicAgentScanner.java 93) -Checking for deprecated @DynamicAgentDefinition annotation usage...
2025-09-19 09:19:36:093 [main] INFO  c.a.c.ai.manus.agent.service.DynamicAgentScanner(DynamicAgentScanner.java 174) -âœ… No deprecated @DynamicAgentDefinition annotations found. System can start normally.
2025-09-19 09:19:36:093 [main] INFO  c.a.c.ai.manus.agent.service.DynamicAgentScanner(DynamicAgentScanner.java 75) -âœ… Force override from YAML enabled - Starting to scan and override agents from YAML configuration files...
2025-09-19 09:19:36:093 [main] INFO  c.a.c.ai.manus.agent.service.DynamicAgentScanner(DynamicAgentScanner.java 181) -ðŸ” Starting to scan YAML agent configuration files...
2025-09-19 09:19:36:096 [main] INFO  c.a.c.a.m.a.startupAgent.StartupAgentConfigLoader(StartupAgentConfigLoader.java 231) -Scanned 0 startup agents: []
2025-09-19 09:19:36:097 [main] INFO  c.a.c.ai.manus.agent.service.DynamicAgentScanner(DynamicAgentScanner.java 212) -âœ… YAML agent configuration scanning completed - Total: 0, Created: 0, Overridden: 0
2025-09-19 09:19:36:097 [main] INFO  c.a.c.ai.manus.agent.service.DynamicAgentScanner(DynamicAgentScanner.java 81) -âœ… Dynamic agent override from YAML files completed
2025-09-19 09:19:36:097 [main] INFO  c.a.c.a.m.config.startUp.ConfigAppStartupListener(ConfigAppStartupListener.java 80) -Dynamic agents initialization completed
2025-09-19 09:19:36:097 [main] INFO  c.a.c.a.m.tool.database.DatabaseUseStartupListener(DatabaseUseStartupListener.java 48) -Starting to initialize database configurations...
2025-09-19 09:19:36:099 [main] INFO  c.a.cloud.ai.manus.tool.database.DataSourceService(DataSourceService.java 62) -Added datasource 'amanus' with url: jdbc:mysql://127.0.0.1:3306/amanus?serverTimezone=UTC&useUnicode=true&characterEncoding=utf8 and type: mysql
2025-09-19 09:19:36:099 [main] INFO  c.a.c.a.m.tool.database.DatabaseUseStartupListener(DatabaseUseStartupListener.java 100) -Initialized datasource 'amanus' (type: mysql)
2025-09-19 09:19:36:100 [main] INFO  c.a.cloud.ai.manus.tool.database.DataSourceService(DataSourceService.java 62) -Added datasource 'testdb' with url: jdbc:h2:file:./h2-data/testdb;MODE=MYSQL;DATABASE_TO_LOWER=TRUE and type: h2
2025-09-19 09:19:36:100 [main] INFO  c.a.c.a.m.tool.database.DatabaseUseStartupListener(DatabaseUseStartupListener.java 100) -Initialized datasource 'testdb' (type: h2)
2025-09-19 09:19:36:100 [main] INFO  c.a.c.a.m.tool.database.DatabaseUseStartupListener(DatabaseUseStartupListener.java 68) -Database configurations initialized with 2 datasources
2025-09-19 09:19:36:100 [main] INFO  c.a.c.a.m.tool.database.DatabaseUseStartupListener(DatabaseUseStartupListener.java 150) -
====================================================================================================
DATABASE DATASOURCE SUMMARY
====================================================================================================
â”‚ Datasource: amanus       â”‚ Type: mysql    â”‚ Status: âœ“ INSTANTIATED â”‚ URL: jdbc:mysql://127.0.0.1:3306/amanus?serverTimezone=UTC&useUnicode=true&characterEncoding=utf8 â”‚
â”‚ Datasource: testdb       â”‚ Type: h2       â”‚ Status: âœ“ INSTANTIATED â”‚ URL: jdbc:h2:file:./h2-data/testdb;MODE=MYSQL;DATABASE_TO_LOWER=TRUE â”‚
----------------------------------------------------------------------------------------------------
â”‚ SUMMARY: Total=2, Instantiated=2, Disabled=0, Failed=0 â”‚
====================================================================================================


2025-09-19 09:19:36:119 [main] INFO  c.a.c.a.m.n.service.NamespaceDataInitialization(NamespaceDataInitialization.java 53) -1 namespaces already exist, skipping default namespace initialization
2025-09-19 09:19:36:120 [main] INFO  c.a.c.a.m.tool.jsxGenerator.JsxGeneratorService(JsxGeneratorService.java 69) -JsxGeneratorService initialized
2025-09-19 09:19:36:120 [main] INFO  c.a.c.a.m.tool.jsxGenerator.JsxGeneratorService(JsxGeneratorService.java 442) -Registered template: counter-button
2025-09-19 09:19:36:120 [main] INFO  c.a.c.a.m.tool.jsxGenerator.JsxGeneratorService(JsxGeneratorService.java 442) -Registered template: data-form
2025-09-19 09:19:36:121 [main] INFO  c.a.c.a.m.tool.jsxGenerator.JsxGeneratorService(JsxGeneratorService.java 203) -Default templates initialized: [counter-button, data-form]
2025-09-19 09:19:36:146 [main] INFO  c.a.c.a.manus.cron.scheduler.DynamicCronTaskLoader(DynamicCronTaskLoader.java 93) -Loaded 0 enabled scheduled tasks
2025-09-19 09:19:36:146 [main] INFO  c.a.c.a.manus.cron.scheduler.DynamicCronTaskLoader(DynamicCronTaskLoader.java 52) -Scheduled task loading completed
2025-09-19 09:19:36:146 [main] INFO  c.a.c.ai.manus.tool.textOperator.TextFileService(TextFileService.java 76) -TextFileService initialized
2025-09-19 09:19:36:148 [main] INFO  c.a.c.ai.manus.config.startUp.AppStartupListener(AppStartupListener.java 54) -Application started, attempting to open browser to access: http://localhost:18080/ui/index.html
2025-09-19 09:19:36:171 [main] INFO  c.a.c.ai.manus.config.startUp.AppStartupListener(AppStartupListener.java 75) -Successfully opened browser via macOS open command
2025-09-19 09:19:36:173 [main] INFO  c.a.c.a.m.s.initializer.SubplanToolInitializer(SubplanToolInitializer.java 54) -Starting subplan tools initialization...
2025-09-19 09:19:36:173 [main] INFO  c.a.c.a.m.s.initializer.SubplanToolInitializer(SubplanToolInitializer.java 74) -Initializing plan templates...
2025-09-19 09:19:36:183 [main] INFO  c.a.c.a.m.s.initializer.SubplanToolInitializer(SubplanToolInitializer.java 113) -Initializing predefined subplan tools...
2025-09-19 09:19:36:185 [main] INFO  c.a.c.a.m.s.initializer.SubplanToolInitializer(SubplanToolInitializer.java 63) -Subplan tools initialization completed successfully
2025-09-19 09:19:36:969 [http-nio-18080-exec-1] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/](DirectJDKLog.java 168) -Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-19 09:19:36:970 [http-nio-18080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet(FrameworkServlet.java 532) -Initializing Servlet 'dispatcherServlet'
2025-09-19 09:19:36:977 [http-nio-18080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet(FrameworkServlet.java 554) -Completed initialization in 4 ms
2025-09-19 09:19:37:092 [http-nio-18080-exec-3] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: browser_use
2025-09-19 09:19:37:092 [http-nio-18080-exec-3] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: database_use
2025-09-19 09:19:37:093 [http-nio-18080-exec-3] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: terminate
2025-09-19 09:19:37:093 [http-nio-18080-exec-3] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: bash
2025-09-19 09:19:37:094 [http-nio-18080-exec-3] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: doc_loader
2025-09-19 09:19:37:102 [http-nio-18080-exec-3] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: text_file_operator
2025-09-19 09:19:37:106 [http-nio-18080-exec-3] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: table_processor
2025-09-19 09:19:37:107 [http-nio-18080-exec-3] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: file_merge_tool
2025-09-19 09:19:37:108 [http-nio-18080-exec-3] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: form_input
2025-09-19 09:19:37:109 [http-nio-18080-exec-3] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: data_split_tool
2025-09-19 09:19:37:111 [http-nio-18080-exec-3] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: map_output_tool
2025-09-19 09:19:37:112 [http-nio-18080-exec-3] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: reduce_operation_tool
2025-09-19 09:19:37:112 [http-nio-18080-exec-3] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: mapreduce_finalize_tool
2025-09-19 09:19:37:113 [http-nio-18080-exec-3] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: cron_tool
2025-09-19 09:19:37:114 [http-nio-18080-exec-3] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: excel_processor
2025-09-19 09:19:37:115 [http-nio-18080-exec-3] INFO  c.a.c.ai.manus.subplan.service.SubplanToolService(SubplanToolService.java 93) -Creating subplan tool callbacks for planId: 6ade6fb0-5421-4c7f-8048-8ee9d7f30c54, rootPlanId: 6ade6fb0-5421-4c7f-8048-8ee9d7f30c54
2025-09-19 09:19:37:135 [http-nio-18080-exec-3] INFO  c.a.c.ai.manus.subplan.service.SubplanToolService(SubplanToolService.java 106) -Found 4 subplan tools to register
2025-09-19 09:19:37:137 [http-nio-18080-exec-3] INFO  c.a.c.ai.manus.subplan.service.SubplanToolService(SubplanToolService.java 130) -Successfully registered subplan tool: extract_relevant_content -> extract_relevant_content_template
2025-09-19 09:19:37:137 [http-nio-18080-exec-3] INFO  c.a.c.ai.manus.subplan.service.SubplanToolService(SubplanToolService.java 130) -Successfully registered subplan tool: searchShenxun -> planTemplate-1758087694822
2025-09-19 09:19:37:137 [http-nio-18080-exec-3] INFO  c.a.c.ai.manus.subplan.service.SubplanToolService(SubplanToolService.java 130) -Successfully registered subplan tool: summaryResult -> planTemplate-1758202965673
2025-09-19 09:19:37:138 [http-nio-18080-exec-3] INFO  c.a.c.ai.manus.subplan.service.SubplanToolService(SubplanToolService.java 130) -Successfully registered subplan tool: summaryStructure -> planTemplate-1758202965693
2025-09-19 09:19:37:138 [http-nio-18080-exec-3] INFO  c.a.c.ai.manus.subplan.service.SubplanToolService(SubplanToolService.java 144) -Created 4 subplan tool callbacks
2025-09-19 09:19:37:150 [http-nio-18080-exec-3] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 314) -Registered 4 subplan tools
2025-09-19 09:19:37:152 [http-nio-18080-exec-3] INFO  c.a.cloud.ai.manus.mcp.service.McpCacheManager(McpCacheManager.java 553) -Cache invalidation requested for plan: 6ade6fb0-5421-4c7f-8048-8ee9d7f30c54, but using double buffer mechanism - no action needed
2025-09-19 09:19:45:339 [http-nio-18080-exec-1] INFO  c.a.c.a.m.c.controller.CoordinatorToolController(CoordinatorToolController.java 116) -Getting or creating coordinator tool for plan template: planTemplate-1758202965693
2025-09-19 09:19:45:348 [http-nio-18080-exec-2] INFO  c.a.cloud.ai.manus.model.service.ModelServiceImpl(ModelServiceImpl.java 432) -Sending HTTP request to: https://dashscope.aliyuncs.com/compatible-mode/v1/models
2025-09-19 09:19:45:656 [http-nio-18080-exec-2] INFO  c.a.cloud.ai.manus.model.service.ModelServiceImpl(ModelServiceImpl.java 442) -HTTP request completed - Status code: 200, Duration: 307ms
2025-09-19 09:19:45:656 [http-nio-18080-exec-2] INFO  c.a.cloud.ai.manus.model.service.ModelServiceImpl(ModelServiceImpl.java 321) -Successfully parsed response, obtained 97 available models
2025-09-19 09:19:45:656 [http-nio-18080-exec-2] INFO  c.a.cloud.ai.manus.model.service.ModelServiceImpl(ModelServiceImpl.java 447) -Successfully parsed response, obtained 97 models
2025-09-19 09:19:48:503 [http-nio-18080-exec-3] INFO  c.a.c.ai.manus.runtime.controller.ManusController(ManusController.java 230) -ðŸ”— [HTTP] Received query request from HTTP client: 
2025-09-19 09:19:48:505 [http-nio-18080-exec-3] INFO  c.a.c.ai.manus.runtime.controller.ManusController(ManusController.java 244) -Tool not published, using toolName as planTemplateId: planTemplate-1758202965693
2025-09-19 09:19:48:507 [http-nio-18080-exec-3] INFO  c.a.c.ai.manus.runtime.controller.ManusController(ManusController.java 546) -Replacing parameter placeholders in plan template with input parameters: [planId]
2025-09-19 09:19:48:531 [http-nio-18080-exec-3] INFO  c.a.c.ai.manus.runtime.service.PlanningCoordinator(PlanningCoordinator.java 156) -Starting direct plan execution for plan: null
2025-09-19 09:19:48:532 [http-nio-18080-exec-3] INFO  c.a.c.a.m.r.executor.factory.PlanExecutorFactory(PlanExecutorFactory.java 162) -Creating executor for plan type: dynamic_agent (planId: null)
2025-09-19 09:19:48:543 [http-nio-18080-exec-3] INFO  c.a.c.a.m.runtime.executor.LevelBasedExecutorPool(LevelBasedExecutorPool.java 207) -Created executor pool for depth level 0: level-0-executor-0 (core: 5, max: 20, queue: 100)
2025-09-19 09:19:48:570 [level-0-executor-0-thread-1] INFO  c.a.c.a.m.r.service.NewRepoPlanExecutionRecorder(NewRepoPlanExecutionRecorder.java 822) -Successfully created plan relationship for currentPlanId: plan-1758244788505, parentPlanId: null, rootPlanId: plan-1758244788505
2025-09-19 09:19:48:570 [level-0-executor-0-thread-1] INFO  c.a.c.a.m.r.service.NewRepoPlanExecutionRecorder(NewRepoPlanExecutionRecorder.java 148) -Successfully saved plan execution record for ID: plan-1758244788505 with 1 steps
2025-09-19 09:19:48:579 [level-0-executor-0-thread-1] INFO  c.a.cloud.ai.manus.agent.service.AgentServiceImpl(AgentServiceImpl.java 349) -Create new BaseAgent: ConfigurableDynaAgent, planId: plan-1758244788505
2025-09-19 09:19:48:579 [level-0-executor-0-thread-1] INFO  c.a.cloud.ai.manus.agent.service.AgentServiceImpl(AgentServiceImpl.java 204) -No model entity provided for ConfigurableDynaAgent, using null model
2025-09-19 09:19:48:582 [level-0-executor-0-thread-1] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: browser_use
2025-09-19 09:19:48:583 [level-0-executor-0-thread-1] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: database_use
2025-09-19 09:19:48:583 [level-0-executor-0-thread-1] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: terminate
2025-09-19 09:19:48:583 [level-0-executor-0-thread-1] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: bash
2025-09-19 09:19:48:583 [level-0-executor-0-thread-1] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: doc_loader
2025-09-19 09:19:48:583 [level-0-executor-0-thread-1] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: text_file_operator
2025-09-19 09:19:48:583 [level-0-executor-0-thread-1] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: table_processor
2025-09-19 09:19:48:583 [level-0-executor-0-thread-1] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: file_merge_tool
2025-09-19 09:19:48:583 [level-0-executor-0-thread-1] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: form_input
2025-09-19 09:19:48:583 [level-0-executor-0-thread-1] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: data_split_tool
2025-09-19 09:19:48:584 [level-0-executor-0-thread-1] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: map_output_tool
2025-09-19 09:19:48:584 [level-0-executor-0-thread-1] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: reduce_operation_tool
2025-09-19 09:19:48:584 [level-0-executor-0-thread-1] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: mapreduce_finalize_tool
2025-09-19 09:19:48:584 [level-0-executor-0-thread-1] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: cron_tool
2025-09-19 09:19:48:584 [level-0-executor-0-thread-1] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: excel_processor
2025-09-19 09:19:48:584 [level-0-executor-0-thread-1] INFO  c.a.c.ai.manus.subplan.service.SubplanToolService(SubplanToolService.java 93) -Creating subplan tool callbacks for planId: plan-1758244788505, rootPlanId: plan-1758244788505
2025-09-19 09:19:48:585 [level-0-executor-0-thread-1] INFO  c.a.c.ai.manus.subplan.service.SubplanToolService(SubplanToolService.java 106) -Found 4 subplan tools to register
2025-09-19 09:19:48:585 [level-0-executor-0-thread-1] INFO  c.a.c.ai.manus.subplan.service.SubplanToolService(SubplanToolService.java 130) -Successfully registered subplan tool: extract_relevant_content -> extract_relevant_content_template
2025-09-19 09:19:48:586 [level-0-executor-0-thread-1] INFO  c.a.c.ai.manus.subplan.service.SubplanToolService(SubplanToolService.java 130) -Successfully registered subplan tool: searchShenxun -> planTemplate-1758087694822
2025-09-19 09:19:48:586 [level-0-executor-0-thread-1] INFO  c.a.c.ai.manus.subplan.service.SubplanToolService(SubplanToolService.java 130) -Successfully registered subplan tool: summaryResult -> planTemplate-1758202965673
2025-09-19 09:19:48:586 [level-0-executor-0-thread-1] INFO  c.a.c.ai.manus.subplan.service.SubplanToolService(SubplanToolService.java 130) -Successfully registered subplan tool: summaryStructure -> planTemplate-1758202965693
2025-09-19 09:19:48:586 [level-0-executor-0-thread-1] INFO  c.a.c.ai.manus.subplan.service.SubplanToolService(SubplanToolService.java 144) -Created 4 subplan tool callbacks
2025-09-19 09:19:48:586 [level-0-executor-0-thread-1] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 314) -Registered 4 subplan tools
2025-09-19 09:19:48:596 [level-0-executor-0-thread-1] INFO  c.a.c.a.m.r.service.NewRepoPlanExecutionRecorder(NewRepoPlanExecutionRecorder.java 329) -Successfully recorded step start for stepId: step-ece7ef47-189c-4962-bc3e-78ad5561eb59, planId: plan-1758244788505, status: RUNNING
2025-09-19 09:19:48:596 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 1/40
2025-09-19 09:19:48:596 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:19:48:597 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758244788505
- Available files: None

2025-09-19 09:19:48:597 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:19:48:597 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
No operation performed yet

2025-09-19 09:19:48:597 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:19:48:597 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758244788505
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:19:48:597 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:19:48:702 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 134) -Exception occurred
java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:107)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:92)
	at org.springframework.ai.openai.api.OpenAiApi$FunctionTool$Function.<init>(OpenAiApi.java:888)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$getFunctionTools$21(OpenAiChatModel.java:674)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.ai.openai.OpenAiChatModel.getFunctionTools(OpenAiChatModel.java:676)
	at org.springframework.ai.openai.OpenAiChatModel.createRequest(OpenAiChatModel.java:615)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalStream$13(OpenAiChatModel.java:272)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxPublishOn.subscribeOrReturn(FluxPublishOn.java:92)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:55)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891)
	at reactor.core.publisher.Flux.blockLast(Flux.java:2816)
	at com.alibaba.cloud.ai.manus.llm.StreamingResponseHandler.processStreamingResponse(StreamingResponseHandler.java:222)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.executeWithRetry(DynamicAgent.java:187)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.think(DynamicAgent.java:130)
	at com.alibaba.cloud.ai.manus.agent.ReActAgent.step(ReActAgent.java:83)
	at com.alibaba.cloud.ai.manus.agent.BaseAgent.run(BaseAgent.java:222)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.executeStep(AbstractPlanExecutor.java:109)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.lambda$0(AbstractPlanExecutor.java:228)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Flux.blockLast(Flux.java:2817)
		... 11 common frames omitted
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2666)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:741)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipComma(ReaderBasedJsonParser.java:2429)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:924)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR._deserializeNR(UntypedObjectDeserializerNR.java:227)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserialize(UntypedObjectDeserializerNR.java:70)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4931)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3868)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3851)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:104)
	... 39 common frames omitted
2025-09-19 09:19:48:703 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: in_progress
2025-09-19 09:19:48:703 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 2/40
2025-09-19 09:19:48:703 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:19:48:703 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758244788505
- Available files: None

2025-09-19 09:19:48:704 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:19:48:704 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
No operation performed yet

2025-09-19 09:19:48:704 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:19:48:704 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758244788505
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:19:48:704 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:19:48:714 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 134) -Exception occurred
java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:107)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:92)
	at org.springframework.ai.openai.api.OpenAiApi$FunctionTool$Function.<init>(OpenAiApi.java:888)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$getFunctionTools$21(OpenAiChatModel.java:674)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.ai.openai.OpenAiChatModel.getFunctionTools(OpenAiChatModel.java:676)
	at org.springframework.ai.openai.OpenAiChatModel.createRequest(OpenAiChatModel.java:615)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalStream$13(OpenAiChatModel.java:272)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxPublishOn.subscribeOrReturn(FluxPublishOn.java:92)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:55)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891)
	at reactor.core.publisher.Flux.blockLast(Flux.java:2816)
	at com.alibaba.cloud.ai.manus.llm.StreamingResponseHandler.processStreamingResponse(StreamingResponseHandler.java:222)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.executeWithRetry(DynamicAgent.java:187)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.think(DynamicAgent.java:130)
	at com.alibaba.cloud.ai.manus.agent.ReActAgent.step(ReActAgent.java:83)
	at com.alibaba.cloud.ai.manus.agent.BaseAgent.run(BaseAgent.java:222)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.executeStep(AbstractPlanExecutor.java:109)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.lambda$0(AbstractPlanExecutor.java:228)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Flux.blockLast(Flux.java:2817)
		... 11 common frames omitted
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2666)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:741)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipComma(ReaderBasedJsonParser.java:2429)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:924)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR._deserializeNR(UntypedObjectDeserializerNR.java:227)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserialize(UntypedObjectDeserializerNR.java:70)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4931)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3868)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3851)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:104)
	... 39 common frames omitted
2025-09-19 09:19:48:715 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: in_progress
2025-09-19 09:19:48:715 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 3/40
2025-09-19 09:19:48:715 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:19:48:715 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758244788505
- Available files: None

2025-09-19 09:19:48:715 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:19:48:715 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
No operation performed yet

2025-09-19 09:19:48:715 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:19:48:715 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758244788505
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:19:48:715 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:19:48:726 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 134) -Exception occurred
java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:107)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:92)
	at org.springframework.ai.openai.api.OpenAiApi$FunctionTool$Function.<init>(OpenAiApi.java:888)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$getFunctionTools$21(OpenAiChatModel.java:674)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.ai.openai.OpenAiChatModel.getFunctionTools(OpenAiChatModel.java:676)
	at org.springframework.ai.openai.OpenAiChatModel.createRequest(OpenAiChatModel.java:615)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalStream$13(OpenAiChatModel.java:272)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxPublishOn.subscribeOrReturn(FluxPublishOn.java:92)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:55)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891)
	at reactor.core.publisher.Flux.blockLast(Flux.java:2816)
	at com.alibaba.cloud.ai.manus.llm.StreamingResponseHandler.processStreamingResponse(StreamingResponseHandler.java:222)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.executeWithRetry(DynamicAgent.java:187)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.think(DynamicAgent.java:130)
	at com.alibaba.cloud.ai.manus.agent.ReActAgent.step(ReActAgent.java:83)
	at com.alibaba.cloud.ai.manus.agent.BaseAgent.run(BaseAgent.java:222)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.executeStep(AbstractPlanExecutor.java:109)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.lambda$0(AbstractPlanExecutor.java:228)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Flux.blockLast(Flux.java:2817)
		... 11 common frames omitted
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2666)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:741)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipComma(ReaderBasedJsonParser.java:2429)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:924)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR._deserializeNR(UntypedObjectDeserializerNR.java:227)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserialize(UntypedObjectDeserializerNR.java:70)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4931)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3868)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3851)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:104)
	... 39 common frames omitted
2025-09-19 09:19:48:726 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: in_progress
2025-09-19 09:19:48:726 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 4/40
2025-09-19 09:19:48:726 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:19:48:726 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758244788505
- Available files: None

2025-09-19 09:19:48:726 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:19:48:726 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
No operation performed yet

2025-09-19 09:19:48:726 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:19:48:726 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758244788505
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:19:48:726 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:19:48:734 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 134) -Exception occurred
java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:107)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:92)
	at org.springframework.ai.openai.api.OpenAiApi$FunctionTool$Function.<init>(OpenAiApi.java:888)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$getFunctionTools$21(OpenAiChatModel.java:674)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.ai.openai.OpenAiChatModel.getFunctionTools(OpenAiChatModel.java:676)
	at org.springframework.ai.openai.OpenAiChatModel.createRequest(OpenAiChatModel.java:615)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalStream$13(OpenAiChatModel.java:272)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxPublishOn.subscribeOrReturn(FluxPublishOn.java:92)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:55)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891)
	at reactor.core.publisher.Flux.blockLast(Flux.java:2816)
	at com.alibaba.cloud.ai.manus.llm.StreamingResponseHandler.processStreamingResponse(StreamingResponseHandler.java:222)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.executeWithRetry(DynamicAgent.java:187)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.think(DynamicAgent.java:130)
	at com.alibaba.cloud.ai.manus.agent.ReActAgent.step(ReActAgent.java:83)
	at com.alibaba.cloud.ai.manus.agent.BaseAgent.run(BaseAgent.java:222)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.executeStep(AbstractPlanExecutor.java:109)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.lambda$0(AbstractPlanExecutor.java:228)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Flux.blockLast(Flux.java:2817)
		... 11 common frames omitted
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2666)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:741)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipComma(ReaderBasedJsonParser.java:2429)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:924)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR._deserializeNR(UntypedObjectDeserializerNR.java:227)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserialize(UntypedObjectDeserializerNR.java:70)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4931)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3868)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3851)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:104)
	... 39 common frames omitted
2025-09-19 09:19:48:735 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: in_progress
2025-09-19 09:19:48:735 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 5/40
2025-09-19 09:19:48:735 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:19:48:735 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758244788505
- Available files: None

2025-09-19 09:19:48:735 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:19:48:735 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
No operation performed yet

2025-09-19 09:19:48:735 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:19:48:735 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758244788505
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:19:48:735 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:19:48:746 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 134) -Exception occurred
java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:107)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:92)
	at org.springframework.ai.openai.api.OpenAiApi$FunctionTool$Function.<init>(OpenAiApi.java:888)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$getFunctionTools$21(OpenAiChatModel.java:674)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.ai.openai.OpenAiChatModel.getFunctionTools(OpenAiChatModel.java:676)
	at org.springframework.ai.openai.OpenAiChatModel.createRequest(OpenAiChatModel.java:615)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalStream$13(OpenAiChatModel.java:272)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxPublishOn.subscribeOrReturn(FluxPublishOn.java:92)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:55)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891)
	at reactor.core.publisher.Flux.blockLast(Flux.java:2816)
	at com.alibaba.cloud.ai.manus.llm.StreamingResponseHandler.processStreamingResponse(StreamingResponseHandler.java:222)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.executeWithRetry(DynamicAgent.java:187)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.think(DynamicAgent.java:130)
	at com.alibaba.cloud.ai.manus.agent.ReActAgent.step(ReActAgent.java:83)
	at com.alibaba.cloud.ai.manus.agent.BaseAgent.run(BaseAgent.java:222)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.executeStep(AbstractPlanExecutor.java:109)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.lambda$0(AbstractPlanExecutor.java:228)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Flux.blockLast(Flux.java:2817)
		... 11 common frames omitted
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2666)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:741)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipComma(ReaderBasedJsonParser.java:2429)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:924)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR._deserializeNR(UntypedObjectDeserializerNR.java:227)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserialize(UntypedObjectDeserializerNR.java:70)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4931)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3868)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3851)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:104)
	... 39 common frames omitted
2025-09-19 09:19:48:746 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: in_progress
2025-09-19 09:19:48:746 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 6/40
2025-09-19 09:19:48:746 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:19:48:746 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758244788505
- Available files: None

2025-09-19 09:19:48:747 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:19:48:747 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
No operation performed yet

2025-09-19 09:19:48:747 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:19:48:747 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758244788505
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:19:48:747 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:19:48:757 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 134) -Exception occurred
java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:107)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:92)
	at org.springframework.ai.openai.api.OpenAiApi$FunctionTool$Function.<init>(OpenAiApi.java:888)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$getFunctionTools$21(OpenAiChatModel.java:674)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.ai.openai.OpenAiChatModel.getFunctionTools(OpenAiChatModel.java:676)
	at org.springframework.ai.openai.OpenAiChatModel.createRequest(OpenAiChatModel.java:615)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalStream$13(OpenAiChatModel.java:272)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxPublishOn.subscribeOrReturn(FluxPublishOn.java:92)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:55)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891)
	at reactor.core.publisher.Flux.blockLast(Flux.java:2816)
	at com.alibaba.cloud.ai.manus.llm.StreamingResponseHandler.processStreamingResponse(StreamingResponseHandler.java:222)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.executeWithRetry(DynamicAgent.java:187)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.think(DynamicAgent.java:130)
	at com.alibaba.cloud.ai.manus.agent.ReActAgent.step(ReActAgent.java:83)
	at com.alibaba.cloud.ai.manus.agent.BaseAgent.run(BaseAgent.java:222)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.executeStep(AbstractPlanExecutor.java:109)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.lambda$0(AbstractPlanExecutor.java:228)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Flux.blockLast(Flux.java:2817)
		... 11 common frames omitted
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2666)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:741)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipComma(ReaderBasedJsonParser.java:2429)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:924)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR._deserializeNR(UntypedObjectDeserializerNR.java:227)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserialize(UntypedObjectDeserializerNR.java:70)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4931)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3868)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3851)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:104)
	... 39 common frames omitted
2025-09-19 09:19:48:757 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: in_progress
2025-09-19 09:19:48:757 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 7/40
2025-09-19 09:19:48:757 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:19:48:758 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758244788505
- Available files: None

2025-09-19 09:19:48:758 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:19:48:758 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
No operation performed yet

2025-09-19 09:19:48:758 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:19:48:758 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758244788505
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:19:48:758 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:19:48:766 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 134) -Exception occurred
java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:107)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:92)
	at org.springframework.ai.openai.api.OpenAiApi$FunctionTool$Function.<init>(OpenAiApi.java:888)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$getFunctionTools$21(OpenAiChatModel.java:674)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.ai.openai.OpenAiChatModel.getFunctionTools(OpenAiChatModel.java:676)
	at org.springframework.ai.openai.OpenAiChatModel.createRequest(OpenAiChatModel.java:615)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalStream$13(OpenAiChatModel.java:272)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxPublishOn.subscribeOrReturn(FluxPublishOn.java:92)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:55)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891)
	at reactor.core.publisher.Flux.blockLast(Flux.java:2816)
	at com.alibaba.cloud.ai.manus.llm.StreamingResponseHandler.processStreamingResponse(StreamingResponseHandler.java:222)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.executeWithRetry(DynamicAgent.java:187)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.think(DynamicAgent.java:130)
	at com.alibaba.cloud.ai.manus.agent.ReActAgent.step(ReActAgent.java:83)
	at com.alibaba.cloud.ai.manus.agent.BaseAgent.run(BaseAgent.java:222)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.executeStep(AbstractPlanExecutor.java:109)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.lambda$0(AbstractPlanExecutor.java:228)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Flux.blockLast(Flux.java:2817)
		... 11 common frames omitted
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2666)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:741)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipComma(ReaderBasedJsonParser.java:2429)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:924)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR._deserializeNR(UntypedObjectDeserializerNR.java:227)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserialize(UntypedObjectDeserializerNR.java:70)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4931)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3868)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3851)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:104)
	... 39 common frames omitted
2025-09-19 09:19:48:766 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: in_progress
2025-09-19 09:19:48:766 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 8/40
2025-09-19 09:19:48:766 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:19:48:767 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758244788505
- Available files: None

2025-09-19 09:19:48:767 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:19:48:767 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
No operation performed yet

2025-09-19 09:19:48:767 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:19:48:767 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758244788505
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:19:48:767 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:19:48:776 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 134) -Exception occurred
java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:107)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:92)
	at org.springframework.ai.openai.api.OpenAiApi$FunctionTool$Function.<init>(OpenAiApi.java:888)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$getFunctionTools$21(OpenAiChatModel.java:674)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.ai.openai.OpenAiChatModel.getFunctionTools(OpenAiChatModel.java:676)
	at org.springframework.ai.openai.OpenAiChatModel.createRequest(OpenAiChatModel.java:615)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalStream$13(OpenAiChatModel.java:272)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxPublishOn.subscribeOrReturn(FluxPublishOn.java:92)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:55)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891)
	at reactor.core.publisher.Flux.blockLast(Flux.java:2816)
	at com.alibaba.cloud.ai.manus.llm.StreamingResponseHandler.processStreamingResponse(StreamingResponseHandler.java:222)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.executeWithRetry(DynamicAgent.java:187)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.think(DynamicAgent.java:130)
	at com.alibaba.cloud.ai.manus.agent.ReActAgent.step(ReActAgent.java:83)
	at com.alibaba.cloud.ai.manus.agent.BaseAgent.run(BaseAgent.java:222)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.executeStep(AbstractPlanExecutor.java:109)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.lambda$0(AbstractPlanExecutor.java:228)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Flux.blockLast(Flux.java:2817)
		... 11 common frames omitted
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2666)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:741)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipComma(ReaderBasedJsonParser.java:2429)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:924)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR._deserializeNR(UntypedObjectDeserializerNR.java:227)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserialize(UntypedObjectDeserializerNR.java:70)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4931)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3868)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3851)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:104)
	... 39 common frames omitted
2025-09-19 09:19:48:777 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: in_progress
2025-09-19 09:19:48:777 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 9/40
2025-09-19 09:19:48:777 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:19:48:777 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758244788505
- Available files: None

2025-09-19 09:19:48:777 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:19:48:777 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
No operation performed yet

2025-09-19 09:19:48:777 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:19:48:778 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758244788505
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:19:48:778 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:19:48:786 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 134) -Exception occurred
java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:107)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:92)
	at org.springframework.ai.openai.api.OpenAiApi$FunctionTool$Function.<init>(OpenAiApi.java:888)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$getFunctionTools$21(OpenAiChatModel.java:674)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.ai.openai.OpenAiChatModel.getFunctionTools(OpenAiChatModel.java:676)
	at org.springframework.ai.openai.OpenAiChatModel.createRequest(OpenAiChatModel.java:615)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalStream$13(OpenAiChatModel.java:272)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxPublishOn.subscribeOrReturn(FluxPublishOn.java:92)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:55)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891)
	at reactor.core.publisher.Flux.blockLast(Flux.java:2816)
	at com.alibaba.cloud.ai.manus.llm.StreamingResponseHandler.processStreamingResponse(StreamingResponseHandler.java:222)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.executeWithRetry(DynamicAgent.java:187)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.think(DynamicAgent.java:130)
	at com.alibaba.cloud.ai.manus.agent.ReActAgent.step(ReActAgent.java:83)
	at com.alibaba.cloud.ai.manus.agent.BaseAgent.run(BaseAgent.java:222)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.executeStep(AbstractPlanExecutor.java:109)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.lambda$0(AbstractPlanExecutor.java:228)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Flux.blockLast(Flux.java:2817)
		... 11 common frames omitted
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2666)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:741)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipComma(ReaderBasedJsonParser.java:2429)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:924)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR._deserializeNR(UntypedObjectDeserializerNR.java:227)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserialize(UntypedObjectDeserializerNR.java:70)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4931)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3868)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3851)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:104)
	... 39 common frames omitted
2025-09-19 09:19:48:786 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: in_progress
2025-09-19 09:19:48:786 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 10/40
2025-09-19 09:19:48:786 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:19:48:786 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758244788505
- Available files: None

2025-09-19 09:19:48:786 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:19:48:786 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
No operation performed yet

2025-09-19 09:19:48:787 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:19:48:787 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758244788505
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:19:48:787 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:19:48:795 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 134) -Exception occurred
java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:107)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:92)
	at org.springframework.ai.openai.api.OpenAiApi$FunctionTool$Function.<init>(OpenAiApi.java:888)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$getFunctionTools$21(OpenAiChatModel.java:674)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.ai.openai.OpenAiChatModel.getFunctionTools(OpenAiChatModel.java:676)
	at org.springframework.ai.openai.OpenAiChatModel.createRequest(OpenAiChatModel.java:615)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalStream$13(OpenAiChatModel.java:272)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxPublishOn.subscribeOrReturn(FluxPublishOn.java:92)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:55)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891)
	at reactor.core.publisher.Flux.blockLast(Flux.java:2816)
	at com.alibaba.cloud.ai.manus.llm.StreamingResponseHandler.processStreamingResponse(StreamingResponseHandler.java:222)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.executeWithRetry(DynamicAgent.java:187)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.think(DynamicAgent.java:130)
	at com.alibaba.cloud.ai.manus.agent.ReActAgent.step(ReActAgent.java:83)
	at com.alibaba.cloud.ai.manus.agent.BaseAgent.run(BaseAgent.java:222)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.executeStep(AbstractPlanExecutor.java:109)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.lambda$0(AbstractPlanExecutor.java:228)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Flux.blockLast(Flux.java:2817)
		... 11 common frames omitted
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2666)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:741)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipComma(ReaderBasedJsonParser.java:2429)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:924)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR._deserializeNR(UntypedObjectDeserializerNR.java:227)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserialize(UntypedObjectDeserializerNR.java:70)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4931)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3868)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3851)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:104)
	... 39 common frames omitted
2025-09-19 09:19:48:796 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: in_progress
2025-09-19 09:19:48:796 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 11/40
2025-09-19 09:19:48:796 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:19:48:796 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758244788505
- Available files: None

2025-09-19 09:19:48:796 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:19:48:796 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
No operation performed yet

2025-09-19 09:19:48:796 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:19:48:796 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758244788505
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:19:48:796 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:19:48:805 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 134) -Exception occurred
java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:107)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:92)
	at org.springframework.ai.openai.api.OpenAiApi$FunctionTool$Function.<init>(OpenAiApi.java:888)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$getFunctionTools$21(OpenAiChatModel.java:674)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.ai.openai.OpenAiChatModel.getFunctionTools(OpenAiChatModel.java:676)
	at org.springframework.ai.openai.OpenAiChatModel.createRequest(OpenAiChatModel.java:615)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalStream$13(OpenAiChatModel.java:272)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxPublishOn.subscribeOrReturn(FluxPublishOn.java:92)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:55)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891)
	at reactor.core.publisher.Flux.blockLast(Flux.java:2816)
	at com.alibaba.cloud.ai.manus.llm.StreamingResponseHandler.processStreamingResponse(StreamingResponseHandler.java:222)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.executeWithRetry(DynamicAgent.java:187)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.think(DynamicAgent.java:130)
	at com.alibaba.cloud.ai.manus.agent.ReActAgent.step(ReActAgent.java:83)
	at com.alibaba.cloud.ai.manus.agent.BaseAgent.run(BaseAgent.java:222)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.executeStep(AbstractPlanExecutor.java:109)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.lambda$0(AbstractPlanExecutor.java:228)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Flux.blockLast(Flux.java:2817)
		... 11 common frames omitted
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2666)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:741)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipComma(ReaderBasedJsonParser.java:2429)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:924)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR._deserializeNR(UntypedObjectDeserializerNR.java:227)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserialize(UntypedObjectDeserializerNR.java:70)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4931)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3868)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3851)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:104)
	... 39 common frames omitted
2025-09-19 09:19:48:806 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: in_progress
2025-09-19 09:19:48:806 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 12/40
2025-09-19 09:19:48:806 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:19:48:806 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758244788505
- Available files: None

2025-09-19 09:19:48:806 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:19:48:806 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
No operation performed yet

2025-09-19 09:19:48:806 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:19:48:806 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758244788505
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:19:48:806 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:19:48:815 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 134) -Exception occurred
java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:107)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:92)
	at org.springframework.ai.openai.api.OpenAiApi$FunctionTool$Function.<init>(OpenAiApi.java:888)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$getFunctionTools$21(OpenAiChatModel.java:674)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.ai.openai.OpenAiChatModel.getFunctionTools(OpenAiChatModel.java:676)
	at org.springframework.ai.openai.OpenAiChatModel.createRequest(OpenAiChatModel.java:615)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalStream$13(OpenAiChatModel.java:272)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxPublishOn.subscribeOrReturn(FluxPublishOn.java:92)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:55)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891)
	at reactor.core.publisher.Flux.blockLast(Flux.java:2816)
	at com.alibaba.cloud.ai.manus.llm.StreamingResponseHandler.processStreamingResponse(StreamingResponseHandler.java:222)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.executeWithRetry(DynamicAgent.java:187)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.think(DynamicAgent.java:130)
	at com.alibaba.cloud.ai.manus.agent.ReActAgent.step(ReActAgent.java:83)
	at com.alibaba.cloud.ai.manus.agent.BaseAgent.run(BaseAgent.java:222)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.executeStep(AbstractPlanExecutor.java:109)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.lambda$0(AbstractPlanExecutor.java:228)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Flux.blockLast(Flux.java:2817)
		... 11 common frames omitted
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2666)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:741)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipComma(ReaderBasedJsonParser.java:2429)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:924)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR._deserializeNR(UntypedObjectDeserializerNR.java:227)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserialize(UntypedObjectDeserializerNR.java:70)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4931)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3868)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3851)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:104)
	... 39 common frames omitted
2025-09-19 09:19:48:815 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: in_progress
2025-09-19 09:19:48:816 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 13/40
2025-09-19 09:19:48:816 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:19:48:816 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758244788505
- Available files: None

2025-09-19 09:19:48:816 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:19:48:816 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
No operation performed yet

2025-09-19 09:19:48:816 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:19:48:816 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758244788505
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:19:48:816 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:19:48:827 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 134) -Exception occurred
java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:107)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:92)
	at org.springframework.ai.openai.api.OpenAiApi$FunctionTool$Function.<init>(OpenAiApi.java:888)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$getFunctionTools$21(OpenAiChatModel.java:674)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.ai.openai.OpenAiChatModel.getFunctionTools(OpenAiChatModel.java:676)
	at org.springframework.ai.openai.OpenAiChatModel.createRequest(OpenAiChatModel.java:615)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalStream$13(OpenAiChatModel.java:272)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxPublishOn.subscribeOrReturn(FluxPublishOn.java:92)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:55)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891)
	at reactor.core.publisher.Flux.blockLast(Flux.java:2816)
	at com.alibaba.cloud.ai.manus.llm.StreamingResponseHandler.processStreamingResponse(StreamingResponseHandler.java:222)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.executeWithRetry(DynamicAgent.java:187)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.think(DynamicAgent.java:130)
	at com.alibaba.cloud.ai.manus.agent.ReActAgent.step(ReActAgent.java:83)
	at com.alibaba.cloud.ai.manus.agent.BaseAgent.run(BaseAgent.java:222)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.executeStep(AbstractPlanExecutor.java:109)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.lambda$0(AbstractPlanExecutor.java:228)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Flux.blockLast(Flux.java:2817)
		... 11 common frames omitted
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2666)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:741)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipComma(ReaderBasedJsonParser.java:2429)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:924)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR._deserializeNR(UntypedObjectDeserializerNR.java:227)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserialize(UntypedObjectDeserializerNR.java:70)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4931)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3868)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3851)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:104)
	... 39 common frames omitted
2025-09-19 09:19:48:828 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: in_progress
2025-09-19 09:19:48:828 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 14/40
2025-09-19 09:19:48:828 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:19:48:828 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758244788505
- Available files: None

2025-09-19 09:19:48:828 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:19:48:829 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
No operation performed yet

2025-09-19 09:19:48:829 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:19:48:829 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758244788505
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:19:48:829 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:19:48:841 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 134) -Exception occurred
java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:107)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:92)
	at org.springframework.ai.openai.api.OpenAiApi$FunctionTool$Function.<init>(OpenAiApi.java:888)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$getFunctionTools$21(OpenAiChatModel.java:674)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.ai.openai.OpenAiChatModel.getFunctionTools(OpenAiChatModel.java:676)
	at org.springframework.ai.openai.OpenAiChatModel.createRequest(OpenAiChatModel.java:615)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalStream$13(OpenAiChatModel.java:272)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxPublishOn.subscribeOrReturn(FluxPublishOn.java:92)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:55)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891)
	at reactor.core.publisher.Flux.blockLast(Flux.java:2816)
	at com.alibaba.cloud.ai.manus.llm.StreamingResponseHandler.processStreamingResponse(StreamingResponseHandler.java:222)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.executeWithRetry(DynamicAgent.java:187)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.think(DynamicAgent.java:130)
	at com.alibaba.cloud.ai.manus.agent.ReActAgent.step(ReActAgent.java:83)
	at com.alibaba.cloud.ai.manus.agent.BaseAgent.run(BaseAgent.java:222)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.executeStep(AbstractPlanExecutor.java:109)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.lambda$0(AbstractPlanExecutor.java:228)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Flux.blockLast(Flux.java:2817)
		... 11 common frames omitted
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2666)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:741)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipComma(ReaderBasedJsonParser.java:2429)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:924)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR._deserializeNR(UntypedObjectDeserializerNR.java:227)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserialize(UntypedObjectDeserializerNR.java:70)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4931)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3868)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3851)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:104)
	... 39 common frames omitted
2025-09-19 09:19:48:842 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: in_progress
2025-09-19 09:19:48:842 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 15/40
2025-09-19 09:19:48:842 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:19:48:842 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758244788505
- Available files: None

2025-09-19 09:19:48:842 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:19:48:843 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
No operation performed yet

2025-09-19 09:19:48:843 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:19:48:843 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758244788505
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:19:48:843 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:19:48:855 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 134) -Exception occurred
java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:107)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:92)
	at org.springframework.ai.openai.api.OpenAiApi$FunctionTool$Function.<init>(OpenAiApi.java:888)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$getFunctionTools$21(OpenAiChatModel.java:674)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.ai.openai.OpenAiChatModel.getFunctionTools(OpenAiChatModel.java:676)
	at org.springframework.ai.openai.OpenAiChatModel.createRequest(OpenAiChatModel.java:615)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalStream$13(OpenAiChatModel.java:272)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxPublishOn.subscribeOrReturn(FluxPublishOn.java:92)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:55)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891)
	at reactor.core.publisher.Flux.blockLast(Flux.java:2816)
	at com.alibaba.cloud.ai.manus.llm.StreamingResponseHandler.processStreamingResponse(StreamingResponseHandler.java:222)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.executeWithRetry(DynamicAgent.java:187)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.think(DynamicAgent.java:130)
	at com.alibaba.cloud.ai.manus.agent.ReActAgent.step(ReActAgent.java:83)
	at com.alibaba.cloud.ai.manus.agent.BaseAgent.run(BaseAgent.java:222)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.executeStep(AbstractPlanExecutor.java:109)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.lambda$0(AbstractPlanExecutor.java:228)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Flux.blockLast(Flux.java:2817)
		... 11 common frames omitted
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2666)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:741)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipComma(ReaderBasedJsonParser.java:2429)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:924)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR._deserializeNR(UntypedObjectDeserializerNR.java:227)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserialize(UntypedObjectDeserializerNR.java:70)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4931)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3868)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3851)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:104)
	... 39 common frames omitted
2025-09-19 09:19:48:855 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: in_progress
2025-09-19 09:19:48:855 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 16/40
2025-09-19 09:19:48:855 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:19:48:855 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758244788505
- Available files: None

2025-09-19 09:19:48:855 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:19:48:856 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
No operation performed yet

2025-09-19 09:19:48:856 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:19:48:856 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758244788505
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:19:48:856 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:19:48:888 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 134) -Exception occurred
java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:107)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:92)
	at org.springframework.ai.openai.api.OpenAiApi$FunctionTool$Function.<init>(OpenAiApi.java:888)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$getFunctionTools$21(OpenAiChatModel.java:674)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.ai.openai.OpenAiChatModel.getFunctionTools(OpenAiChatModel.java:676)
	at org.springframework.ai.openai.OpenAiChatModel.createRequest(OpenAiChatModel.java:615)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalStream$13(OpenAiChatModel.java:272)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxPublishOn.subscribeOrReturn(FluxPublishOn.java:92)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:55)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891)
	at reactor.core.publisher.Flux.blockLast(Flux.java:2816)
	at com.alibaba.cloud.ai.manus.llm.StreamingResponseHandler.processStreamingResponse(StreamingResponseHandler.java:222)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.executeWithRetry(DynamicAgent.java:187)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.think(DynamicAgent.java:130)
	at com.alibaba.cloud.ai.manus.agent.ReActAgent.step(ReActAgent.java:83)
	at com.alibaba.cloud.ai.manus.agent.BaseAgent.run(BaseAgent.java:222)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.executeStep(AbstractPlanExecutor.java:109)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.lambda$0(AbstractPlanExecutor.java:228)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Flux.blockLast(Flux.java:2817)
		... 11 common frames omitted
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2666)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:741)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipComma(ReaderBasedJsonParser.java:2429)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:924)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR._deserializeNR(UntypedObjectDeserializerNR.java:227)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserialize(UntypedObjectDeserializerNR.java:70)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4931)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3868)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3851)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:104)
	... 39 common frames omitted
2025-09-19 09:19:48:888 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: in_progress
2025-09-19 09:19:48:888 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 17/40
2025-09-19 09:19:48:888 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:19:48:888 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758244788505
- Available files: None

2025-09-19 09:19:48:888 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:19:48:888 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
No operation performed yet

2025-09-19 09:19:48:889 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:19:48:889 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758244788505
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:19:48:889 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:19:48:897 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 134) -Exception occurred
java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:107)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:92)
	at org.springframework.ai.openai.api.OpenAiApi$FunctionTool$Function.<init>(OpenAiApi.java:888)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$getFunctionTools$21(OpenAiChatModel.java:674)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.ai.openai.OpenAiChatModel.getFunctionTools(OpenAiChatModel.java:676)
	at org.springframework.ai.openai.OpenAiChatModel.createRequest(OpenAiChatModel.java:615)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalStream$13(OpenAiChatModel.java:272)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxPublishOn.subscribeOrReturn(FluxPublishOn.java:92)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:55)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891)
	at reactor.core.publisher.Flux.blockLast(Flux.java:2816)
	at com.alibaba.cloud.ai.manus.llm.StreamingResponseHandler.processStreamingResponse(StreamingResponseHandler.java:222)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.executeWithRetry(DynamicAgent.java:187)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.think(DynamicAgent.java:130)
	at com.alibaba.cloud.ai.manus.agent.ReActAgent.step(ReActAgent.java:83)
	at com.alibaba.cloud.ai.manus.agent.BaseAgent.run(BaseAgent.java:222)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.executeStep(AbstractPlanExecutor.java:109)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.lambda$0(AbstractPlanExecutor.java:228)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Flux.blockLast(Flux.java:2817)
		... 11 common frames omitted
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2666)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:741)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipComma(ReaderBasedJsonParser.java:2429)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:924)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR._deserializeNR(UntypedObjectDeserializerNR.java:227)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserialize(UntypedObjectDeserializerNR.java:70)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4931)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3868)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3851)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:104)
	... 39 common frames omitted
2025-09-19 09:19:48:898 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: in_progress
2025-09-19 09:19:48:898 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 18/40
2025-09-19 09:19:48:898 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:19:48:898 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758244788505
- Available files: None

2025-09-19 09:19:48:898 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:19:48:898 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
No operation performed yet

2025-09-19 09:19:48:898 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:19:48:898 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758244788505
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:19:48:898 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:19:48:905 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 134) -Exception occurred
java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:107)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:92)
	at org.springframework.ai.openai.api.OpenAiApi$FunctionTool$Function.<init>(OpenAiApi.java:888)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$getFunctionTools$21(OpenAiChatModel.java:674)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.ai.openai.OpenAiChatModel.getFunctionTools(OpenAiChatModel.java:676)
	at org.springframework.ai.openai.OpenAiChatModel.createRequest(OpenAiChatModel.java:615)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalStream$13(OpenAiChatModel.java:272)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxPublishOn.subscribeOrReturn(FluxPublishOn.java:92)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:55)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891)
	at reactor.core.publisher.Flux.blockLast(Flux.java:2816)
	at com.alibaba.cloud.ai.manus.llm.StreamingResponseHandler.processStreamingResponse(StreamingResponseHandler.java:222)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.executeWithRetry(DynamicAgent.java:187)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.think(DynamicAgent.java:130)
	at com.alibaba.cloud.ai.manus.agent.ReActAgent.step(ReActAgent.java:83)
	at com.alibaba.cloud.ai.manus.agent.BaseAgent.run(BaseAgent.java:222)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.executeStep(AbstractPlanExecutor.java:109)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.lambda$0(AbstractPlanExecutor.java:228)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Flux.blockLast(Flux.java:2817)
		... 11 common frames omitted
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2666)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:741)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipComma(ReaderBasedJsonParser.java:2429)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:924)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR._deserializeNR(UntypedObjectDeserializerNR.java:227)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserialize(UntypedObjectDeserializerNR.java:70)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4931)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3868)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3851)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:104)
	... 39 common frames omitted
2025-09-19 09:19:48:906 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: in_progress
2025-09-19 09:19:48:906 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 19/40
2025-09-19 09:19:48:906 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:19:48:906 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758244788505
- Available files: None

2025-09-19 09:19:48:906 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:19:48:906 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
No operation performed yet

2025-09-19 09:19:48:906 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:19:48:906 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758244788505
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:19:48:907 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:19:48:919 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 134) -Exception occurred
java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:107)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:92)
	at org.springframework.ai.openai.api.OpenAiApi$FunctionTool$Function.<init>(OpenAiApi.java:888)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$getFunctionTools$21(OpenAiChatModel.java:674)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.ai.openai.OpenAiChatModel.getFunctionTools(OpenAiChatModel.java:676)
	at org.springframework.ai.openai.OpenAiChatModel.createRequest(OpenAiChatModel.java:615)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalStream$13(OpenAiChatModel.java:272)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxPublishOn.subscribeOrReturn(FluxPublishOn.java:92)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:55)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891)
	at reactor.core.publisher.Flux.blockLast(Flux.java:2816)
	at com.alibaba.cloud.ai.manus.llm.StreamingResponseHandler.processStreamingResponse(StreamingResponseHandler.java:222)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.executeWithRetry(DynamicAgent.java:187)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.think(DynamicAgent.java:130)
	at com.alibaba.cloud.ai.manus.agent.ReActAgent.step(ReActAgent.java:83)
	at com.alibaba.cloud.ai.manus.agent.BaseAgent.run(BaseAgent.java:222)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.executeStep(AbstractPlanExecutor.java:109)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.lambda$0(AbstractPlanExecutor.java:228)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Flux.blockLast(Flux.java:2817)
		... 11 common frames omitted
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2666)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:741)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipComma(ReaderBasedJsonParser.java:2429)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:924)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR._deserializeNR(UntypedObjectDeserializerNR.java:227)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserialize(UntypedObjectDeserializerNR.java:70)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4931)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3868)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3851)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:104)
	... 39 common frames omitted
2025-09-19 09:19:48:919 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: in_progress
2025-09-19 09:19:48:919 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 20/40
2025-09-19 09:19:48:919 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:19:48:920 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758244788505
- Available files: None

2025-09-19 09:19:48:920 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:19:48:920 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
No operation performed yet

2025-09-19 09:19:48:920 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:19:48:920 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758244788505
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:19:48:920 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:19:48:929 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 134) -Exception occurred
java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:107)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:92)
	at org.springframework.ai.openai.api.OpenAiApi$FunctionTool$Function.<init>(OpenAiApi.java:888)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$getFunctionTools$21(OpenAiChatModel.java:674)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.ai.openai.OpenAiChatModel.getFunctionTools(OpenAiChatModel.java:676)
	at org.springframework.ai.openai.OpenAiChatModel.createRequest(OpenAiChatModel.java:615)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalStream$13(OpenAiChatModel.java:272)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxPublishOn.subscribeOrReturn(FluxPublishOn.java:92)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:55)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891)
	at reactor.core.publisher.Flux.blockLast(Flux.java:2816)
	at com.alibaba.cloud.ai.manus.llm.StreamingResponseHandler.processStreamingResponse(StreamingResponseHandler.java:222)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.executeWithRetry(DynamicAgent.java:187)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.think(DynamicAgent.java:130)
	at com.alibaba.cloud.ai.manus.agent.ReActAgent.step(ReActAgent.java:83)
	at com.alibaba.cloud.ai.manus.agent.BaseAgent.run(BaseAgent.java:222)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.executeStep(AbstractPlanExecutor.java:109)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.lambda$0(AbstractPlanExecutor.java:228)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Flux.blockLast(Flux.java:2817)
		... 11 common frames omitted
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2666)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:741)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipComma(ReaderBasedJsonParser.java:2429)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:924)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR._deserializeNR(UntypedObjectDeserializerNR.java:227)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserialize(UntypedObjectDeserializerNR.java:70)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4931)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3868)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3851)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:104)
	... 39 common frames omitted
2025-09-19 09:19:48:930 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: in_progress
2025-09-19 09:19:48:930 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 21/40
2025-09-19 09:19:48:930 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:19:48:930 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758244788505
- Available files: None

2025-09-19 09:19:48:930 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:19:48:930 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
No operation performed yet

2025-09-19 09:19:48:930 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:19:48:930 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758244788505
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:19:48:930 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:19:48:938 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 134) -Exception occurred
java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:107)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:92)
	at org.springframework.ai.openai.api.OpenAiApi$FunctionTool$Function.<init>(OpenAiApi.java:888)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$getFunctionTools$21(OpenAiChatModel.java:674)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.ai.openai.OpenAiChatModel.getFunctionTools(OpenAiChatModel.java:676)
	at org.springframework.ai.openai.OpenAiChatModel.createRequest(OpenAiChatModel.java:615)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalStream$13(OpenAiChatModel.java:272)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxPublishOn.subscribeOrReturn(FluxPublishOn.java:92)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:55)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891)
	at reactor.core.publisher.Flux.blockLast(Flux.java:2816)
	at com.alibaba.cloud.ai.manus.llm.StreamingResponseHandler.processStreamingResponse(StreamingResponseHandler.java:222)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.executeWithRetry(DynamicAgent.java:187)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.think(DynamicAgent.java:130)
	at com.alibaba.cloud.ai.manus.agent.ReActAgent.step(ReActAgent.java:83)
	at com.alibaba.cloud.ai.manus.agent.BaseAgent.run(BaseAgent.java:222)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.executeStep(AbstractPlanExecutor.java:109)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.lambda$0(AbstractPlanExecutor.java:228)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Flux.blockLast(Flux.java:2817)
		... 11 common frames omitted
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2666)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:741)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipComma(ReaderBasedJsonParser.java:2429)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:924)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR._deserializeNR(UntypedObjectDeserializerNR.java:227)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserialize(UntypedObjectDeserializerNR.java:70)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4931)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3868)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3851)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:104)
	... 39 common frames omitted
2025-09-19 09:19:48:939 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: in_progress
2025-09-19 09:19:48:939 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 22/40
2025-09-19 09:19:48:939 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:19:48:939 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758244788505
- Available files: None

2025-09-19 09:19:48:939 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:19:48:939 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
No operation performed yet

2025-09-19 09:19:48:939 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:19:48:939 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758244788505
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:19:48:939 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:19:48:951 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 134) -Exception occurred
java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:107)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:92)
	at org.springframework.ai.openai.api.OpenAiApi$FunctionTool$Function.<init>(OpenAiApi.java:888)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$getFunctionTools$21(OpenAiChatModel.java:674)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.ai.openai.OpenAiChatModel.getFunctionTools(OpenAiChatModel.java:676)
	at org.springframework.ai.openai.OpenAiChatModel.createRequest(OpenAiChatModel.java:615)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalStream$13(OpenAiChatModel.java:272)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxPublishOn.subscribeOrReturn(FluxPublishOn.java:92)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:55)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891)
	at reactor.core.publisher.Flux.blockLast(Flux.java:2816)
	at com.alibaba.cloud.ai.manus.llm.StreamingResponseHandler.processStreamingResponse(StreamingResponseHandler.java:222)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.executeWithRetry(DynamicAgent.java:187)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.think(DynamicAgent.java:130)
	at com.alibaba.cloud.ai.manus.agent.ReActAgent.step(ReActAgent.java:83)
	at com.alibaba.cloud.ai.manus.agent.BaseAgent.run(BaseAgent.java:222)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.executeStep(AbstractPlanExecutor.java:109)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.lambda$0(AbstractPlanExecutor.java:228)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Flux.blockLast(Flux.java:2817)
		... 11 common frames omitted
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2666)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:741)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipComma(ReaderBasedJsonParser.java:2429)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:924)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR._deserializeNR(UntypedObjectDeserializerNR.java:227)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserialize(UntypedObjectDeserializerNR.java:70)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4931)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3868)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3851)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:104)
	... 39 common frames omitted
2025-09-19 09:19:48:952 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: in_progress
2025-09-19 09:19:48:952 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 23/40
2025-09-19 09:19:48:952 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:19:48:952 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758244788505
- Available files: None

2025-09-19 09:19:48:952 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:19:48:952 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
No operation performed yet

2025-09-19 09:19:48:952 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:19:48:952 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758244788505
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:19:48:953 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:19:48:966 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 134) -Exception occurred
java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:107)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:92)
	at org.springframework.ai.openai.api.OpenAiApi$FunctionTool$Function.<init>(OpenAiApi.java:888)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$getFunctionTools$21(OpenAiChatModel.java:674)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.ai.openai.OpenAiChatModel.getFunctionTools(OpenAiChatModel.java:676)
	at org.springframework.ai.openai.OpenAiChatModel.createRequest(OpenAiChatModel.java:615)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalStream$13(OpenAiChatModel.java:272)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxPublishOn.subscribeOrReturn(FluxPublishOn.java:92)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:55)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891)
	at reactor.core.publisher.Flux.blockLast(Flux.java:2816)
	at com.alibaba.cloud.ai.manus.llm.StreamingResponseHandler.processStreamingResponse(StreamingResponseHandler.java:222)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.executeWithRetry(DynamicAgent.java:187)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.think(DynamicAgent.java:130)
	at com.alibaba.cloud.ai.manus.agent.ReActAgent.step(ReActAgent.java:83)
	at com.alibaba.cloud.ai.manus.agent.BaseAgent.run(BaseAgent.java:222)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.executeStep(AbstractPlanExecutor.java:109)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.lambda$0(AbstractPlanExecutor.java:228)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Flux.blockLast(Flux.java:2817)
		... 11 common frames omitted
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2666)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:741)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipComma(ReaderBasedJsonParser.java:2429)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:924)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR._deserializeNR(UntypedObjectDeserializerNR.java:227)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserialize(UntypedObjectDeserializerNR.java:70)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4931)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3868)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3851)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:104)
	... 39 common frames omitted
2025-09-19 09:19:48:966 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: in_progress
2025-09-19 09:19:48:966 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 24/40
2025-09-19 09:19:48:966 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:19:48:967 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758244788505
- Available files: None

2025-09-19 09:19:48:967 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:19:48:967 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
No operation performed yet

2025-09-19 09:19:48:967 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:19:48:967 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758244788505
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:19:48:967 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:19:48:977 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 134) -Exception occurred
java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:107)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:92)
	at org.springframework.ai.openai.api.OpenAiApi$FunctionTool$Function.<init>(OpenAiApi.java:888)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$getFunctionTools$21(OpenAiChatModel.java:674)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.ai.openai.OpenAiChatModel.getFunctionTools(OpenAiChatModel.java:676)
	at org.springframework.ai.openai.OpenAiChatModel.createRequest(OpenAiChatModel.java:615)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalStream$13(OpenAiChatModel.java:272)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxPublishOn.subscribeOrReturn(FluxPublishOn.java:92)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:55)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891)
	at reactor.core.publisher.Flux.blockLast(Flux.java:2816)
	at com.alibaba.cloud.ai.manus.llm.StreamingResponseHandler.processStreamingResponse(StreamingResponseHandler.java:222)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.executeWithRetry(DynamicAgent.java:187)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.think(DynamicAgent.java:130)
	at com.alibaba.cloud.ai.manus.agent.ReActAgent.step(ReActAgent.java:83)
	at com.alibaba.cloud.ai.manus.agent.BaseAgent.run(BaseAgent.java:222)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.executeStep(AbstractPlanExecutor.java:109)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.lambda$0(AbstractPlanExecutor.java:228)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Flux.blockLast(Flux.java:2817)
		... 11 common frames omitted
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2666)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:741)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipComma(ReaderBasedJsonParser.java:2429)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:924)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR._deserializeNR(UntypedObjectDeserializerNR.java:227)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserialize(UntypedObjectDeserializerNR.java:70)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4931)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3868)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3851)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:104)
	... 39 common frames omitted
2025-09-19 09:19:48:978 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: in_progress
2025-09-19 09:19:48:978 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 25/40
2025-09-19 09:19:48:978 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:19:48:978 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758244788505
- Available files: None

2025-09-19 09:19:48:978 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:19:48:978 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
No operation performed yet

2025-09-19 09:19:48:978 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:19:48:978 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758244788505
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:19:48:978 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:19:48:986 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 134) -Exception occurred
java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:107)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:92)
	at org.springframework.ai.openai.api.OpenAiApi$FunctionTool$Function.<init>(OpenAiApi.java:888)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$getFunctionTools$21(OpenAiChatModel.java:674)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.ai.openai.OpenAiChatModel.getFunctionTools(OpenAiChatModel.java:676)
	at org.springframework.ai.openai.OpenAiChatModel.createRequest(OpenAiChatModel.java:615)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalStream$13(OpenAiChatModel.java:272)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxPublishOn.subscribeOrReturn(FluxPublishOn.java:92)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:55)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891)
	at reactor.core.publisher.Flux.blockLast(Flux.java:2816)
	at com.alibaba.cloud.ai.manus.llm.StreamingResponseHandler.processStreamingResponse(StreamingResponseHandler.java:222)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.executeWithRetry(DynamicAgent.java:187)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.think(DynamicAgent.java:130)
	at com.alibaba.cloud.ai.manus.agent.ReActAgent.step(ReActAgent.java:83)
	at com.alibaba.cloud.ai.manus.agent.BaseAgent.run(BaseAgent.java:222)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.executeStep(AbstractPlanExecutor.java:109)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.lambda$0(AbstractPlanExecutor.java:228)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Flux.blockLast(Flux.java:2817)
		... 11 common frames omitted
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2666)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:741)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipComma(ReaderBasedJsonParser.java:2429)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:924)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR._deserializeNR(UntypedObjectDeserializerNR.java:227)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserialize(UntypedObjectDeserializerNR.java:70)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4931)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3868)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3851)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:104)
	... 39 common frames omitted
2025-09-19 09:19:48:986 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: in_progress
2025-09-19 09:19:48:986 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 26/40
2025-09-19 09:19:48:986 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:19:48:986 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758244788505
- Available files: None

2025-09-19 09:19:48:986 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:19:48:986 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
No operation performed yet

2025-09-19 09:19:48:986 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:19:48:987 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758244788505
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:19:48:987 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:19:48:998 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 134) -Exception occurred
java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:107)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:92)
	at org.springframework.ai.openai.api.OpenAiApi$FunctionTool$Function.<init>(OpenAiApi.java:888)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$getFunctionTools$21(OpenAiChatModel.java:674)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.ai.openai.OpenAiChatModel.getFunctionTools(OpenAiChatModel.java:676)
	at org.springframework.ai.openai.OpenAiChatModel.createRequest(OpenAiChatModel.java:615)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalStream$13(OpenAiChatModel.java:272)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxPublishOn.subscribeOrReturn(FluxPublishOn.java:92)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:55)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891)
	at reactor.core.publisher.Flux.blockLast(Flux.java:2816)
	at com.alibaba.cloud.ai.manus.llm.StreamingResponseHandler.processStreamingResponse(StreamingResponseHandler.java:222)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.executeWithRetry(DynamicAgent.java:187)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.think(DynamicAgent.java:130)
	at com.alibaba.cloud.ai.manus.agent.ReActAgent.step(ReActAgent.java:83)
	at com.alibaba.cloud.ai.manus.agent.BaseAgent.run(BaseAgent.java:222)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.executeStep(AbstractPlanExecutor.java:109)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.lambda$0(AbstractPlanExecutor.java:228)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Flux.blockLast(Flux.java:2817)
		... 11 common frames omitted
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2666)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:741)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipComma(ReaderBasedJsonParser.java:2429)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:924)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR._deserializeNR(UntypedObjectDeserializerNR.java:227)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserialize(UntypedObjectDeserializerNR.java:70)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4931)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3868)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3851)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:104)
	... 39 common frames omitted
2025-09-19 09:19:48:999 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: in_progress
2025-09-19 09:19:48:999 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 27/40
2025-09-19 09:19:48:999 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:19:48:999 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758244788505
- Available files: None

2025-09-19 09:19:48:999 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:19:48:999 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
No operation performed yet

2025-09-19 09:19:48:999 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:19:48:999 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758244788505
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:19:48:999 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:19:49:009 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 134) -Exception occurred
java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:107)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:92)
	at org.springframework.ai.openai.api.OpenAiApi$FunctionTool$Function.<init>(OpenAiApi.java:888)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$getFunctionTools$21(OpenAiChatModel.java:674)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.ai.openai.OpenAiChatModel.getFunctionTools(OpenAiChatModel.java:676)
	at org.springframework.ai.openai.OpenAiChatModel.createRequest(OpenAiChatModel.java:615)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalStream$13(OpenAiChatModel.java:272)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxPublishOn.subscribeOrReturn(FluxPublishOn.java:92)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:55)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891)
	at reactor.core.publisher.Flux.blockLast(Flux.java:2816)
	at com.alibaba.cloud.ai.manus.llm.StreamingResponseHandler.processStreamingResponse(StreamingResponseHandler.java:222)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.executeWithRetry(DynamicAgent.java:187)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.think(DynamicAgent.java:130)
	at com.alibaba.cloud.ai.manus.agent.ReActAgent.step(ReActAgent.java:83)
	at com.alibaba.cloud.ai.manus.agent.BaseAgent.run(BaseAgent.java:222)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.executeStep(AbstractPlanExecutor.java:109)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.lambda$0(AbstractPlanExecutor.java:228)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Flux.blockLast(Flux.java:2817)
		... 11 common frames omitted
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2666)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:741)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipComma(ReaderBasedJsonParser.java:2429)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:924)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR._deserializeNR(UntypedObjectDeserializerNR.java:227)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserialize(UntypedObjectDeserializerNR.java:70)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4931)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3868)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3851)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:104)
	... 39 common frames omitted
2025-09-19 09:19:49:009 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: in_progress
2025-09-19 09:19:49:009 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 28/40
2025-09-19 09:19:49:010 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:19:49:010 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758244788505
- Available files: None

2025-09-19 09:19:49:010 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:19:49:010 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
No operation performed yet

2025-09-19 09:19:49:010 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:19:49:010 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758244788505
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:19:49:010 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:19:49:018 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 134) -Exception occurred
java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:107)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:92)
	at org.springframework.ai.openai.api.OpenAiApi$FunctionTool$Function.<init>(OpenAiApi.java:888)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$getFunctionTools$21(OpenAiChatModel.java:674)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.ai.openai.OpenAiChatModel.getFunctionTools(OpenAiChatModel.java:676)
	at org.springframework.ai.openai.OpenAiChatModel.createRequest(OpenAiChatModel.java:615)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalStream$13(OpenAiChatModel.java:272)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxPublishOn.subscribeOrReturn(FluxPublishOn.java:92)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:55)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891)
	at reactor.core.publisher.Flux.blockLast(Flux.java:2816)
	at com.alibaba.cloud.ai.manus.llm.StreamingResponseHandler.processStreamingResponse(StreamingResponseHandler.java:222)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.executeWithRetry(DynamicAgent.java:187)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.think(DynamicAgent.java:130)
	at com.alibaba.cloud.ai.manus.agent.ReActAgent.step(ReActAgent.java:83)
	at com.alibaba.cloud.ai.manus.agent.BaseAgent.run(BaseAgent.java:222)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.executeStep(AbstractPlanExecutor.java:109)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.lambda$0(AbstractPlanExecutor.java:228)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Flux.blockLast(Flux.java:2817)
		... 11 common frames omitted
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2666)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:741)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipComma(ReaderBasedJsonParser.java:2429)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:924)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR._deserializeNR(UntypedObjectDeserializerNR.java:227)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserialize(UntypedObjectDeserializerNR.java:70)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4931)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3868)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3851)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:104)
	... 39 common frames omitted
2025-09-19 09:19:49:019 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: in_progress
2025-09-19 09:19:49:019 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 29/40
2025-09-19 09:19:49:019 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:19:49:019 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758244788505
- Available files: None

2025-09-19 09:19:49:019 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:19:49:019 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
No operation performed yet

2025-09-19 09:19:49:020 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:19:49:020 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758244788505
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:19:49:020 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:19:49:031 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 134) -Exception occurred
java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:107)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:92)
	at org.springframework.ai.openai.api.OpenAiApi$FunctionTool$Function.<init>(OpenAiApi.java:888)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$getFunctionTools$21(OpenAiChatModel.java:674)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.ai.openai.OpenAiChatModel.getFunctionTools(OpenAiChatModel.java:676)
	at org.springframework.ai.openai.OpenAiChatModel.createRequest(OpenAiChatModel.java:615)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalStream$13(OpenAiChatModel.java:272)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxPublishOn.subscribeOrReturn(FluxPublishOn.java:92)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:55)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891)
	at reactor.core.publisher.Flux.blockLast(Flux.java:2816)
	at com.alibaba.cloud.ai.manus.llm.StreamingResponseHandler.processStreamingResponse(StreamingResponseHandler.java:222)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.executeWithRetry(DynamicAgent.java:187)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.think(DynamicAgent.java:130)
	at com.alibaba.cloud.ai.manus.agent.ReActAgent.step(ReActAgent.java:83)
	at com.alibaba.cloud.ai.manus.agent.BaseAgent.run(BaseAgent.java:222)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.executeStep(AbstractPlanExecutor.java:109)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.lambda$0(AbstractPlanExecutor.java:228)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Flux.blockLast(Flux.java:2817)
		... 11 common frames omitted
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2666)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:741)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipComma(ReaderBasedJsonParser.java:2429)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:924)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR._deserializeNR(UntypedObjectDeserializerNR.java:227)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserialize(UntypedObjectDeserializerNR.java:70)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4931)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3868)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3851)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:104)
	... 39 common frames omitted
2025-09-19 09:19:49:031 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: in_progress
2025-09-19 09:19:49:031 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 30/40
2025-09-19 09:19:49:031 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:19:49:031 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758244788505
- Available files: None

2025-09-19 09:19:49:031 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:19:49:031 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
No operation performed yet

2025-09-19 09:19:49:031 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:19:49:032 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758244788505
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:19:49:032 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:19:49:039 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 134) -Exception occurred
java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:107)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:92)
	at org.springframework.ai.openai.api.OpenAiApi$FunctionTool$Function.<init>(OpenAiApi.java:888)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$getFunctionTools$21(OpenAiChatModel.java:674)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.ai.openai.OpenAiChatModel.getFunctionTools(OpenAiChatModel.java:676)
	at org.springframework.ai.openai.OpenAiChatModel.createRequest(OpenAiChatModel.java:615)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalStream$13(OpenAiChatModel.java:272)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxPublishOn.subscribeOrReturn(FluxPublishOn.java:92)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:55)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891)
	at reactor.core.publisher.Flux.blockLast(Flux.java:2816)
	at com.alibaba.cloud.ai.manus.llm.StreamingResponseHandler.processStreamingResponse(StreamingResponseHandler.java:222)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.executeWithRetry(DynamicAgent.java:187)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.think(DynamicAgent.java:130)
	at com.alibaba.cloud.ai.manus.agent.ReActAgent.step(ReActAgent.java:83)
	at com.alibaba.cloud.ai.manus.agent.BaseAgent.run(BaseAgent.java:222)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.executeStep(AbstractPlanExecutor.java:109)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.lambda$0(AbstractPlanExecutor.java:228)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Flux.blockLast(Flux.java:2817)
		... 11 common frames omitted
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2666)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:741)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipComma(ReaderBasedJsonParser.java:2429)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:924)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR._deserializeNR(UntypedObjectDeserializerNR.java:227)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserialize(UntypedObjectDeserializerNR.java:70)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4931)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3868)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3851)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:104)
	... 39 common frames omitted
2025-09-19 09:19:49:040 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: in_progress
2025-09-19 09:19:49:040 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 31/40
2025-09-19 09:19:49:040 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:19:49:040 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758244788505
- Available files: None

2025-09-19 09:19:49:040 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:19:49:040 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
No operation performed yet

2025-09-19 09:19:49:040 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:19:49:040 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758244788505
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:19:49:040 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:19:49:047 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 134) -Exception occurred
java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:107)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:92)
	at org.springframework.ai.openai.api.OpenAiApi$FunctionTool$Function.<init>(OpenAiApi.java:888)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$getFunctionTools$21(OpenAiChatModel.java:674)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.ai.openai.OpenAiChatModel.getFunctionTools(OpenAiChatModel.java:676)
	at org.springframework.ai.openai.OpenAiChatModel.createRequest(OpenAiChatModel.java:615)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalStream$13(OpenAiChatModel.java:272)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxPublishOn.subscribeOrReturn(FluxPublishOn.java:92)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:55)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891)
	at reactor.core.publisher.Flux.blockLast(Flux.java:2816)
	at com.alibaba.cloud.ai.manus.llm.StreamingResponseHandler.processStreamingResponse(StreamingResponseHandler.java:222)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.executeWithRetry(DynamicAgent.java:187)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.think(DynamicAgent.java:130)
	at com.alibaba.cloud.ai.manus.agent.ReActAgent.step(ReActAgent.java:83)
	at com.alibaba.cloud.ai.manus.agent.BaseAgent.run(BaseAgent.java:222)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.executeStep(AbstractPlanExecutor.java:109)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.lambda$0(AbstractPlanExecutor.java:228)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Flux.blockLast(Flux.java:2817)
		... 11 common frames omitted
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2666)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:741)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipComma(ReaderBasedJsonParser.java:2429)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:924)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR._deserializeNR(UntypedObjectDeserializerNR.java:227)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserialize(UntypedObjectDeserializerNR.java:70)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4931)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3868)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3851)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:104)
	... 39 common frames omitted
2025-09-19 09:19:49:047 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: in_progress
2025-09-19 09:19:49:047 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 32/40
2025-09-19 09:19:49:047 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:19:49:047 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758244788505
- Available files: None

2025-09-19 09:19:49:047 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:19:49:047 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
No operation performed yet

2025-09-19 09:19:49:047 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:19:49:047 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758244788505
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:19:49:047 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:19:49:054 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 134) -Exception occurred
java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:107)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:92)
	at org.springframework.ai.openai.api.OpenAiApi$FunctionTool$Function.<init>(OpenAiApi.java:888)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$getFunctionTools$21(OpenAiChatModel.java:674)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.ai.openai.OpenAiChatModel.getFunctionTools(OpenAiChatModel.java:676)
	at org.springframework.ai.openai.OpenAiChatModel.createRequest(OpenAiChatModel.java:615)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalStream$13(OpenAiChatModel.java:272)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxPublishOn.subscribeOrReturn(FluxPublishOn.java:92)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:55)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891)
	at reactor.core.publisher.Flux.blockLast(Flux.java:2816)
	at com.alibaba.cloud.ai.manus.llm.StreamingResponseHandler.processStreamingResponse(StreamingResponseHandler.java:222)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.executeWithRetry(DynamicAgent.java:187)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.think(DynamicAgent.java:130)
	at com.alibaba.cloud.ai.manus.agent.ReActAgent.step(ReActAgent.java:83)
	at com.alibaba.cloud.ai.manus.agent.BaseAgent.run(BaseAgent.java:222)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.executeStep(AbstractPlanExecutor.java:109)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.lambda$0(AbstractPlanExecutor.java:228)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Flux.blockLast(Flux.java:2817)
		... 11 common frames omitted
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2666)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:741)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipComma(ReaderBasedJsonParser.java:2429)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:924)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR._deserializeNR(UntypedObjectDeserializerNR.java:227)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserialize(UntypedObjectDeserializerNR.java:70)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4931)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3868)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3851)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:104)
	... 39 common frames omitted
2025-09-19 09:19:49:055 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: in_progress
2025-09-19 09:19:49:055 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 33/40
2025-09-19 09:19:49:055 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:19:49:055 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758244788505
- Available files: None

2025-09-19 09:19:49:055 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:19:49:055 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
No operation performed yet

2025-09-19 09:19:49:055 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:19:49:055 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758244788505
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:19:49:055 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:19:49:063 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 134) -Exception occurred
java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:107)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:92)
	at org.springframework.ai.openai.api.OpenAiApi$FunctionTool$Function.<init>(OpenAiApi.java:888)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$getFunctionTools$21(OpenAiChatModel.java:674)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.ai.openai.OpenAiChatModel.getFunctionTools(OpenAiChatModel.java:676)
	at org.springframework.ai.openai.OpenAiChatModel.createRequest(OpenAiChatModel.java:615)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalStream$13(OpenAiChatModel.java:272)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxPublishOn.subscribeOrReturn(FluxPublishOn.java:92)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:55)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891)
	at reactor.core.publisher.Flux.blockLast(Flux.java:2816)
	at com.alibaba.cloud.ai.manus.llm.StreamingResponseHandler.processStreamingResponse(StreamingResponseHandler.java:222)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.executeWithRetry(DynamicAgent.java:187)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.think(DynamicAgent.java:130)
	at com.alibaba.cloud.ai.manus.agent.ReActAgent.step(ReActAgent.java:83)
	at com.alibaba.cloud.ai.manus.agent.BaseAgent.run(BaseAgent.java:222)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.executeStep(AbstractPlanExecutor.java:109)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.lambda$0(AbstractPlanExecutor.java:228)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Flux.blockLast(Flux.java:2817)
		... 11 common frames omitted
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2666)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:741)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipComma(ReaderBasedJsonParser.java:2429)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:924)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR._deserializeNR(UntypedObjectDeserializerNR.java:227)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserialize(UntypedObjectDeserializerNR.java:70)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4931)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3868)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3851)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:104)
	... 39 common frames omitted
2025-09-19 09:19:49:063 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: in_progress
2025-09-19 09:19:49:063 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 34/40
2025-09-19 09:19:49:063 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:19:49:063 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758244788505
- Available files: None

2025-09-19 09:19:49:063 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:19:49:063 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
No operation performed yet

2025-09-19 09:19:49:063 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:19:49:063 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758244788505
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:19:49:063 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:19:49:072 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 134) -Exception occurred
java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:107)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:92)
	at org.springframework.ai.openai.api.OpenAiApi$FunctionTool$Function.<init>(OpenAiApi.java:888)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$getFunctionTools$21(OpenAiChatModel.java:674)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.ai.openai.OpenAiChatModel.getFunctionTools(OpenAiChatModel.java:676)
	at org.springframework.ai.openai.OpenAiChatModel.createRequest(OpenAiChatModel.java:615)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalStream$13(OpenAiChatModel.java:272)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxPublishOn.subscribeOrReturn(FluxPublishOn.java:92)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:55)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891)
	at reactor.core.publisher.Flux.blockLast(Flux.java:2816)
	at com.alibaba.cloud.ai.manus.llm.StreamingResponseHandler.processStreamingResponse(StreamingResponseHandler.java:222)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.executeWithRetry(DynamicAgent.java:187)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.think(DynamicAgent.java:130)
	at com.alibaba.cloud.ai.manus.agent.ReActAgent.step(ReActAgent.java:83)
	at com.alibaba.cloud.ai.manus.agent.BaseAgent.run(BaseAgent.java:222)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.executeStep(AbstractPlanExecutor.java:109)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.lambda$0(AbstractPlanExecutor.java:228)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Flux.blockLast(Flux.java:2817)
		... 11 common frames omitted
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2666)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:741)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipComma(ReaderBasedJsonParser.java:2429)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:924)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR._deserializeNR(UntypedObjectDeserializerNR.java:227)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserialize(UntypedObjectDeserializerNR.java:70)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4931)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3868)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3851)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:104)
	... 39 common frames omitted
2025-09-19 09:19:49:072 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: in_progress
2025-09-19 09:19:49:072 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 35/40
2025-09-19 09:19:49:072 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:19:49:072 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758244788505
- Available files: None

2025-09-19 09:19:49:072 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:19:49:072 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
No operation performed yet

2025-09-19 09:19:49:072 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:19:49:072 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758244788505
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:19:49:072 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:19:49:081 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 134) -Exception occurred
java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:107)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:92)
	at org.springframework.ai.openai.api.OpenAiApi$FunctionTool$Function.<init>(OpenAiApi.java:888)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$getFunctionTools$21(OpenAiChatModel.java:674)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.ai.openai.OpenAiChatModel.getFunctionTools(OpenAiChatModel.java:676)
	at org.springframework.ai.openai.OpenAiChatModel.createRequest(OpenAiChatModel.java:615)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalStream$13(OpenAiChatModel.java:272)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxPublishOn.subscribeOrReturn(FluxPublishOn.java:92)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:55)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891)
	at reactor.core.publisher.Flux.blockLast(Flux.java:2816)
	at com.alibaba.cloud.ai.manus.llm.StreamingResponseHandler.processStreamingResponse(StreamingResponseHandler.java:222)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.executeWithRetry(DynamicAgent.java:187)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.think(DynamicAgent.java:130)
	at com.alibaba.cloud.ai.manus.agent.ReActAgent.step(ReActAgent.java:83)
	at com.alibaba.cloud.ai.manus.agent.BaseAgent.run(BaseAgent.java:222)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.executeStep(AbstractPlanExecutor.java:109)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.lambda$0(AbstractPlanExecutor.java:228)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Flux.blockLast(Flux.java:2817)
		... 11 common frames omitted
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2666)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:741)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipComma(ReaderBasedJsonParser.java:2429)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:924)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR._deserializeNR(UntypedObjectDeserializerNR.java:227)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserialize(UntypedObjectDeserializerNR.java:70)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4931)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3868)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3851)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:104)
	... 39 common frames omitted
2025-09-19 09:19:49:082 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: in_progress
2025-09-19 09:19:49:082 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 36/40
2025-09-19 09:19:49:082 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:19:49:082 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758244788505
- Available files: None

2025-09-19 09:19:49:082 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:19:49:082 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
No operation performed yet

2025-09-19 09:19:49:082 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:19:49:082 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758244788505
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:19:49:082 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:19:49:088 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 134) -Exception occurred
java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:107)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:92)
	at org.springframework.ai.openai.api.OpenAiApi$FunctionTool$Function.<init>(OpenAiApi.java:888)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$getFunctionTools$21(OpenAiChatModel.java:674)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.ai.openai.OpenAiChatModel.getFunctionTools(OpenAiChatModel.java:676)
	at org.springframework.ai.openai.OpenAiChatModel.createRequest(OpenAiChatModel.java:615)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalStream$13(OpenAiChatModel.java:272)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxPublishOn.subscribeOrReturn(FluxPublishOn.java:92)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:55)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891)
	at reactor.core.publisher.Flux.blockLast(Flux.java:2816)
	at com.alibaba.cloud.ai.manus.llm.StreamingResponseHandler.processStreamingResponse(StreamingResponseHandler.java:222)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.executeWithRetry(DynamicAgent.java:187)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.think(DynamicAgent.java:130)
	at com.alibaba.cloud.ai.manus.agent.ReActAgent.step(ReActAgent.java:83)
	at com.alibaba.cloud.ai.manus.agent.BaseAgent.run(BaseAgent.java:222)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.executeStep(AbstractPlanExecutor.java:109)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.lambda$0(AbstractPlanExecutor.java:228)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Flux.blockLast(Flux.java:2817)
		... 11 common frames omitted
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2666)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:741)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipComma(ReaderBasedJsonParser.java:2429)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:924)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR._deserializeNR(UntypedObjectDeserializerNR.java:227)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserialize(UntypedObjectDeserializerNR.java:70)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4931)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3868)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3851)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:104)
	... 39 common frames omitted
2025-09-19 09:19:49:089 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: in_progress
2025-09-19 09:19:49:089 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 37/40
2025-09-19 09:19:49:089 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:19:49:089 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758244788505
- Available files: None

2025-09-19 09:19:49:089 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:19:49:089 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
No operation performed yet

2025-09-19 09:19:49:089 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:19:49:089 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758244788505
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:19:49:089 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:19:49:096 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 134) -Exception occurred
java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:107)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:92)
	at org.springframework.ai.openai.api.OpenAiApi$FunctionTool$Function.<init>(OpenAiApi.java:888)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$getFunctionTools$21(OpenAiChatModel.java:674)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.ai.openai.OpenAiChatModel.getFunctionTools(OpenAiChatModel.java:676)
	at org.springframework.ai.openai.OpenAiChatModel.createRequest(OpenAiChatModel.java:615)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalStream$13(OpenAiChatModel.java:272)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxPublishOn.subscribeOrReturn(FluxPublishOn.java:92)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:55)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891)
	at reactor.core.publisher.Flux.blockLast(Flux.java:2816)
	at com.alibaba.cloud.ai.manus.llm.StreamingResponseHandler.processStreamingResponse(StreamingResponseHandler.java:222)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.executeWithRetry(DynamicAgent.java:187)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.think(DynamicAgent.java:130)
	at com.alibaba.cloud.ai.manus.agent.ReActAgent.step(ReActAgent.java:83)
	at com.alibaba.cloud.ai.manus.agent.BaseAgent.run(BaseAgent.java:222)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.executeStep(AbstractPlanExecutor.java:109)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.lambda$0(AbstractPlanExecutor.java:228)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Flux.blockLast(Flux.java:2817)
		... 11 common frames omitted
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2666)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:741)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipComma(ReaderBasedJsonParser.java:2429)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:924)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR._deserializeNR(UntypedObjectDeserializerNR.java:227)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserialize(UntypedObjectDeserializerNR.java:70)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4931)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3868)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3851)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:104)
	... 39 common frames omitted
2025-09-19 09:19:49:096 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: in_progress
2025-09-19 09:19:49:096 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 38/40
2025-09-19 09:19:49:096 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:19:49:096 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758244788505
- Available files: None

2025-09-19 09:19:49:096 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:19:49:096 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
No operation performed yet

2025-09-19 09:19:49:096 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:19:49:096 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758244788505
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:19:49:096 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:19:49:102 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 134) -Exception occurred
java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:107)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:92)
	at org.springframework.ai.openai.api.OpenAiApi$FunctionTool$Function.<init>(OpenAiApi.java:888)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$getFunctionTools$21(OpenAiChatModel.java:674)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.ai.openai.OpenAiChatModel.getFunctionTools(OpenAiChatModel.java:676)
	at org.springframework.ai.openai.OpenAiChatModel.createRequest(OpenAiChatModel.java:615)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalStream$13(OpenAiChatModel.java:272)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxPublishOn.subscribeOrReturn(FluxPublishOn.java:92)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:55)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891)
	at reactor.core.publisher.Flux.blockLast(Flux.java:2816)
	at com.alibaba.cloud.ai.manus.llm.StreamingResponseHandler.processStreamingResponse(StreamingResponseHandler.java:222)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.executeWithRetry(DynamicAgent.java:187)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.think(DynamicAgent.java:130)
	at com.alibaba.cloud.ai.manus.agent.ReActAgent.step(ReActAgent.java:83)
	at com.alibaba.cloud.ai.manus.agent.BaseAgent.run(BaseAgent.java:222)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.executeStep(AbstractPlanExecutor.java:109)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.lambda$0(AbstractPlanExecutor.java:228)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Flux.blockLast(Flux.java:2817)
		... 11 common frames omitted
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2666)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:741)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipComma(ReaderBasedJsonParser.java:2429)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:924)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR._deserializeNR(UntypedObjectDeserializerNR.java:227)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserialize(UntypedObjectDeserializerNR.java:70)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4931)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3868)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3851)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:104)
	... 39 common frames omitted
2025-09-19 09:19:49:102 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: in_progress
2025-09-19 09:19:49:102 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 39/40
2025-09-19 09:19:49:102 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:19:49:102 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758244788505
- Available files: None

2025-09-19 09:19:49:102 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:19:49:102 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
No operation performed yet

2025-09-19 09:19:49:103 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:19:49:103 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758244788505
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:19:49:103 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:19:49:110 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 134) -Exception occurred
java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:107)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:92)
	at org.springframework.ai.openai.api.OpenAiApi$FunctionTool$Function.<init>(OpenAiApi.java:888)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$getFunctionTools$21(OpenAiChatModel.java:674)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.ai.openai.OpenAiChatModel.getFunctionTools(OpenAiChatModel.java:676)
	at org.springframework.ai.openai.OpenAiChatModel.createRequest(OpenAiChatModel.java:615)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalStream$13(OpenAiChatModel.java:272)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxPublishOn.subscribeOrReturn(FluxPublishOn.java:92)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:55)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891)
	at reactor.core.publisher.Flux.blockLast(Flux.java:2816)
	at com.alibaba.cloud.ai.manus.llm.StreamingResponseHandler.processStreamingResponse(StreamingResponseHandler.java:222)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.executeWithRetry(DynamicAgent.java:187)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.think(DynamicAgent.java:130)
	at com.alibaba.cloud.ai.manus.agent.ReActAgent.step(ReActAgent.java:83)
	at com.alibaba.cloud.ai.manus.agent.BaseAgent.run(BaseAgent.java:222)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.executeStep(AbstractPlanExecutor.java:109)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.lambda$0(AbstractPlanExecutor.java:228)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Flux.blockLast(Flux.java:2817)
		... 11 common frames omitted
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2666)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:741)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipComma(ReaderBasedJsonParser.java:2429)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:924)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR._deserializeNR(UntypedObjectDeserializerNR.java:227)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserialize(UntypedObjectDeserializerNR.java:70)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4931)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3868)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3851)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:104)
	... 39 common frames omitted
2025-09-19 09:19:49:110 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: in_progress
2025-09-19 09:19:49:110 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 40/40
2025-09-19 09:19:49:110 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:19:49:110 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758244788505
- Available files: None

2025-09-19 09:19:49:110 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:19:49:111 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
No operation performed yet

2025-09-19 09:19:49:111 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:19:49:111 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758244788505
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:19:49:111 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:19:49:116 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 134) -Exception occurred
java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:107)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:92)
	at org.springframework.ai.openai.api.OpenAiApi$FunctionTool$Function.<init>(OpenAiApi.java:888)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$getFunctionTools$21(OpenAiChatModel.java:674)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.ai.openai.OpenAiChatModel.getFunctionTools(OpenAiChatModel.java:676)
	at org.springframework.ai.openai.OpenAiChatModel.createRequest(OpenAiChatModel.java:615)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalStream$13(OpenAiChatModel.java:272)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxPublishOn.subscribeOrReturn(FluxPublishOn.java:92)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:55)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891)
	at reactor.core.publisher.Flux.blockLast(Flux.java:2816)
	at com.alibaba.cloud.ai.manus.llm.StreamingResponseHandler.processStreamingResponse(StreamingResponseHandler.java:222)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.executeWithRetry(DynamicAgent.java:187)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.think(DynamicAgent.java:130)
	at com.alibaba.cloud.ai.manus.agent.ReActAgent.step(ReActAgent.java:83)
	at com.alibaba.cloud.ai.manus.agent.BaseAgent.run(BaseAgent.java:222)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.executeStep(AbstractPlanExecutor.java:109)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.lambda$0(AbstractPlanExecutor.java:228)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Flux.blockLast(Flux.java:2817)
		... 11 common frames omitted
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2666)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:741)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipComma(ReaderBasedJsonParser.java:2429)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:924)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR._deserializeNR(UntypedObjectDeserializerNR.java:227)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserialize(UntypedObjectDeserializerNR.java:70)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4931)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3868)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3851)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:104)
	... 39 common frames omitted
2025-09-19 09:19:49:116 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: in_progress
2025-09-19 09:19:49:120 [level-0-executor-0-thread-1] INFO  c.a.c.a.m.r.service.NewRepoPlanExecutionRecorder(NewRepoPlanExecutionRecorder.java 579) -Successfully recorded complete agent execution for stepId: step-ece7ef47-189c-4962-bc3e-78ad5561eb59, final status: FINISHED
2025-09-19 09:19:49:123 [level-0-executor-0-thread-1] INFO  c.a.c.a.m.r.service.NewRepoPlanExecutionRecorder(NewRepoPlanExecutionRecorder.java 377) -Successfully recorded step end for stepId: step-ece7ef47-189c-4962-bc3e-78ad5561eb59, planId: plan-1758244788505, status: FINISHED
2025-09-19 09:19:49:127 [level-0-executor-0-thread-1] INFO  c.a.c.a.m.r.service.NewRepoPlanExecutionRecorder(NewRepoPlanExecutionRecorder.java 377) -Successfully recorded step end for stepId: step-ece7ef47-189c-4962-bc3e-78ad5561eb59, planId: plan-1758244788505, status: FINISHED
2025-09-19 09:19:49:128 [level-0-executor-0-thread-1] INFO  c.a.cloud.ai.manus.tool.browser.BrowserUseTool(BrowserUseTool.java 556) -Cleaning up Chrome resources for plan: plan-1758244788505
2025-09-19 09:19:49:129 [level-0-executor-0-thread-1] INFO  c.a.cloud.ai.manus.tool.mapreduce.MapOutputTool(MapOutputTool.java 388) -MapOutputTool cleanup completed for planId: plan-1758244788505
2025-09-19 09:19:49:129 [level-0-executor-0-thread-1] INFO  c.a.cloud.ai.manus.tool.database.DatabaseUseTool(DatabaseUseTool.java 188) -Cleaning up database resources for plan: plan-1758244788505
2025-09-19 09:19:49:129 [level-0-executor-0-thread-1] INFO  c.a.cloud.ai.manus.tool.database.DataSourceService(DataSourceService.java 176) -Closing all datasource connections
2025-09-19 09:19:49:129 [level-0-executor-0-thread-1] INFO  c.a.cloud.ai.manus.tool.database.DatabaseUseTool(DatabaseUseTool.java 192) -Successfully cleaned up database connections for plan: plan-1758244788505
2025-09-19 09:19:49:129 [level-0-executor-0-thread-1] INFO  c.a.c.a.m.tool.tableProcessor.TableProcessorTool(TableProcessorTool.java 467) -Cleaning up table processing resources for plan: plan-1758244788505
2025-09-19 09:19:49:129 [level-0-executor-0-thread-1] INFO  c.a.c.a.m.t.tableProcessor.TableProcessingService(TableProcessingService.java 769) -Cleaned up table processing resources for plan: plan-1758244788505
2025-09-19 09:19:49:129 [level-0-executor-0-thread-1] INFO  c.a.cloud.ai.manus.tool.mapreduce.FinalizeTool(FinalizeTool.java 315) -FinalizeTool cleanup completed for planId: plan-1758244788505
2025-09-19 09:19:49:129 [level-0-executor-0-thread-1] INFO  c.a.cloud.ai.manus.tool.innerStorage.FileMergeTool(FileMergeTool.java 263) -FileMergeTool cleanup for plan: plan-1758244788505
2025-09-19 09:19:49:129 [level-0-executor-0-thread-1] INFO  c.a.cloud.ai.manus.tool.mapreduce.DataSplitTool(DataSplitTool.java 526) -DataSplitTool cleanup completed for planId: plan-1758244788505
2025-09-19 09:19:49:129 [level-0-executor-0-thread-1] INFO  c.a.c.ai.manus.tool.mapreduce.ReduceOperationTool(ReduceOperationTool.java 311) -ReduceOperationTool cleanup completed for planId: plan-1758244788505
2025-09-19 09:19:49:129 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.tool.bash.Bash(Bash.java 166) -Cleaned up resources for plan: plan-1758244788505
2025-09-19 09:19:49:129 [level-0-executor-0-thread-1] INFO  c.a.c.ai.manus.tool.textOperator.TextFileOperator(TextFileOperator.java 649) -Cleaning up text file resources for plan: plan-1758244788505
2025-09-19 09:19:49:129 [level-0-executor-0-thread-1] INFO  c.a.c.ai.manus.tool.textOperator.TextFileService(TextFileService.java 226) -Cleaned up resources for plan: plan-1758244788505
2025-09-19 09:19:49:129 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.tool.cron.CronTool(CronTool.java 165) -Cleaned up resources for plan: plan-1758244788505
2025-09-19 09:19:51:809 [boundedElastic-2] INFO  c.a.cloud.ai.manus.llm.StreamingResponseHandler(StreamingResponseHandler.java 258) -âœ… Summary generation - Completed[2676ms]: 27 responses processed, 189 characters, 0 tool calls, 0 prompt tokens, 0 completion tokens, 0 total tokens. Preview: 'æŠ±æ­‰ï¼Œç”±äºŽæ‰§è¡Œè¿‡ç¨‹æœªèƒ½æˆåŠŸèŽ·å–åˆ°æ–‡ä»¶å†…å®¹ï¼ˆè¾¾åˆ°æœ€å¤§é‡è¯•æ¬¡æ•°åŽç»ˆæ­¢ï¼‰ï¼Œç›®å‰æ— æ³•å®Œæˆâ€œç»“æž„åŒ–è¾“å‡ºâ€çš„è¯·æ±‚ã€‚

å»ºè®®æ‚¨ç¡®è®¤ä»¥ä¸‹å‡ ç‚¹ï¼š
1. æ–‡ä»¶è·¯å¾„ `/Users/whisper/Downloads/html.md` æ˜¯å¦æ­£ç¡®ä¸”å¯è®¿é—®ï¼›
2. æ–‡ä»¶æ˜¯å¦å­˜åœ¨æˆ–å·²æŸåï¼›
3. æ˜¯å¦æœ‰æƒé™è¯»å–è¯¥æ–‡ä»¶ã€‚

è‹¥é—®é¢˜ä¾æ—§ï¼Œè¯·æä¾›æ›´è¯¦ç»†çš„è¾“å…¥å†…å®¹æˆ–æ‰‹åŠ¨ç²˜è´´æ–‡ä»¶å†…å®¹ï¼Œä»¥ä¾¿æˆ‘ååŠ©æ‚¨è¿›è¡Œç»“æž„åŒ–è¾“å‡ºã€‚'
2025-09-19 09:19:51:828 [level-0-executor-0-thread-1] INFO  c.a.c.a.m.r.service.NewRepoPlanExecutionRecorder(NewRepoPlanExecutionRecorder.java 621) -Successfully recorded plan completion for currentPlanId: plan-1758244788505, completed: true, endTime: 2025-09-19T09:19:51.821393
2025-09-19 09:19:51:829 [level-0-executor-0-thread-1] INFO  c.a.cloud.ai.manus.planning.service.PlanFinalizer(PlanFinalizer.java 114) -Generated summary: æŠ±æ­‰ï¼Œç”±äºŽæ‰§è¡Œè¿‡ç¨‹æœªèƒ½æˆåŠŸèŽ·å–åˆ°æ–‡ä»¶å†…å®¹ï¼ˆè¾¾åˆ°æœ€å¤§é‡è¯•æ¬¡æ•°åŽç»ˆæ­¢ï¼‰ï¼Œç›®å‰æ— æ³•å®Œæˆâ€œç»“æž„åŒ–è¾“å‡ºâ€çš„è¯·æ±‚ã€‚

å»ºè®®æ‚¨ç¡®è®¤ä»¥ä¸‹å‡ ç‚¹ï¼š
1. æ–‡ä»¶è·¯å¾„ `/Users/whisper/Downloads/html.md` æ˜¯å¦æ­£ç¡®ä¸”å¯è®¿é—®ï¼›
2. æ–‡ä»¶æ˜¯å¦å­˜åœ¨æˆ–å·²æŸåï¼›
3. æ˜¯å¦æœ‰æƒé™è¯»å–è¯¥æ–‡ä»¶ã€‚

è‹¥é—®é¢˜ä¾æ—§ï¼Œè¯·æä¾›æ›´è¯¦ç»†çš„è¾“å…¥å†…å®¹æˆ–æ‰‹åŠ¨ç²˜è´´æ–‡ä»¶å†…å®¹ï¼Œä»¥ä¾¿æˆ‘ååŠ©æ‚¨è¿›è¡Œç»“æž„åŒ–è¾“å‡ºã€‚
2025-09-19 09:19:51:829 [level-0-executor-0-thread-1] INFO  c.a.c.ai.manus.runtime.controller.ManusController(ManusController.java 272) -Async plan execution completed for planId: plan-1758244788505
2025-09-19 09:20:17:156 [http-nio-18080-exec-5] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: browser_use
2025-09-19 09:20:17:158 [http-nio-18080-exec-5] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: database_use
2025-09-19 09:20:17:158 [http-nio-18080-exec-5] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: terminate
2025-09-19 09:20:17:158 [http-nio-18080-exec-5] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: bash
2025-09-19 09:20:17:158 [http-nio-18080-exec-5] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: doc_loader
2025-09-19 09:20:17:158 [http-nio-18080-exec-5] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: text_file_operator
2025-09-19 09:20:17:158 [http-nio-18080-exec-5] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: table_processor
2025-09-19 09:20:17:158 [http-nio-18080-exec-5] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: file_merge_tool
2025-09-19 09:20:17:158 [http-nio-18080-exec-5] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: form_input
2025-09-19 09:20:17:159 [http-nio-18080-exec-5] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: data_split_tool
2025-09-19 09:20:17:159 [http-nio-18080-exec-5] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: map_output_tool
2025-09-19 09:20:17:159 [http-nio-18080-exec-5] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: reduce_operation_tool
2025-09-19 09:20:17:159 [http-nio-18080-exec-5] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: mapreduce_finalize_tool
2025-09-19 09:20:17:159 [http-nio-18080-exec-5] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: cron_tool
2025-09-19 09:20:17:159 [http-nio-18080-exec-5] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: excel_processor
2025-09-19 09:20:17:161 [http-nio-18080-exec-5] INFO  c.a.c.ai.manus.subplan.service.SubplanToolService(SubplanToolService.java 93) -Creating subplan tool callbacks for planId: c2b2d914-3a2f-48f5-a2e9-f5b7f49d73b6, rootPlanId: c2b2d914-3a2f-48f5-a2e9-f5b7f49d73b6
2025-09-19 09:20:17:180 [http-nio-18080-exec-5] INFO  c.a.c.ai.manus.subplan.service.SubplanToolService(SubplanToolService.java 106) -Found 4 subplan tools to register
2025-09-19 09:20:17:180 [http-nio-18080-exec-5] INFO  c.a.c.ai.manus.subplan.service.SubplanToolService(SubplanToolService.java 130) -Successfully registered subplan tool: extract_relevant_content -> extract_relevant_content_template
2025-09-19 09:20:17:181 [http-nio-18080-exec-5] INFO  c.a.c.ai.manus.subplan.service.SubplanToolService(SubplanToolService.java 130) -Successfully registered subplan tool: searchShenxun -> planTemplate-1758087694822
2025-09-19 09:20:17:181 [http-nio-18080-exec-5] INFO  c.a.c.ai.manus.subplan.service.SubplanToolService(SubplanToolService.java 130) -Successfully registered subplan tool: summaryResult -> planTemplate-1758202965673
2025-09-19 09:20:17:181 [http-nio-18080-exec-5] INFO  c.a.c.ai.manus.subplan.service.SubplanToolService(SubplanToolService.java 130) -Successfully registered subplan tool: summaryStructure -> planTemplate-1758202965693
2025-09-19 09:20:17:181 [http-nio-18080-exec-5] INFO  c.a.c.ai.manus.subplan.service.SubplanToolService(SubplanToolService.java 144) -Created 4 subplan tool callbacks
2025-09-19 09:20:17:184 [http-nio-18080-exec-5] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 314) -Registered 4 subplan tools
2025-09-19 09:20:17:185 [http-nio-18080-exec-5] INFO  c.a.cloud.ai.manus.mcp.service.McpCacheManager(McpCacheManager.java 553) -Cache invalidation requested for plan: c2b2d914-3a2f-48f5-a2e9-f5b7f49d73b6, but using double buffer mechanism - no action needed
2025-09-19 09:20:20:180 [http-nio-18080-exec-8] INFO  c.a.c.a.m.c.controller.CoordinatorToolController(CoordinatorToolController.java 116) -Getting or creating coordinator tool for plan template: planTemplate-1758202965693
2025-09-19 09:20:20:199 [http-nio-18080-exec-4] INFO  c.a.cloud.ai.manus.model.service.ModelServiceImpl(ModelServiceImpl.java 432) -Sending HTTP request to: https://dashscope.aliyuncs.com/compatible-mode/v1/models
2025-09-19 09:20:20:400 [http-nio-18080-exec-4] INFO  c.a.cloud.ai.manus.model.service.ModelServiceImpl(ModelServiceImpl.java 442) -HTTP request completed - Status code: 200, Duration: 198ms
2025-09-19 09:20:20:400 [http-nio-18080-exec-4] INFO  c.a.cloud.ai.manus.model.service.ModelServiceImpl(ModelServiceImpl.java 321) -Successfully parsed response, obtained 97 available models
2025-09-19 09:20:20:400 [http-nio-18080-exec-4] INFO  c.a.cloud.ai.manus.model.service.ModelServiceImpl(ModelServiceImpl.java 447) -Successfully parsed response, obtained 97 models
2025-09-19 09:20:22:769 [http-nio-18080-exec-6] INFO  c.a.c.ai.manus.runtime.controller.ManusController(ManusController.java 230) -ðŸ”— [HTTP] Received query request from HTTP client: 
2025-09-19 09:20:22:772 [http-nio-18080-exec-6] INFO  c.a.c.ai.manus.runtime.controller.ManusController(ManusController.java 244) -Tool not published, using toolName as planTemplateId: planTemplate-1758202965693
2025-09-19 09:20:22:774 [http-nio-18080-exec-6] INFO  c.a.c.ai.manus.runtime.controller.ManusController(ManusController.java 546) -Replacing parameter placeholders in plan template with input parameters: [planId]
2025-09-19 09:20:22:775 [http-nio-18080-exec-6] INFO  c.a.c.ai.manus.runtime.service.PlanningCoordinator(PlanningCoordinator.java 156) -Starting direct plan execution for plan: null
2025-09-19 09:20:22:776 [http-nio-18080-exec-6] INFO  c.a.c.a.m.r.executor.factory.PlanExecutorFactory(PlanExecutorFactory.java 162) -Creating executor for plan type: dynamic_agent (planId: null)
2025-09-19 09:20:22:797 [level-0-executor-0-thread-2] INFO  c.a.c.a.m.r.service.NewRepoPlanExecutionRecorder(NewRepoPlanExecutionRecorder.java 822) -Successfully created plan relationship for currentPlanId: plan-1758244822772, parentPlanId: null, rootPlanId: plan-1758244822772
2025-09-19 09:20:22:797 [level-0-executor-0-thread-2] INFO  c.a.c.a.m.r.service.NewRepoPlanExecutionRecorder(NewRepoPlanExecutionRecorder.java 148) -Successfully saved plan execution record for ID: plan-1758244822772 with 1 steps
2025-09-19 09:20:22:801 [level-0-executor-0-thread-2] INFO  c.a.cloud.ai.manus.agent.service.AgentServiceImpl(AgentServiceImpl.java 349) -Create new BaseAgent: ConfigurableDynaAgent, planId: plan-1758244822772
2025-09-19 09:20:22:802 [level-0-executor-0-thread-2] INFO  c.a.cloud.ai.manus.agent.service.AgentServiceImpl(AgentServiceImpl.java 204) -No model entity provided for ConfigurableDynaAgent, using null model
2025-09-19 09:20:22:806 [level-0-executor-0-thread-2] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: browser_use
2025-09-19 09:20:22:806 [level-0-executor-0-thread-2] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: database_use
2025-09-19 09:20:22:806 [level-0-executor-0-thread-2] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: terminate
2025-09-19 09:20:22:806 [level-0-executor-0-thread-2] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: bash
2025-09-19 09:20:22:806 [level-0-executor-0-thread-2] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: doc_loader
2025-09-19 09:20:22:806 [level-0-executor-0-thread-2] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: text_file_operator
2025-09-19 09:20:22:806 [level-0-executor-0-thread-2] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: table_processor
2025-09-19 09:20:22:806 [level-0-executor-0-thread-2] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: file_merge_tool
2025-09-19 09:20:22:806 [level-0-executor-0-thread-2] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: form_input
2025-09-19 09:20:22:806 [level-0-executor-0-thread-2] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: data_split_tool
2025-09-19 09:20:22:806 [level-0-executor-0-thread-2] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: map_output_tool
2025-09-19 09:20:22:807 [level-0-executor-0-thread-2] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: reduce_operation_tool
2025-09-19 09:20:22:807 [level-0-executor-0-thread-2] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: mapreduce_finalize_tool
2025-09-19 09:20:22:807 [level-0-executor-0-thread-2] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: cron_tool
2025-09-19 09:20:22:807 [level-0-executor-0-thread-2] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: excel_processor
2025-09-19 09:20:22:807 [level-0-executor-0-thread-2] INFO  c.a.c.ai.manus.subplan.service.SubplanToolService(SubplanToolService.java 93) -Creating subplan tool callbacks for planId: plan-1758244822772, rootPlanId: plan-1758244822772
2025-09-19 09:20:22:810 [level-0-executor-0-thread-2] INFO  c.a.c.ai.manus.subplan.service.SubplanToolService(SubplanToolService.java 106) -Found 4 subplan tools to register
2025-09-19 09:20:22:811 [level-0-executor-0-thread-2] INFO  c.a.c.ai.manus.subplan.service.SubplanToolService(SubplanToolService.java 130) -Successfully registered subplan tool: extract_relevant_content -> extract_relevant_content_template
2025-09-19 09:20:22:811 [level-0-executor-0-thread-2] INFO  c.a.c.ai.manus.subplan.service.SubplanToolService(SubplanToolService.java 130) -Successfully registered subplan tool: searchShenxun -> planTemplate-1758087694822
2025-09-19 09:20:22:811 [level-0-executor-0-thread-2] INFO  c.a.c.ai.manus.subplan.service.SubplanToolService(SubplanToolService.java 130) -Successfully registered subplan tool: summaryResult -> planTemplate-1758202965673
2025-09-19 09:20:22:811 [level-0-executor-0-thread-2] INFO  c.a.c.ai.manus.subplan.service.SubplanToolService(SubplanToolService.java 130) -Successfully registered subplan tool: summaryStructure -> planTemplate-1758202965693
2025-09-19 09:20:22:811 [level-0-executor-0-thread-2] INFO  c.a.c.ai.manus.subplan.service.SubplanToolService(SubplanToolService.java 144) -Created 4 subplan tool callbacks
2025-09-19 09:20:22:812 [level-0-executor-0-thread-2] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 314) -Registered 4 subplan tools
2025-09-19 09:20:22:816 [level-0-executor-0-thread-2] INFO  c.a.c.a.m.r.service.NewRepoPlanExecutionRecorder(NewRepoPlanExecutionRecorder.java 329) -Successfully recorded step start for stepId: step-c3f09b99-db8a-4f8f-97ca-4043ff9f0c1e, planId: plan-1758244822772, status: RUNNING
2025-09-19 09:20:22:816 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 1/40
2025-09-19 09:20:22:816 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:20:22:816 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758244822772
- Available files: None

2025-09-19 09:20:22:816 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:20:22:816 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
No operation performed yet

2025-09-19 09:20:22:816 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:20:22:816 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758244822772
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:20:22:816 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:20:22:836 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 134) -Exception occurred
java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:107)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:92)
	at org.springframework.ai.openai.api.OpenAiApi$FunctionTool$Function.<init>(OpenAiApi.java:888)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$getFunctionTools$21(OpenAiChatModel.java:674)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.ai.openai.OpenAiChatModel.getFunctionTools(OpenAiChatModel.java:676)
	at org.springframework.ai.openai.OpenAiChatModel.createRequest(OpenAiChatModel.java:615)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalStream$13(OpenAiChatModel.java:272)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxPublishOn.subscribeOrReturn(FluxPublishOn.java:92)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:55)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891)
	at reactor.core.publisher.Flux.blockLast(Flux.java:2816)
	at com.alibaba.cloud.ai.manus.llm.StreamingResponseHandler.processStreamingResponse(StreamingResponseHandler.java:222)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.executeWithRetry(DynamicAgent.java:187)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.think(DynamicAgent.java:130)
	at com.alibaba.cloud.ai.manus.agent.ReActAgent.step(ReActAgent.java:83)
	at com.alibaba.cloud.ai.manus.agent.BaseAgent.run(BaseAgent.java:222)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.executeStep(AbstractPlanExecutor.java:109)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.lambda$0(AbstractPlanExecutor.java:228)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Flux.blockLast(Flux.java:2817)
		... 11 common frames omitted
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2666)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:741)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipComma(ReaderBasedJsonParser.java:2429)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:924)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR._deserializeNR(UntypedObjectDeserializerNR.java:227)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserialize(UntypedObjectDeserializerNR.java:70)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4931)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3868)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3851)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:104)
	... 39 common frames omitted
2025-09-19 09:20:22:837 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: in_progress
2025-09-19 09:20:22:837 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 2/40
2025-09-19 09:20:22:838 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:20:22:838 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758244822772
- Available files: None

2025-09-19 09:20:22:838 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:20:22:838 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
No operation performed yet

2025-09-19 09:20:22:838 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:20:22:838 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758244822772
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:20:22:838 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:20:22:847 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 134) -Exception occurred
java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:107)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:92)
	at org.springframework.ai.openai.api.OpenAiApi$FunctionTool$Function.<init>(OpenAiApi.java:888)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$getFunctionTools$21(OpenAiChatModel.java:674)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.ai.openai.OpenAiChatModel.getFunctionTools(OpenAiChatModel.java:676)
	at org.springframework.ai.openai.OpenAiChatModel.createRequest(OpenAiChatModel.java:615)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalStream$13(OpenAiChatModel.java:272)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxPublishOn.subscribeOrReturn(FluxPublishOn.java:92)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:55)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891)
	at reactor.core.publisher.Flux.blockLast(Flux.java:2816)
	at com.alibaba.cloud.ai.manus.llm.StreamingResponseHandler.processStreamingResponse(StreamingResponseHandler.java:222)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.executeWithRetry(DynamicAgent.java:187)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.think(DynamicAgent.java:130)
	at com.alibaba.cloud.ai.manus.agent.ReActAgent.step(ReActAgent.java:83)
	at com.alibaba.cloud.ai.manus.agent.BaseAgent.run(BaseAgent.java:222)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.executeStep(AbstractPlanExecutor.java:109)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.lambda$0(AbstractPlanExecutor.java:228)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Flux.blockLast(Flux.java:2817)
		... 11 common frames omitted
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2666)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:741)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipComma(ReaderBasedJsonParser.java:2429)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:924)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR._deserializeNR(UntypedObjectDeserializerNR.java:227)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserialize(UntypedObjectDeserializerNR.java:70)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4931)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3868)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3851)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:104)
	... 39 common frames omitted
2025-09-19 09:20:22:847 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: in_progress
2025-09-19 09:20:22:847 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 3/40
2025-09-19 09:20:22:847 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:20:22:847 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758244822772
- Available files: None

2025-09-19 09:20:22:847 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:20:22:847 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
No operation performed yet

2025-09-19 09:20:22:847 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:20:22:847 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758244822772
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:20:22:847 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:20:22:859 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 134) -Exception occurred
java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:107)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:92)
	at org.springframework.ai.openai.api.OpenAiApi$FunctionTool$Function.<init>(OpenAiApi.java:888)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$getFunctionTools$21(OpenAiChatModel.java:674)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.ai.openai.OpenAiChatModel.getFunctionTools(OpenAiChatModel.java:676)
	at org.springframework.ai.openai.OpenAiChatModel.createRequest(OpenAiChatModel.java:615)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalStream$13(OpenAiChatModel.java:272)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxPublishOn.subscribeOrReturn(FluxPublishOn.java:92)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:55)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891)
	at reactor.core.publisher.Flux.blockLast(Flux.java:2816)
	at com.alibaba.cloud.ai.manus.llm.StreamingResponseHandler.processStreamingResponse(StreamingResponseHandler.java:222)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.executeWithRetry(DynamicAgent.java:187)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.think(DynamicAgent.java:130)
	at com.alibaba.cloud.ai.manus.agent.ReActAgent.step(ReActAgent.java:83)
	at com.alibaba.cloud.ai.manus.agent.BaseAgent.run(BaseAgent.java:222)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.executeStep(AbstractPlanExecutor.java:109)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.lambda$0(AbstractPlanExecutor.java:228)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Flux.blockLast(Flux.java:2817)
		... 11 common frames omitted
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2666)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:741)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipComma(ReaderBasedJsonParser.java:2429)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:924)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR._deserializeNR(UntypedObjectDeserializerNR.java:227)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserialize(UntypedObjectDeserializerNR.java:70)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4931)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3868)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3851)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:104)
	... 39 common frames omitted
2025-09-19 09:20:22:859 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: in_progress
2025-09-19 09:20:22:859 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 4/40
2025-09-19 09:20:22:859 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:20:22:859 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758244822772
- Available files: None

2025-09-19 09:20:22:859 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:20:22:859 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
No operation performed yet

2025-09-19 09:20:22:859 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:20:22:859 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758244822772
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:20:22:859 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:20:22:866 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 134) -Exception occurred
java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:107)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:92)
	at org.springframework.ai.openai.api.OpenAiApi$FunctionTool$Function.<init>(OpenAiApi.java:888)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$getFunctionTools$21(OpenAiChatModel.java:674)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.ai.openai.OpenAiChatModel.getFunctionTools(OpenAiChatModel.java:676)
	at org.springframework.ai.openai.OpenAiChatModel.createRequest(OpenAiChatModel.java:615)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalStream$13(OpenAiChatModel.java:272)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxPublishOn.subscribeOrReturn(FluxPublishOn.java:92)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:55)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891)
	at reactor.core.publisher.Flux.blockLast(Flux.java:2816)
	at com.alibaba.cloud.ai.manus.llm.StreamingResponseHandler.processStreamingResponse(StreamingResponseHandler.java:222)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.executeWithRetry(DynamicAgent.java:187)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.think(DynamicAgent.java:130)
	at com.alibaba.cloud.ai.manus.agent.ReActAgent.step(ReActAgent.java:83)
	at com.alibaba.cloud.ai.manus.agent.BaseAgent.run(BaseAgent.java:222)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.executeStep(AbstractPlanExecutor.java:109)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.lambda$0(AbstractPlanExecutor.java:228)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Flux.blockLast(Flux.java:2817)
		... 11 common frames omitted
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2666)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:741)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipComma(ReaderBasedJsonParser.java:2429)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:924)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR._deserializeNR(UntypedObjectDeserializerNR.java:227)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserialize(UntypedObjectDeserializerNR.java:70)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4931)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3868)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3851)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:104)
	... 39 common frames omitted
2025-09-19 09:20:22:867 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: in_progress
2025-09-19 09:20:22:867 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 5/40
2025-09-19 09:20:22:867 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:20:22:867 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758244822772
- Available files: None

2025-09-19 09:20:22:867 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:20:22:867 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
No operation performed yet

2025-09-19 09:20:22:867 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:20:22:867 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758244822772
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:20:22:867 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:20:22:882 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 134) -Exception occurred
java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:107)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:92)
	at org.springframework.ai.openai.api.OpenAiApi$FunctionTool$Function.<init>(OpenAiApi.java:888)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$getFunctionTools$21(OpenAiChatModel.java:674)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.ai.openai.OpenAiChatModel.getFunctionTools(OpenAiChatModel.java:676)
	at org.springframework.ai.openai.OpenAiChatModel.createRequest(OpenAiChatModel.java:615)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalStream$13(OpenAiChatModel.java:272)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxPublishOn.subscribeOrReturn(FluxPublishOn.java:92)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:55)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891)
	at reactor.core.publisher.Flux.blockLast(Flux.java:2816)
	at com.alibaba.cloud.ai.manus.llm.StreamingResponseHandler.processStreamingResponse(StreamingResponseHandler.java:222)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.executeWithRetry(DynamicAgent.java:187)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.think(DynamicAgent.java:130)
	at com.alibaba.cloud.ai.manus.agent.ReActAgent.step(ReActAgent.java:83)
	at com.alibaba.cloud.ai.manus.agent.BaseAgent.run(BaseAgent.java:222)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.executeStep(AbstractPlanExecutor.java:109)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.lambda$0(AbstractPlanExecutor.java:228)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Flux.blockLast(Flux.java:2817)
		... 11 common frames omitted
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2666)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:741)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipComma(ReaderBasedJsonParser.java:2429)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:924)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR._deserializeNR(UntypedObjectDeserializerNR.java:227)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserialize(UntypedObjectDeserializerNR.java:70)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4931)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3868)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3851)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:104)
	... 39 common frames omitted
2025-09-19 09:20:22:883 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: in_progress
2025-09-19 09:20:22:883 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 6/40
2025-09-19 09:20:22:883 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:20:22:883 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758244822772
- Available files: None

2025-09-19 09:20:22:884 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:20:22:884 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
No operation performed yet

2025-09-19 09:20:22:887 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:20:22:891 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758244822772
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:20:22:891 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:20:22:907 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 134) -Exception occurred
java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:107)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:92)
	at org.springframework.ai.openai.api.OpenAiApi$FunctionTool$Function.<init>(OpenAiApi.java:888)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$getFunctionTools$21(OpenAiChatModel.java:674)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.ai.openai.OpenAiChatModel.getFunctionTools(OpenAiChatModel.java:676)
	at org.springframework.ai.openai.OpenAiChatModel.createRequest(OpenAiChatModel.java:615)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalStream$13(OpenAiChatModel.java:272)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxPublishOn.subscribeOrReturn(FluxPublishOn.java:92)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:55)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891)
	at reactor.core.publisher.Flux.blockLast(Flux.java:2816)
	at com.alibaba.cloud.ai.manus.llm.StreamingResponseHandler.processStreamingResponse(StreamingResponseHandler.java:222)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.executeWithRetry(DynamicAgent.java:187)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.think(DynamicAgent.java:130)
	at com.alibaba.cloud.ai.manus.agent.ReActAgent.step(ReActAgent.java:83)
	at com.alibaba.cloud.ai.manus.agent.BaseAgent.run(BaseAgent.java:222)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.executeStep(AbstractPlanExecutor.java:109)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.lambda$0(AbstractPlanExecutor.java:228)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Flux.blockLast(Flux.java:2817)
		... 11 common frames omitted
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2666)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:741)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipComma(ReaderBasedJsonParser.java:2429)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:924)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR._deserializeNR(UntypedObjectDeserializerNR.java:227)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserialize(UntypedObjectDeserializerNR.java:70)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4931)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3868)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3851)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:104)
	... 39 common frames omitted
2025-09-19 09:20:22:907 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: in_progress
2025-09-19 09:20:22:907 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 7/40
2025-09-19 09:20:22:907 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:20:22:907 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758244822772
- Available files: None

2025-09-19 09:20:22:907 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:20:22:908 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
No operation performed yet

2025-09-19 09:20:22:908 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:20:22:908 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758244822772
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:20:22:908 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:20:22:924 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 134) -Exception occurred
java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:107)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:92)
	at org.springframework.ai.openai.api.OpenAiApi$FunctionTool$Function.<init>(OpenAiApi.java:888)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$getFunctionTools$21(OpenAiChatModel.java:674)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.ai.openai.OpenAiChatModel.getFunctionTools(OpenAiChatModel.java:676)
	at org.springframework.ai.openai.OpenAiChatModel.createRequest(OpenAiChatModel.java:615)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalStream$13(OpenAiChatModel.java:272)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxPublishOn.subscribeOrReturn(FluxPublishOn.java:92)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:55)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891)
	at reactor.core.publisher.Flux.blockLast(Flux.java:2816)
	at com.alibaba.cloud.ai.manus.llm.StreamingResponseHandler.processStreamingResponse(StreamingResponseHandler.java:222)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.executeWithRetry(DynamicAgent.java:187)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.think(DynamicAgent.java:130)
	at com.alibaba.cloud.ai.manus.agent.ReActAgent.step(ReActAgent.java:83)
	at com.alibaba.cloud.ai.manus.agent.BaseAgent.run(BaseAgent.java:222)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.executeStep(AbstractPlanExecutor.java:109)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.lambda$0(AbstractPlanExecutor.java:228)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Flux.blockLast(Flux.java:2817)
		... 11 common frames omitted
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2666)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:741)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipComma(ReaderBasedJsonParser.java:2429)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:924)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR._deserializeNR(UntypedObjectDeserializerNR.java:227)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserialize(UntypedObjectDeserializerNR.java:70)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4931)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3868)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3851)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:104)
	... 39 common frames omitted
2025-09-19 09:20:22:924 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: in_progress
2025-09-19 09:20:22:924 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 8/40
2025-09-19 09:20:22:924 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:20:22:924 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758244822772
- Available files: None

2025-09-19 09:20:22:924 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:20:22:924 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
No operation performed yet

2025-09-19 09:20:22:924 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:20:22:924 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758244822772
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:20:22:925 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:20:22:935 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 134) -Exception occurred
java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:107)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:92)
	at org.springframework.ai.openai.api.OpenAiApi$FunctionTool$Function.<init>(OpenAiApi.java:888)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$getFunctionTools$21(OpenAiChatModel.java:674)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.ai.openai.OpenAiChatModel.getFunctionTools(OpenAiChatModel.java:676)
	at org.springframework.ai.openai.OpenAiChatModel.createRequest(OpenAiChatModel.java:615)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalStream$13(OpenAiChatModel.java:272)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxPublishOn.subscribeOrReturn(FluxPublishOn.java:92)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:55)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891)
	at reactor.core.publisher.Flux.blockLast(Flux.java:2816)
	at com.alibaba.cloud.ai.manus.llm.StreamingResponseHandler.processStreamingResponse(StreamingResponseHandler.java:222)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.executeWithRetry(DynamicAgent.java:187)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.think(DynamicAgent.java:130)
	at com.alibaba.cloud.ai.manus.agent.ReActAgent.step(ReActAgent.java:83)
	at com.alibaba.cloud.ai.manus.agent.BaseAgent.run(BaseAgent.java:222)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.executeStep(AbstractPlanExecutor.java:109)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.lambda$0(AbstractPlanExecutor.java:228)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Flux.blockLast(Flux.java:2817)
		... 11 common frames omitted
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2666)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:741)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipComma(ReaderBasedJsonParser.java:2429)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:924)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR._deserializeNR(UntypedObjectDeserializerNR.java:227)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserialize(UntypedObjectDeserializerNR.java:70)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4931)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3868)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3851)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:104)
	... 39 common frames omitted
2025-09-19 09:20:22:942 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: in_progress
2025-09-19 09:20:22:943 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 9/40
2025-09-19 09:20:22:943 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:20:22:943 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758244822772
- Available files: None

2025-09-19 09:20:22:943 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:20:22:946 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
No operation performed yet

2025-09-19 09:20:22:946 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:20:22:946 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758244822772
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:20:22:948 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:20:22:967 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 134) -Exception occurred
java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:107)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:92)
	at org.springframework.ai.openai.api.OpenAiApi$FunctionTool$Function.<init>(OpenAiApi.java:888)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$getFunctionTools$21(OpenAiChatModel.java:674)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.ai.openai.OpenAiChatModel.getFunctionTools(OpenAiChatModel.java:676)
	at org.springframework.ai.openai.OpenAiChatModel.createRequest(OpenAiChatModel.java:615)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalStream$13(OpenAiChatModel.java:272)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxPublishOn.subscribeOrReturn(FluxPublishOn.java:92)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:55)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891)
	at reactor.core.publisher.Flux.blockLast(Flux.java:2816)
	at com.alibaba.cloud.ai.manus.llm.StreamingResponseHandler.processStreamingResponse(StreamingResponseHandler.java:222)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.executeWithRetry(DynamicAgent.java:187)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.think(DynamicAgent.java:130)
	at com.alibaba.cloud.ai.manus.agent.ReActAgent.step(ReActAgent.java:83)
	at com.alibaba.cloud.ai.manus.agent.BaseAgent.run(BaseAgent.java:222)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.executeStep(AbstractPlanExecutor.java:109)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.lambda$0(AbstractPlanExecutor.java:228)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Flux.blockLast(Flux.java:2817)
		... 11 common frames omitted
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2666)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:741)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipComma(ReaderBasedJsonParser.java:2429)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:924)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR._deserializeNR(UntypedObjectDeserializerNR.java:227)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserialize(UntypedObjectDeserializerNR.java:70)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4931)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3868)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3851)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:104)
	... 39 common frames omitted
2025-09-19 09:20:22:969 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: in_progress
2025-09-19 09:20:22:969 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 10/40
2025-09-19 09:20:22:969 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:20:22:969 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758244822772
- Available files: None

2025-09-19 09:20:22:972 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:20:22:972 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
No operation performed yet

2025-09-19 09:20:22:972 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:20:22:972 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758244822772
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:20:22:975 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:20:22:996 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 134) -Exception occurred
java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:107)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:92)
	at org.springframework.ai.openai.api.OpenAiApi$FunctionTool$Function.<init>(OpenAiApi.java:888)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$getFunctionTools$21(OpenAiChatModel.java:674)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.ai.openai.OpenAiChatModel.getFunctionTools(OpenAiChatModel.java:676)
	at org.springframework.ai.openai.OpenAiChatModel.createRequest(OpenAiChatModel.java:615)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalStream$13(OpenAiChatModel.java:272)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxPublishOn.subscribeOrReturn(FluxPublishOn.java:92)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:55)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891)
	at reactor.core.publisher.Flux.blockLast(Flux.java:2816)
	at com.alibaba.cloud.ai.manus.llm.StreamingResponseHandler.processStreamingResponse(StreamingResponseHandler.java:222)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.executeWithRetry(DynamicAgent.java:187)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.think(DynamicAgent.java:130)
	at com.alibaba.cloud.ai.manus.agent.ReActAgent.step(ReActAgent.java:83)
	at com.alibaba.cloud.ai.manus.agent.BaseAgent.run(BaseAgent.java:222)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.executeStep(AbstractPlanExecutor.java:109)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.lambda$0(AbstractPlanExecutor.java:228)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Flux.blockLast(Flux.java:2817)
		... 11 common frames omitted
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2666)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:741)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipComma(ReaderBasedJsonParser.java:2429)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:924)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR._deserializeNR(UntypedObjectDeserializerNR.java:227)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserialize(UntypedObjectDeserializerNR.java:70)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4931)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3868)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3851)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:104)
	... 39 common frames omitted
2025-09-19 09:20:22:997 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: in_progress
2025-09-19 09:20:22:997 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 11/40
2025-09-19 09:20:22:997 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:20:22:997 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758244822772
- Available files: None

2025-09-19 09:20:22:997 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:20:22:997 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
No operation performed yet

2025-09-19 09:20:22:997 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:20:22:997 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758244822772
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:20:22:997 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:20:23:014 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 134) -Exception occurred
java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:107)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:92)
	at org.springframework.ai.openai.api.OpenAiApi$FunctionTool$Function.<init>(OpenAiApi.java:888)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$getFunctionTools$21(OpenAiChatModel.java:674)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.ai.openai.OpenAiChatModel.getFunctionTools(OpenAiChatModel.java:676)
	at org.springframework.ai.openai.OpenAiChatModel.createRequest(OpenAiChatModel.java:615)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalStream$13(OpenAiChatModel.java:272)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxPublishOn.subscribeOrReturn(FluxPublishOn.java:92)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:55)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891)
	at reactor.core.publisher.Flux.blockLast(Flux.java:2816)
	at com.alibaba.cloud.ai.manus.llm.StreamingResponseHandler.processStreamingResponse(StreamingResponseHandler.java:222)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.executeWithRetry(DynamicAgent.java:187)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.think(DynamicAgent.java:130)
	at com.alibaba.cloud.ai.manus.agent.ReActAgent.step(ReActAgent.java:83)
	at com.alibaba.cloud.ai.manus.agent.BaseAgent.run(BaseAgent.java:222)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.executeStep(AbstractPlanExecutor.java:109)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.lambda$0(AbstractPlanExecutor.java:228)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Flux.blockLast(Flux.java:2817)
		... 11 common frames omitted
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2666)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:741)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipComma(ReaderBasedJsonParser.java:2429)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:924)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR._deserializeNR(UntypedObjectDeserializerNR.java:227)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserialize(UntypedObjectDeserializerNR.java:70)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4931)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3868)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3851)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:104)
	... 39 common frames omitted
2025-09-19 09:20:23:015 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: in_progress
2025-09-19 09:20:23:015 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 12/40
2025-09-19 09:20:23:015 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:20:23:015 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758244822772
- Available files: None

2025-09-19 09:20:23:015 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:20:23:015 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
No operation performed yet

2025-09-19 09:20:23:015 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:20:23:015 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758244822772
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:20:23:015 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:20:23:072 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 134) -Exception occurred
java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:107)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:92)
	at org.springframework.ai.openai.api.OpenAiApi$FunctionTool$Function.<init>(OpenAiApi.java:888)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$getFunctionTools$21(OpenAiChatModel.java:674)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.ai.openai.OpenAiChatModel.getFunctionTools(OpenAiChatModel.java:676)
	at org.springframework.ai.openai.OpenAiChatModel.createRequest(OpenAiChatModel.java:615)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalStream$13(OpenAiChatModel.java:272)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxPublishOn.subscribeOrReturn(FluxPublishOn.java:92)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:55)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891)
	at reactor.core.publisher.Flux.blockLast(Flux.java:2816)
	at com.alibaba.cloud.ai.manus.llm.StreamingResponseHandler.processStreamingResponse(StreamingResponseHandler.java:222)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.executeWithRetry(DynamicAgent.java:187)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.think(DynamicAgent.java:130)
	at com.alibaba.cloud.ai.manus.agent.ReActAgent.step(ReActAgent.java:83)
	at com.alibaba.cloud.ai.manus.agent.BaseAgent.run(BaseAgent.java:222)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.executeStep(AbstractPlanExecutor.java:109)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.lambda$0(AbstractPlanExecutor.java:228)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Flux.blockLast(Flux.java:2817)
		... 11 common frames omitted
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2666)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:741)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipComma(ReaderBasedJsonParser.java:2429)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:924)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR._deserializeNR(UntypedObjectDeserializerNR.java:227)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserialize(UntypedObjectDeserializerNR.java:70)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4931)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3868)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3851)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:104)
	... 39 common frames omitted
2025-09-19 09:20:23:073 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: in_progress
2025-09-19 09:20:23:074 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 13/40
2025-09-19 09:20:23:074 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:20:23:074 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758244822772
- Available files: None

2025-09-19 09:20:23:074 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:20:23:074 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
No operation performed yet

2025-09-19 09:20:23:074 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:20:23:074 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758244822772
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:20:23:075 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:20:23:087 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 134) -Exception occurred
java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:107)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:92)
	at org.springframework.ai.openai.api.OpenAiApi$FunctionTool$Function.<init>(OpenAiApi.java:888)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$getFunctionTools$21(OpenAiChatModel.java:674)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.ai.openai.OpenAiChatModel.getFunctionTools(OpenAiChatModel.java:676)
	at org.springframework.ai.openai.OpenAiChatModel.createRequest(OpenAiChatModel.java:615)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalStream$13(OpenAiChatModel.java:272)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxPublishOn.subscribeOrReturn(FluxPublishOn.java:92)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:55)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891)
	at reactor.core.publisher.Flux.blockLast(Flux.java:2816)
	at com.alibaba.cloud.ai.manus.llm.StreamingResponseHandler.processStreamingResponse(StreamingResponseHandler.java:222)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.executeWithRetry(DynamicAgent.java:187)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.think(DynamicAgent.java:130)
	at com.alibaba.cloud.ai.manus.agent.ReActAgent.step(ReActAgent.java:83)
	at com.alibaba.cloud.ai.manus.agent.BaseAgent.run(BaseAgent.java:222)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.executeStep(AbstractPlanExecutor.java:109)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.lambda$0(AbstractPlanExecutor.java:228)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Flux.blockLast(Flux.java:2817)
		... 11 common frames omitted
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2666)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:741)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipComma(ReaderBasedJsonParser.java:2429)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:924)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR._deserializeNR(UntypedObjectDeserializerNR.java:227)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserialize(UntypedObjectDeserializerNR.java:70)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4931)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3868)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3851)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:104)
	... 39 common frames omitted
2025-09-19 09:20:23:088 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: in_progress
2025-09-19 09:20:23:088 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 14/40
2025-09-19 09:20:23:088 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:20:23:088 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758244822772
- Available files: None

2025-09-19 09:20:23:088 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:20:23:090 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
No operation performed yet

2025-09-19 09:20:23:090 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:20:23:090 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758244822772
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:20:23:090 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:20:23:106 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 134) -Exception occurred
java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:107)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:92)
	at org.springframework.ai.openai.api.OpenAiApi$FunctionTool$Function.<init>(OpenAiApi.java:888)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$getFunctionTools$21(OpenAiChatModel.java:674)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.ai.openai.OpenAiChatModel.getFunctionTools(OpenAiChatModel.java:676)
	at org.springframework.ai.openai.OpenAiChatModel.createRequest(OpenAiChatModel.java:615)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalStream$13(OpenAiChatModel.java:272)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxPublishOn.subscribeOrReturn(FluxPublishOn.java:92)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:55)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891)
	at reactor.core.publisher.Flux.blockLast(Flux.java:2816)
	at com.alibaba.cloud.ai.manus.llm.StreamingResponseHandler.processStreamingResponse(StreamingResponseHandler.java:222)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.executeWithRetry(DynamicAgent.java:187)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.think(DynamicAgent.java:130)
	at com.alibaba.cloud.ai.manus.agent.ReActAgent.step(ReActAgent.java:83)
	at com.alibaba.cloud.ai.manus.agent.BaseAgent.run(BaseAgent.java:222)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.executeStep(AbstractPlanExecutor.java:109)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.lambda$0(AbstractPlanExecutor.java:228)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Flux.blockLast(Flux.java:2817)
		... 11 common frames omitted
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2666)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:741)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipComma(ReaderBasedJsonParser.java:2429)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:924)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR._deserializeNR(UntypedObjectDeserializerNR.java:227)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserialize(UntypedObjectDeserializerNR.java:70)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4931)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3868)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3851)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:104)
	... 39 common frames omitted
2025-09-19 09:20:23:108 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: in_progress
2025-09-19 09:20:23:108 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 15/40
2025-09-19 09:20:23:108 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:20:23:108 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758244822772
- Available files: None

2025-09-19 09:20:23:108 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:20:23:108 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
No operation performed yet

2025-09-19 09:20:23:108 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:20:23:108 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758244822772
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:20:23:108 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:20:23:117 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 134) -Exception occurred
java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:107)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:92)
	at org.springframework.ai.openai.api.OpenAiApi$FunctionTool$Function.<init>(OpenAiApi.java:888)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$getFunctionTools$21(OpenAiChatModel.java:674)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.ai.openai.OpenAiChatModel.getFunctionTools(OpenAiChatModel.java:676)
	at org.springframework.ai.openai.OpenAiChatModel.createRequest(OpenAiChatModel.java:615)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalStream$13(OpenAiChatModel.java:272)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxPublishOn.subscribeOrReturn(FluxPublishOn.java:92)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:55)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891)
	at reactor.core.publisher.Flux.blockLast(Flux.java:2816)
	at com.alibaba.cloud.ai.manus.llm.StreamingResponseHandler.processStreamingResponse(StreamingResponseHandler.java:222)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.executeWithRetry(DynamicAgent.java:187)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.think(DynamicAgent.java:130)
	at com.alibaba.cloud.ai.manus.agent.ReActAgent.step(ReActAgent.java:83)
	at com.alibaba.cloud.ai.manus.agent.BaseAgent.run(BaseAgent.java:222)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.executeStep(AbstractPlanExecutor.java:109)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.lambda$0(AbstractPlanExecutor.java:228)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Flux.blockLast(Flux.java:2817)
		... 11 common frames omitted
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2666)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:741)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipComma(ReaderBasedJsonParser.java:2429)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:924)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR._deserializeNR(UntypedObjectDeserializerNR.java:227)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserialize(UntypedObjectDeserializerNR.java:70)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4931)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3868)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3851)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:104)
	... 39 common frames omitted
2025-09-19 09:20:23:117 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: in_progress
2025-09-19 09:20:23:117 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 16/40
2025-09-19 09:20:23:117 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:20:23:117 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758244822772
- Available files: None

2025-09-19 09:20:23:117 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:20:23:117 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
No operation performed yet

2025-09-19 09:20:23:117 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:20:23:117 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758244822772
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:20:23:117 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:20:23:128 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 134) -Exception occurred
java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:107)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:92)
	at org.springframework.ai.openai.api.OpenAiApi$FunctionTool$Function.<init>(OpenAiApi.java:888)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$getFunctionTools$21(OpenAiChatModel.java:674)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.ai.openai.OpenAiChatModel.getFunctionTools(OpenAiChatModel.java:676)
	at org.springframework.ai.openai.OpenAiChatModel.createRequest(OpenAiChatModel.java:615)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalStream$13(OpenAiChatModel.java:272)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxPublishOn.subscribeOrReturn(FluxPublishOn.java:92)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:55)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891)
	at reactor.core.publisher.Flux.blockLast(Flux.java:2816)
	at com.alibaba.cloud.ai.manus.llm.StreamingResponseHandler.processStreamingResponse(StreamingResponseHandler.java:222)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.executeWithRetry(DynamicAgent.java:187)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.think(DynamicAgent.java:130)
	at com.alibaba.cloud.ai.manus.agent.ReActAgent.step(ReActAgent.java:83)
	at com.alibaba.cloud.ai.manus.agent.BaseAgent.run(BaseAgent.java:222)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.executeStep(AbstractPlanExecutor.java:109)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.lambda$0(AbstractPlanExecutor.java:228)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Flux.blockLast(Flux.java:2817)
		... 11 common frames omitted
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2666)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:741)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipComma(ReaderBasedJsonParser.java:2429)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:924)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR._deserializeNR(UntypedObjectDeserializerNR.java:227)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserialize(UntypedObjectDeserializerNR.java:70)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4931)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3868)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3851)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:104)
	... 39 common frames omitted
2025-09-19 09:20:23:128 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: in_progress
2025-09-19 09:20:23:128 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 17/40
2025-09-19 09:20:23:128 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:20:23:128 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758244822772
- Available files: None

2025-09-19 09:20:23:129 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:20:23:129 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
No operation performed yet

2025-09-19 09:20:23:129 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:20:23:129 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758244822772
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:20:23:129 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:20:23:136 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 134) -Exception occurred
java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:107)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:92)
	at org.springframework.ai.openai.api.OpenAiApi$FunctionTool$Function.<init>(OpenAiApi.java:888)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$getFunctionTools$21(OpenAiChatModel.java:674)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.ai.openai.OpenAiChatModel.getFunctionTools(OpenAiChatModel.java:676)
	at org.springframework.ai.openai.OpenAiChatModel.createRequest(OpenAiChatModel.java:615)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalStream$13(OpenAiChatModel.java:272)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxPublishOn.subscribeOrReturn(FluxPublishOn.java:92)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:55)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891)
	at reactor.core.publisher.Flux.blockLast(Flux.java:2816)
	at com.alibaba.cloud.ai.manus.llm.StreamingResponseHandler.processStreamingResponse(StreamingResponseHandler.java:222)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.executeWithRetry(DynamicAgent.java:187)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.think(DynamicAgent.java:130)
	at com.alibaba.cloud.ai.manus.agent.ReActAgent.step(ReActAgent.java:83)
	at com.alibaba.cloud.ai.manus.agent.BaseAgent.run(BaseAgent.java:222)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.executeStep(AbstractPlanExecutor.java:109)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.lambda$0(AbstractPlanExecutor.java:228)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Flux.blockLast(Flux.java:2817)
		... 11 common frames omitted
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2666)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:741)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipComma(ReaderBasedJsonParser.java:2429)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:924)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR._deserializeNR(UntypedObjectDeserializerNR.java:227)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserialize(UntypedObjectDeserializerNR.java:70)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4931)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3868)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3851)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:104)
	... 39 common frames omitted
2025-09-19 09:20:23:136 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: in_progress
2025-09-19 09:20:23:136 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 18/40
2025-09-19 09:20:23:136 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:20:23:136 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758244822772
- Available files: None

2025-09-19 09:20:23:136 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:20:23:136 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
No operation performed yet

2025-09-19 09:20:23:136 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:20:23:137 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758244822772
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:20:23:137 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:20:23:162 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 134) -Exception occurred
java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:107)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:92)
	at org.springframework.ai.openai.api.OpenAiApi$FunctionTool$Function.<init>(OpenAiApi.java:888)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$getFunctionTools$21(OpenAiChatModel.java:674)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.ai.openai.OpenAiChatModel.getFunctionTools(OpenAiChatModel.java:676)
	at org.springframework.ai.openai.OpenAiChatModel.createRequest(OpenAiChatModel.java:615)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalStream$13(OpenAiChatModel.java:272)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxPublishOn.subscribeOrReturn(FluxPublishOn.java:92)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:55)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891)
	at reactor.core.publisher.Flux.blockLast(Flux.java:2816)
	at com.alibaba.cloud.ai.manus.llm.StreamingResponseHandler.processStreamingResponse(StreamingResponseHandler.java:222)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.executeWithRetry(DynamicAgent.java:187)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.think(DynamicAgent.java:130)
	at com.alibaba.cloud.ai.manus.agent.ReActAgent.step(ReActAgent.java:83)
	at com.alibaba.cloud.ai.manus.agent.BaseAgent.run(BaseAgent.java:222)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.executeStep(AbstractPlanExecutor.java:109)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.lambda$0(AbstractPlanExecutor.java:228)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Flux.blockLast(Flux.java:2817)
		... 11 common frames omitted
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2666)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:741)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipComma(ReaderBasedJsonParser.java:2429)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:924)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR._deserializeNR(UntypedObjectDeserializerNR.java:227)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserialize(UntypedObjectDeserializerNR.java:70)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4931)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3868)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3851)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:104)
	... 39 common frames omitted
2025-09-19 09:20:23:164 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: in_progress
2025-09-19 09:20:23:164 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 19/40
2025-09-19 09:20:23:164 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:20:23:164 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758244822772
- Available files: None

2025-09-19 09:20:23:164 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:20:23:165 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
No operation performed yet

2025-09-19 09:20:23:165 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:20:23:165 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758244822772
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:20:23:165 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:20:23:180 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 134) -Exception occurred
java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:107)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:92)
	at org.springframework.ai.openai.api.OpenAiApi$FunctionTool$Function.<init>(OpenAiApi.java:888)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$getFunctionTools$21(OpenAiChatModel.java:674)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.ai.openai.OpenAiChatModel.getFunctionTools(OpenAiChatModel.java:676)
	at org.springframework.ai.openai.OpenAiChatModel.createRequest(OpenAiChatModel.java:615)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalStream$13(OpenAiChatModel.java:272)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxPublishOn.subscribeOrReturn(FluxPublishOn.java:92)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:55)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891)
	at reactor.core.publisher.Flux.blockLast(Flux.java:2816)
	at com.alibaba.cloud.ai.manus.llm.StreamingResponseHandler.processStreamingResponse(StreamingResponseHandler.java:222)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.executeWithRetry(DynamicAgent.java:187)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.think(DynamicAgent.java:130)
	at com.alibaba.cloud.ai.manus.agent.ReActAgent.step(ReActAgent.java:83)
	at com.alibaba.cloud.ai.manus.agent.BaseAgent.run(BaseAgent.java:222)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.executeStep(AbstractPlanExecutor.java:109)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.lambda$0(AbstractPlanExecutor.java:228)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Flux.blockLast(Flux.java:2817)
		... 11 common frames omitted
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2666)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:741)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipComma(ReaderBasedJsonParser.java:2429)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:924)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR._deserializeNR(UntypedObjectDeserializerNR.java:227)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserialize(UntypedObjectDeserializerNR.java:70)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4931)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3868)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3851)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:104)
	... 39 common frames omitted
2025-09-19 09:20:23:181 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: in_progress
2025-09-19 09:20:23:181 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 20/40
2025-09-19 09:20:23:181 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:20:23:181 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758244822772
- Available files: None

2025-09-19 09:20:23:181 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:20:23:181 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
No operation performed yet

2025-09-19 09:20:23:181 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:20:23:181 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758244822772
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:20:23:181 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:20:23:191 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 134) -Exception occurred
java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:107)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:92)
	at org.springframework.ai.openai.api.OpenAiApi$FunctionTool$Function.<init>(OpenAiApi.java:888)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$getFunctionTools$21(OpenAiChatModel.java:674)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.ai.openai.OpenAiChatModel.getFunctionTools(OpenAiChatModel.java:676)
	at org.springframework.ai.openai.OpenAiChatModel.createRequest(OpenAiChatModel.java:615)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalStream$13(OpenAiChatModel.java:272)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxPublishOn.subscribeOrReturn(FluxPublishOn.java:92)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:55)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891)
	at reactor.core.publisher.Flux.blockLast(Flux.java:2816)
	at com.alibaba.cloud.ai.manus.llm.StreamingResponseHandler.processStreamingResponse(StreamingResponseHandler.java:222)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.executeWithRetry(DynamicAgent.java:187)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.think(DynamicAgent.java:130)
	at com.alibaba.cloud.ai.manus.agent.ReActAgent.step(ReActAgent.java:83)
	at com.alibaba.cloud.ai.manus.agent.BaseAgent.run(BaseAgent.java:222)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.executeStep(AbstractPlanExecutor.java:109)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.lambda$0(AbstractPlanExecutor.java:228)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Flux.blockLast(Flux.java:2817)
		... 11 common frames omitted
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2666)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:741)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipComma(ReaderBasedJsonParser.java:2429)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:924)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR._deserializeNR(UntypedObjectDeserializerNR.java:227)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserialize(UntypedObjectDeserializerNR.java:70)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4931)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3868)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3851)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:104)
	... 39 common frames omitted
2025-09-19 09:20:23:191 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: in_progress
2025-09-19 09:20:23:191 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 21/40
2025-09-19 09:20:23:191 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:20:23:191 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758244822772
- Available files: None

2025-09-19 09:20:23:191 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:20:23:191 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
No operation performed yet

2025-09-19 09:20:23:191 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:20:23:191 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758244822772
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:20:23:191 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:20:23:199 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 134) -Exception occurred
java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:107)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:92)
	at org.springframework.ai.openai.api.OpenAiApi$FunctionTool$Function.<init>(OpenAiApi.java:888)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$getFunctionTools$21(OpenAiChatModel.java:674)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.ai.openai.OpenAiChatModel.getFunctionTools(OpenAiChatModel.java:676)
	at org.springframework.ai.openai.OpenAiChatModel.createRequest(OpenAiChatModel.java:615)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalStream$13(OpenAiChatModel.java:272)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxPublishOn.subscribeOrReturn(FluxPublishOn.java:92)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:55)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891)
	at reactor.core.publisher.Flux.blockLast(Flux.java:2816)
	at com.alibaba.cloud.ai.manus.llm.StreamingResponseHandler.processStreamingResponse(StreamingResponseHandler.java:222)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.executeWithRetry(DynamicAgent.java:187)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.think(DynamicAgent.java:130)
	at com.alibaba.cloud.ai.manus.agent.ReActAgent.step(ReActAgent.java:83)
	at com.alibaba.cloud.ai.manus.agent.BaseAgent.run(BaseAgent.java:222)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.executeStep(AbstractPlanExecutor.java:109)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.lambda$0(AbstractPlanExecutor.java:228)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Flux.blockLast(Flux.java:2817)
		... 11 common frames omitted
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2666)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:741)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipComma(ReaderBasedJsonParser.java:2429)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:924)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR._deserializeNR(UntypedObjectDeserializerNR.java:227)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserialize(UntypedObjectDeserializerNR.java:70)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4931)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3868)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3851)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:104)
	... 39 common frames omitted
2025-09-19 09:20:23:199 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: in_progress
2025-09-19 09:20:23:199 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 22/40
2025-09-19 09:20:23:199 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:20:23:199 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758244822772
- Available files: None

2025-09-19 09:20:23:199 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:20:23:199 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
No operation performed yet

2025-09-19 09:20:23:199 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:20:23:199 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758244822772
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:20:23:199 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:20:23:209 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 134) -Exception occurred
java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:107)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:92)
	at org.springframework.ai.openai.api.OpenAiApi$FunctionTool$Function.<init>(OpenAiApi.java:888)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$getFunctionTools$21(OpenAiChatModel.java:674)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.ai.openai.OpenAiChatModel.getFunctionTools(OpenAiChatModel.java:676)
	at org.springframework.ai.openai.OpenAiChatModel.createRequest(OpenAiChatModel.java:615)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalStream$13(OpenAiChatModel.java:272)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxPublishOn.subscribeOrReturn(FluxPublishOn.java:92)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:55)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891)
	at reactor.core.publisher.Flux.blockLast(Flux.java:2816)
	at com.alibaba.cloud.ai.manus.llm.StreamingResponseHandler.processStreamingResponse(StreamingResponseHandler.java:222)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.executeWithRetry(DynamicAgent.java:187)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.think(DynamicAgent.java:130)
	at com.alibaba.cloud.ai.manus.agent.ReActAgent.step(ReActAgent.java:83)
	at com.alibaba.cloud.ai.manus.agent.BaseAgent.run(BaseAgent.java:222)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.executeStep(AbstractPlanExecutor.java:109)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.lambda$0(AbstractPlanExecutor.java:228)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Flux.blockLast(Flux.java:2817)
		... 11 common frames omitted
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2666)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:741)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipComma(ReaderBasedJsonParser.java:2429)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:924)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR._deserializeNR(UntypedObjectDeserializerNR.java:227)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserialize(UntypedObjectDeserializerNR.java:70)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4931)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3868)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3851)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:104)
	... 39 common frames omitted
2025-09-19 09:20:23:209 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: in_progress
2025-09-19 09:20:23:209 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 23/40
2025-09-19 09:20:23:209 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:20:23:209 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758244822772
- Available files: None

2025-09-19 09:20:23:209 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:20:23:210 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
No operation performed yet

2025-09-19 09:20:23:210 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:20:23:210 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758244822772
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:20:23:210 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:20:23:220 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 134) -Exception occurred
java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:107)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:92)
	at org.springframework.ai.openai.api.OpenAiApi$FunctionTool$Function.<init>(OpenAiApi.java:888)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$getFunctionTools$21(OpenAiChatModel.java:674)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.ai.openai.OpenAiChatModel.getFunctionTools(OpenAiChatModel.java:676)
	at org.springframework.ai.openai.OpenAiChatModel.createRequest(OpenAiChatModel.java:615)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalStream$13(OpenAiChatModel.java:272)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxPublishOn.subscribeOrReturn(FluxPublishOn.java:92)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:55)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891)
	at reactor.core.publisher.Flux.blockLast(Flux.java:2816)
	at com.alibaba.cloud.ai.manus.llm.StreamingResponseHandler.processStreamingResponse(StreamingResponseHandler.java:222)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.executeWithRetry(DynamicAgent.java:187)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.think(DynamicAgent.java:130)
	at com.alibaba.cloud.ai.manus.agent.ReActAgent.step(ReActAgent.java:83)
	at com.alibaba.cloud.ai.manus.agent.BaseAgent.run(BaseAgent.java:222)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.executeStep(AbstractPlanExecutor.java:109)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.lambda$0(AbstractPlanExecutor.java:228)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Flux.blockLast(Flux.java:2817)
		... 11 common frames omitted
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2666)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:741)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipComma(ReaderBasedJsonParser.java:2429)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:924)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR._deserializeNR(UntypedObjectDeserializerNR.java:227)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserialize(UntypedObjectDeserializerNR.java:70)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4931)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3868)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3851)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:104)
	... 39 common frames omitted
2025-09-19 09:20:23:222 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: in_progress
2025-09-19 09:20:23:222 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 24/40
2025-09-19 09:20:23:222 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:20:23:222 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758244822772
- Available files: None

2025-09-19 09:20:23:222 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:20:23:222 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
No operation performed yet

2025-09-19 09:20:23:222 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:20:23:222 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758244822772
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:20:23:222 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:20:23:233 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 134) -Exception occurred
java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:107)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:92)
	at org.springframework.ai.openai.api.OpenAiApi$FunctionTool$Function.<init>(OpenAiApi.java:888)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$getFunctionTools$21(OpenAiChatModel.java:674)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.ai.openai.OpenAiChatModel.getFunctionTools(OpenAiChatModel.java:676)
	at org.springframework.ai.openai.OpenAiChatModel.createRequest(OpenAiChatModel.java:615)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalStream$13(OpenAiChatModel.java:272)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxPublishOn.subscribeOrReturn(FluxPublishOn.java:92)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:55)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891)
	at reactor.core.publisher.Flux.blockLast(Flux.java:2816)
	at com.alibaba.cloud.ai.manus.llm.StreamingResponseHandler.processStreamingResponse(StreamingResponseHandler.java:222)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.executeWithRetry(DynamicAgent.java:187)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.think(DynamicAgent.java:130)
	at com.alibaba.cloud.ai.manus.agent.ReActAgent.step(ReActAgent.java:83)
	at com.alibaba.cloud.ai.manus.agent.BaseAgent.run(BaseAgent.java:222)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.executeStep(AbstractPlanExecutor.java:109)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.lambda$0(AbstractPlanExecutor.java:228)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Flux.blockLast(Flux.java:2817)
		... 11 common frames omitted
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2666)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:741)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipComma(ReaderBasedJsonParser.java:2429)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:924)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR._deserializeNR(UntypedObjectDeserializerNR.java:227)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserialize(UntypedObjectDeserializerNR.java:70)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4931)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3868)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3851)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:104)
	... 39 common frames omitted
2025-09-19 09:20:23:234 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: in_progress
2025-09-19 09:20:23:234 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 25/40
2025-09-19 09:20:23:234 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:20:23:234 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758244822772
- Available files: None

2025-09-19 09:20:23:234 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:20:23:234 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
No operation performed yet

2025-09-19 09:20:23:234 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:20:23:234 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758244822772
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:20:23:234 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:20:23:246 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 134) -Exception occurred
java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:107)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:92)
	at org.springframework.ai.openai.api.OpenAiApi$FunctionTool$Function.<init>(OpenAiApi.java:888)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$getFunctionTools$21(OpenAiChatModel.java:674)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.ai.openai.OpenAiChatModel.getFunctionTools(OpenAiChatModel.java:676)
	at org.springframework.ai.openai.OpenAiChatModel.createRequest(OpenAiChatModel.java:615)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalStream$13(OpenAiChatModel.java:272)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxPublishOn.subscribeOrReturn(FluxPublishOn.java:92)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:55)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891)
	at reactor.core.publisher.Flux.blockLast(Flux.java:2816)
	at com.alibaba.cloud.ai.manus.llm.StreamingResponseHandler.processStreamingResponse(StreamingResponseHandler.java:222)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.executeWithRetry(DynamicAgent.java:187)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.think(DynamicAgent.java:130)
	at com.alibaba.cloud.ai.manus.agent.ReActAgent.step(ReActAgent.java:83)
	at com.alibaba.cloud.ai.manus.agent.BaseAgent.run(BaseAgent.java:222)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.executeStep(AbstractPlanExecutor.java:109)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.lambda$0(AbstractPlanExecutor.java:228)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Flux.blockLast(Flux.java:2817)
		... 11 common frames omitted
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2666)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:741)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipComma(ReaderBasedJsonParser.java:2429)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:924)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR._deserializeNR(UntypedObjectDeserializerNR.java:227)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserialize(UntypedObjectDeserializerNR.java:70)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4931)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3868)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3851)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:104)
	... 39 common frames omitted
2025-09-19 09:20:23:247 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: in_progress
2025-09-19 09:20:23:248 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 26/40
2025-09-19 09:20:23:248 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:20:23:248 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758244822772
- Available files: None

2025-09-19 09:20:23:248 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:20:23:248 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
No operation performed yet

2025-09-19 09:20:23:248 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:20:23:248 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758244822772
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:20:23:249 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:20:23:266 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 134) -Exception occurred
java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:107)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:92)
	at org.springframework.ai.openai.api.OpenAiApi$FunctionTool$Function.<init>(OpenAiApi.java:888)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$getFunctionTools$21(OpenAiChatModel.java:674)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.ai.openai.OpenAiChatModel.getFunctionTools(OpenAiChatModel.java:676)
	at org.springframework.ai.openai.OpenAiChatModel.createRequest(OpenAiChatModel.java:615)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalStream$13(OpenAiChatModel.java:272)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxPublishOn.subscribeOrReturn(FluxPublishOn.java:92)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:55)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891)
	at reactor.core.publisher.Flux.blockLast(Flux.java:2816)
	at com.alibaba.cloud.ai.manus.llm.StreamingResponseHandler.processStreamingResponse(StreamingResponseHandler.java:222)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.executeWithRetry(DynamicAgent.java:187)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.think(DynamicAgent.java:130)
	at com.alibaba.cloud.ai.manus.agent.ReActAgent.step(ReActAgent.java:83)
	at com.alibaba.cloud.ai.manus.agent.BaseAgent.run(BaseAgent.java:222)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.executeStep(AbstractPlanExecutor.java:109)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.lambda$0(AbstractPlanExecutor.java:228)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Flux.blockLast(Flux.java:2817)
		... 11 common frames omitted
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2666)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:741)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipComma(ReaderBasedJsonParser.java:2429)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:924)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR._deserializeNR(UntypedObjectDeserializerNR.java:227)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserialize(UntypedObjectDeserializerNR.java:70)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4931)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3868)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3851)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:104)
	... 39 common frames omitted
2025-09-19 09:20:23:266 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: in_progress
2025-09-19 09:20:23:266 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 27/40
2025-09-19 09:20:23:266 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:20:23:266 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758244822772
- Available files: None

2025-09-19 09:20:23:267 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:20:23:267 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
No operation performed yet

2025-09-19 09:20:23:267 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:20:23:267 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758244822772
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:20:23:267 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:20:23:286 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 134) -Exception occurred
java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:107)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:92)
	at org.springframework.ai.openai.api.OpenAiApi$FunctionTool$Function.<init>(OpenAiApi.java:888)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$getFunctionTools$21(OpenAiChatModel.java:674)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.ai.openai.OpenAiChatModel.getFunctionTools(OpenAiChatModel.java:676)
	at org.springframework.ai.openai.OpenAiChatModel.createRequest(OpenAiChatModel.java:615)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalStream$13(OpenAiChatModel.java:272)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxPublishOn.subscribeOrReturn(FluxPublishOn.java:92)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:55)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891)
	at reactor.core.publisher.Flux.blockLast(Flux.java:2816)
	at com.alibaba.cloud.ai.manus.llm.StreamingResponseHandler.processStreamingResponse(StreamingResponseHandler.java:222)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.executeWithRetry(DynamicAgent.java:187)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.think(DynamicAgent.java:130)
	at com.alibaba.cloud.ai.manus.agent.ReActAgent.step(ReActAgent.java:83)
	at com.alibaba.cloud.ai.manus.agent.BaseAgent.run(BaseAgent.java:222)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.executeStep(AbstractPlanExecutor.java:109)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.lambda$0(AbstractPlanExecutor.java:228)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Flux.blockLast(Flux.java:2817)
		... 11 common frames omitted
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2666)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:741)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipComma(ReaderBasedJsonParser.java:2429)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:924)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR._deserializeNR(UntypedObjectDeserializerNR.java:227)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserialize(UntypedObjectDeserializerNR.java:70)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4931)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3868)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3851)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:104)
	... 39 common frames omitted
2025-09-19 09:20:23:287 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: in_progress
2025-09-19 09:20:23:287 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 28/40
2025-09-19 09:20:23:287 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:20:23:287 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758244822772
- Available files: None

2025-09-19 09:20:23:287 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:20:23:287 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
No operation performed yet

2025-09-19 09:20:23:287 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:20:23:287 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758244822772
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:20:23:287 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:20:23:299 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 134) -Exception occurred
java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:107)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:92)
	at org.springframework.ai.openai.api.OpenAiApi$FunctionTool$Function.<init>(OpenAiApi.java:888)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$getFunctionTools$21(OpenAiChatModel.java:674)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.ai.openai.OpenAiChatModel.getFunctionTools(OpenAiChatModel.java:676)
	at org.springframework.ai.openai.OpenAiChatModel.createRequest(OpenAiChatModel.java:615)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalStream$13(OpenAiChatModel.java:272)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxPublishOn.subscribeOrReturn(FluxPublishOn.java:92)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:55)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891)
	at reactor.core.publisher.Flux.blockLast(Flux.java:2816)
	at com.alibaba.cloud.ai.manus.llm.StreamingResponseHandler.processStreamingResponse(StreamingResponseHandler.java:222)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.executeWithRetry(DynamicAgent.java:187)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.think(DynamicAgent.java:130)
	at com.alibaba.cloud.ai.manus.agent.ReActAgent.step(ReActAgent.java:83)
	at com.alibaba.cloud.ai.manus.agent.BaseAgent.run(BaseAgent.java:222)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.executeStep(AbstractPlanExecutor.java:109)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.lambda$0(AbstractPlanExecutor.java:228)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Flux.blockLast(Flux.java:2817)
		... 11 common frames omitted
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2666)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:741)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipComma(ReaderBasedJsonParser.java:2429)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:924)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR._deserializeNR(UntypedObjectDeserializerNR.java:227)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserialize(UntypedObjectDeserializerNR.java:70)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4931)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3868)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3851)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:104)
	... 39 common frames omitted
2025-09-19 09:20:23:300 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: in_progress
2025-09-19 09:20:23:300 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 29/40
2025-09-19 09:20:23:300 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:20:23:300 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758244822772
- Available files: None

2025-09-19 09:20:23:300 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:20:23:300 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
No operation performed yet

2025-09-19 09:20:23:300 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:20:23:300 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758244822772
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:20:23:300 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:20:23:310 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 134) -Exception occurred
java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:107)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:92)
	at org.springframework.ai.openai.api.OpenAiApi$FunctionTool$Function.<init>(OpenAiApi.java:888)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$getFunctionTools$21(OpenAiChatModel.java:674)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.ai.openai.OpenAiChatModel.getFunctionTools(OpenAiChatModel.java:676)
	at org.springframework.ai.openai.OpenAiChatModel.createRequest(OpenAiChatModel.java:615)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalStream$13(OpenAiChatModel.java:272)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxPublishOn.subscribeOrReturn(FluxPublishOn.java:92)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:55)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891)
	at reactor.core.publisher.Flux.blockLast(Flux.java:2816)
	at com.alibaba.cloud.ai.manus.llm.StreamingResponseHandler.processStreamingResponse(StreamingResponseHandler.java:222)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.executeWithRetry(DynamicAgent.java:187)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.think(DynamicAgent.java:130)
	at com.alibaba.cloud.ai.manus.agent.ReActAgent.step(ReActAgent.java:83)
	at com.alibaba.cloud.ai.manus.agent.BaseAgent.run(BaseAgent.java:222)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.executeStep(AbstractPlanExecutor.java:109)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.lambda$0(AbstractPlanExecutor.java:228)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Flux.blockLast(Flux.java:2817)
		... 11 common frames omitted
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2666)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:741)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipComma(ReaderBasedJsonParser.java:2429)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:924)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR._deserializeNR(UntypedObjectDeserializerNR.java:227)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserialize(UntypedObjectDeserializerNR.java:70)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4931)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3868)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3851)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:104)
	... 39 common frames omitted
2025-09-19 09:20:23:310 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: in_progress
2025-09-19 09:20:23:310 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 30/40
2025-09-19 09:20:23:310 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:20:23:310 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758244822772
- Available files: None

2025-09-19 09:20:23:310 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:20:23:310 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
No operation performed yet

2025-09-19 09:20:23:310 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:20:23:310 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758244822772
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:20:23:310 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:20:23:322 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 134) -Exception occurred
java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:107)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:92)
	at org.springframework.ai.openai.api.OpenAiApi$FunctionTool$Function.<init>(OpenAiApi.java:888)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$getFunctionTools$21(OpenAiChatModel.java:674)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.ai.openai.OpenAiChatModel.getFunctionTools(OpenAiChatModel.java:676)
	at org.springframework.ai.openai.OpenAiChatModel.createRequest(OpenAiChatModel.java:615)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalStream$13(OpenAiChatModel.java:272)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxPublishOn.subscribeOrReturn(FluxPublishOn.java:92)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:55)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891)
	at reactor.core.publisher.Flux.blockLast(Flux.java:2816)
	at com.alibaba.cloud.ai.manus.llm.StreamingResponseHandler.processStreamingResponse(StreamingResponseHandler.java:222)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.executeWithRetry(DynamicAgent.java:187)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.think(DynamicAgent.java:130)
	at com.alibaba.cloud.ai.manus.agent.ReActAgent.step(ReActAgent.java:83)
	at com.alibaba.cloud.ai.manus.agent.BaseAgent.run(BaseAgent.java:222)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.executeStep(AbstractPlanExecutor.java:109)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.lambda$0(AbstractPlanExecutor.java:228)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Flux.blockLast(Flux.java:2817)
		... 11 common frames omitted
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2666)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:741)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipComma(ReaderBasedJsonParser.java:2429)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:924)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR._deserializeNR(UntypedObjectDeserializerNR.java:227)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserialize(UntypedObjectDeserializerNR.java:70)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4931)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3868)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3851)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:104)
	... 39 common frames omitted
2025-09-19 09:20:23:322 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: in_progress
2025-09-19 09:20:23:322 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 31/40
2025-09-19 09:20:23:322 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:20:23:322 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758244822772
- Available files: None

2025-09-19 09:20:23:322 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:20:23:323 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
No operation performed yet

2025-09-19 09:20:23:323 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:20:23:323 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758244822772
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:20:23:323 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:20:23:332 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 134) -Exception occurred
java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:107)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:92)
	at org.springframework.ai.openai.api.OpenAiApi$FunctionTool$Function.<init>(OpenAiApi.java:888)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$getFunctionTools$21(OpenAiChatModel.java:674)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.ai.openai.OpenAiChatModel.getFunctionTools(OpenAiChatModel.java:676)
	at org.springframework.ai.openai.OpenAiChatModel.createRequest(OpenAiChatModel.java:615)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalStream$13(OpenAiChatModel.java:272)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxPublishOn.subscribeOrReturn(FluxPublishOn.java:92)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:55)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891)
	at reactor.core.publisher.Flux.blockLast(Flux.java:2816)
	at com.alibaba.cloud.ai.manus.llm.StreamingResponseHandler.processStreamingResponse(StreamingResponseHandler.java:222)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.executeWithRetry(DynamicAgent.java:187)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.think(DynamicAgent.java:130)
	at com.alibaba.cloud.ai.manus.agent.ReActAgent.step(ReActAgent.java:83)
	at com.alibaba.cloud.ai.manus.agent.BaseAgent.run(BaseAgent.java:222)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.executeStep(AbstractPlanExecutor.java:109)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.lambda$0(AbstractPlanExecutor.java:228)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Flux.blockLast(Flux.java:2817)
		... 11 common frames omitted
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2666)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:741)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipComma(ReaderBasedJsonParser.java:2429)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:924)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR._deserializeNR(UntypedObjectDeserializerNR.java:227)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserialize(UntypedObjectDeserializerNR.java:70)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4931)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3868)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3851)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:104)
	... 39 common frames omitted
2025-09-19 09:20:23:332 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: in_progress
2025-09-19 09:20:23:332 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 32/40
2025-09-19 09:20:23:332 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:20:23:332 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758244822772
- Available files: None

2025-09-19 09:20:23:332 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:20:23:332 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
No operation performed yet

2025-09-19 09:20:23:332 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:20:23:332 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758244822772
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:20:23:332 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:20:23:341 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 134) -Exception occurred
java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:107)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:92)
	at org.springframework.ai.openai.api.OpenAiApi$FunctionTool$Function.<init>(OpenAiApi.java:888)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$getFunctionTools$21(OpenAiChatModel.java:674)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.ai.openai.OpenAiChatModel.getFunctionTools(OpenAiChatModel.java:676)
	at org.springframework.ai.openai.OpenAiChatModel.createRequest(OpenAiChatModel.java:615)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalStream$13(OpenAiChatModel.java:272)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxPublishOn.subscribeOrReturn(FluxPublishOn.java:92)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:55)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891)
	at reactor.core.publisher.Flux.blockLast(Flux.java:2816)
	at com.alibaba.cloud.ai.manus.llm.StreamingResponseHandler.processStreamingResponse(StreamingResponseHandler.java:222)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.executeWithRetry(DynamicAgent.java:187)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.think(DynamicAgent.java:130)
	at com.alibaba.cloud.ai.manus.agent.ReActAgent.step(ReActAgent.java:83)
	at com.alibaba.cloud.ai.manus.agent.BaseAgent.run(BaseAgent.java:222)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.executeStep(AbstractPlanExecutor.java:109)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.lambda$0(AbstractPlanExecutor.java:228)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Flux.blockLast(Flux.java:2817)
		... 11 common frames omitted
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2666)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:741)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipComma(ReaderBasedJsonParser.java:2429)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:924)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR._deserializeNR(UntypedObjectDeserializerNR.java:227)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserialize(UntypedObjectDeserializerNR.java:70)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4931)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3868)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3851)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:104)
	... 39 common frames omitted
2025-09-19 09:20:23:342 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: in_progress
2025-09-19 09:20:23:342 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 33/40
2025-09-19 09:20:23:342 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:20:23:342 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758244822772
- Available files: None

2025-09-19 09:20:23:342 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:20:23:342 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
No operation performed yet

2025-09-19 09:20:23:342 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:20:23:342 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758244822772
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:20:23:342 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:20:23:350 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 134) -Exception occurred
java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:107)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:92)
	at org.springframework.ai.openai.api.OpenAiApi$FunctionTool$Function.<init>(OpenAiApi.java:888)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$getFunctionTools$21(OpenAiChatModel.java:674)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.ai.openai.OpenAiChatModel.getFunctionTools(OpenAiChatModel.java:676)
	at org.springframework.ai.openai.OpenAiChatModel.createRequest(OpenAiChatModel.java:615)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalStream$13(OpenAiChatModel.java:272)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxPublishOn.subscribeOrReturn(FluxPublishOn.java:92)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:55)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891)
	at reactor.core.publisher.Flux.blockLast(Flux.java:2816)
	at com.alibaba.cloud.ai.manus.llm.StreamingResponseHandler.processStreamingResponse(StreamingResponseHandler.java:222)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.executeWithRetry(DynamicAgent.java:187)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.think(DynamicAgent.java:130)
	at com.alibaba.cloud.ai.manus.agent.ReActAgent.step(ReActAgent.java:83)
	at com.alibaba.cloud.ai.manus.agent.BaseAgent.run(BaseAgent.java:222)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.executeStep(AbstractPlanExecutor.java:109)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.lambda$0(AbstractPlanExecutor.java:228)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Flux.blockLast(Flux.java:2817)
		... 11 common frames omitted
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2666)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:741)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipComma(ReaderBasedJsonParser.java:2429)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:924)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR._deserializeNR(UntypedObjectDeserializerNR.java:227)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserialize(UntypedObjectDeserializerNR.java:70)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4931)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3868)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3851)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:104)
	... 39 common frames omitted
2025-09-19 09:20:23:350 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: in_progress
2025-09-19 09:20:23:350 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 34/40
2025-09-19 09:20:23:350 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:20:23:351 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758244822772
- Available files: None

2025-09-19 09:20:23:351 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:20:23:351 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
No operation performed yet

2025-09-19 09:20:23:351 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:20:23:351 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758244822772
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:20:23:351 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:20:23:365 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 134) -Exception occurred
java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:107)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:92)
	at org.springframework.ai.openai.api.OpenAiApi$FunctionTool$Function.<init>(OpenAiApi.java:888)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$getFunctionTools$21(OpenAiChatModel.java:674)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.ai.openai.OpenAiChatModel.getFunctionTools(OpenAiChatModel.java:676)
	at org.springframework.ai.openai.OpenAiChatModel.createRequest(OpenAiChatModel.java:615)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalStream$13(OpenAiChatModel.java:272)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxPublishOn.subscribeOrReturn(FluxPublishOn.java:92)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:55)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891)
	at reactor.core.publisher.Flux.blockLast(Flux.java:2816)
	at com.alibaba.cloud.ai.manus.llm.StreamingResponseHandler.processStreamingResponse(StreamingResponseHandler.java:222)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.executeWithRetry(DynamicAgent.java:187)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.think(DynamicAgent.java:130)
	at com.alibaba.cloud.ai.manus.agent.ReActAgent.step(ReActAgent.java:83)
	at com.alibaba.cloud.ai.manus.agent.BaseAgent.run(BaseAgent.java:222)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.executeStep(AbstractPlanExecutor.java:109)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.lambda$0(AbstractPlanExecutor.java:228)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Flux.blockLast(Flux.java:2817)
		... 11 common frames omitted
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2666)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:741)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipComma(ReaderBasedJsonParser.java:2429)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:924)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR._deserializeNR(UntypedObjectDeserializerNR.java:227)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserialize(UntypedObjectDeserializerNR.java:70)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4931)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3868)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3851)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:104)
	... 39 common frames omitted
2025-09-19 09:20:23:365 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: in_progress
2025-09-19 09:20:23:365 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 35/40
2025-09-19 09:20:23:365 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:20:23:366 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758244822772
- Available files: None

2025-09-19 09:20:23:366 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:20:23:366 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
No operation performed yet

2025-09-19 09:20:23:366 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:20:23:366 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758244822772
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:20:23:366 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:20:23:374 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 134) -Exception occurred
java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:107)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:92)
	at org.springframework.ai.openai.api.OpenAiApi$FunctionTool$Function.<init>(OpenAiApi.java:888)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$getFunctionTools$21(OpenAiChatModel.java:674)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.ai.openai.OpenAiChatModel.getFunctionTools(OpenAiChatModel.java:676)
	at org.springframework.ai.openai.OpenAiChatModel.createRequest(OpenAiChatModel.java:615)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalStream$13(OpenAiChatModel.java:272)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxPublishOn.subscribeOrReturn(FluxPublishOn.java:92)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:55)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891)
	at reactor.core.publisher.Flux.blockLast(Flux.java:2816)
	at com.alibaba.cloud.ai.manus.llm.StreamingResponseHandler.processStreamingResponse(StreamingResponseHandler.java:222)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.executeWithRetry(DynamicAgent.java:187)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.think(DynamicAgent.java:130)
	at com.alibaba.cloud.ai.manus.agent.ReActAgent.step(ReActAgent.java:83)
	at com.alibaba.cloud.ai.manus.agent.BaseAgent.run(BaseAgent.java:222)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.executeStep(AbstractPlanExecutor.java:109)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.lambda$0(AbstractPlanExecutor.java:228)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Flux.blockLast(Flux.java:2817)
		... 11 common frames omitted
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2666)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:741)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipComma(ReaderBasedJsonParser.java:2429)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:924)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR._deserializeNR(UntypedObjectDeserializerNR.java:227)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserialize(UntypedObjectDeserializerNR.java:70)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4931)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3868)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3851)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:104)
	... 39 common frames omitted
2025-09-19 09:20:23:376 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: in_progress
2025-09-19 09:20:23:376 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 36/40
2025-09-19 09:20:23:376 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:20:23:376 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758244822772
- Available files: None

2025-09-19 09:20:23:376 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:20:23:376 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
No operation performed yet

2025-09-19 09:20:23:376 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:20:23:376 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758244822772
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:20:23:377 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:20:23:384 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 134) -Exception occurred
java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:107)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:92)
	at org.springframework.ai.openai.api.OpenAiApi$FunctionTool$Function.<init>(OpenAiApi.java:888)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$getFunctionTools$21(OpenAiChatModel.java:674)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.ai.openai.OpenAiChatModel.getFunctionTools(OpenAiChatModel.java:676)
	at org.springframework.ai.openai.OpenAiChatModel.createRequest(OpenAiChatModel.java:615)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalStream$13(OpenAiChatModel.java:272)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxPublishOn.subscribeOrReturn(FluxPublishOn.java:92)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:55)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891)
	at reactor.core.publisher.Flux.blockLast(Flux.java:2816)
	at com.alibaba.cloud.ai.manus.llm.StreamingResponseHandler.processStreamingResponse(StreamingResponseHandler.java:222)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.executeWithRetry(DynamicAgent.java:187)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.think(DynamicAgent.java:130)
	at com.alibaba.cloud.ai.manus.agent.ReActAgent.step(ReActAgent.java:83)
	at com.alibaba.cloud.ai.manus.agent.BaseAgent.run(BaseAgent.java:222)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.executeStep(AbstractPlanExecutor.java:109)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.lambda$0(AbstractPlanExecutor.java:228)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Flux.blockLast(Flux.java:2817)
		... 11 common frames omitted
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2666)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:741)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipComma(ReaderBasedJsonParser.java:2429)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:924)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR._deserializeNR(UntypedObjectDeserializerNR.java:227)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserialize(UntypedObjectDeserializerNR.java:70)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4931)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3868)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3851)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:104)
	... 39 common frames omitted
2025-09-19 09:20:23:384 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: in_progress
2025-09-19 09:20:23:384 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 37/40
2025-09-19 09:20:23:384 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:20:23:384 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758244822772
- Available files: None

2025-09-19 09:20:23:384 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:20:23:384 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
No operation performed yet

2025-09-19 09:20:23:384 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:20:23:384 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758244822772
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:20:23:384 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:20:23:393 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 134) -Exception occurred
java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:107)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:92)
	at org.springframework.ai.openai.api.OpenAiApi$FunctionTool$Function.<init>(OpenAiApi.java:888)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$getFunctionTools$21(OpenAiChatModel.java:674)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.ai.openai.OpenAiChatModel.getFunctionTools(OpenAiChatModel.java:676)
	at org.springframework.ai.openai.OpenAiChatModel.createRequest(OpenAiChatModel.java:615)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalStream$13(OpenAiChatModel.java:272)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxPublishOn.subscribeOrReturn(FluxPublishOn.java:92)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:55)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891)
	at reactor.core.publisher.Flux.blockLast(Flux.java:2816)
	at com.alibaba.cloud.ai.manus.llm.StreamingResponseHandler.processStreamingResponse(StreamingResponseHandler.java:222)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.executeWithRetry(DynamicAgent.java:187)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.think(DynamicAgent.java:130)
	at com.alibaba.cloud.ai.manus.agent.ReActAgent.step(ReActAgent.java:83)
	at com.alibaba.cloud.ai.manus.agent.BaseAgent.run(BaseAgent.java:222)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.executeStep(AbstractPlanExecutor.java:109)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.lambda$0(AbstractPlanExecutor.java:228)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Flux.blockLast(Flux.java:2817)
		... 11 common frames omitted
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2666)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:741)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipComma(ReaderBasedJsonParser.java:2429)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:924)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR._deserializeNR(UntypedObjectDeserializerNR.java:227)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserialize(UntypedObjectDeserializerNR.java:70)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4931)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3868)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3851)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:104)
	... 39 common frames omitted
2025-09-19 09:20:23:393 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: in_progress
2025-09-19 09:20:23:393 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 38/40
2025-09-19 09:20:23:393 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:20:23:393 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758244822772
- Available files: None

2025-09-19 09:20:23:393 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:20:23:393 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
No operation performed yet

2025-09-19 09:20:23:393 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:20:23:393 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758244822772
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:20:23:393 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:20:23:400 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 134) -Exception occurred
java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:107)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:92)
	at org.springframework.ai.openai.api.OpenAiApi$FunctionTool$Function.<init>(OpenAiApi.java:888)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$getFunctionTools$21(OpenAiChatModel.java:674)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.ai.openai.OpenAiChatModel.getFunctionTools(OpenAiChatModel.java:676)
	at org.springframework.ai.openai.OpenAiChatModel.createRequest(OpenAiChatModel.java:615)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalStream$13(OpenAiChatModel.java:272)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxPublishOn.subscribeOrReturn(FluxPublishOn.java:92)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:55)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891)
	at reactor.core.publisher.Flux.blockLast(Flux.java:2816)
	at com.alibaba.cloud.ai.manus.llm.StreamingResponseHandler.processStreamingResponse(StreamingResponseHandler.java:222)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.executeWithRetry(DynamicAgent.java:187)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.think(DynamicAgent.java:130)
	at com.alibaba.cloud.ai.manus.agent.ReActAgent.step(ReActAgent.java:83)
	at com.alibaba.cloud.ai.manus.agent.BaseAgent.run(BaseAgent.java:222)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.executeStep(AbstractPlanExecutor.java:109)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.lambda$0(AbstractPlanExecutor.java:228)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Flux.blockLast(Flux.java:2817)
		... 11 common frames omitted
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2666)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:741)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipComma(ReaderBasedJsonParser.java:2429)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:924)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR._deserializeNR(UntypedObjectDeserializerNR.java:227)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserialize(UntypedObjectDeserializerNR.java:70)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4931)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3868)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3851)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:104)
	... 39 common frames omitted
2025-09-19 09:20:23:400 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: in_progress
2025-09-19 09:20:23:400 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 39/40
2025-09-19 09:20:23:400 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:20:23:400 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758244822772
- Available files: None

2025-09-19 09:20:23:400 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:20:23:400 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
No operation performed yet

2025-09-19 09:20:23:401 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:20:23:401 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758244822772
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:20:23:401 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:20:23:409 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 134) -Exception occurred
java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:107)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:92)
	at org.springframework.ai.openai.api.OpenAiApi$FunctionTool$Function.<init>(OpenAiApi.java:888)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$getFunctionTools$21(OpenAiChatModel.java:674)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.ai.openai.OpenAiChatModel.getFunctionTools(OpenAiChatModel.java:676)
	at org.springframework.ai.openai.OpenAiChatModel.createRequest(OpenAiChatModel.java:615)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalStream$13(OpenAiChatModel.java:272)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxPublishOn.subscribeOrReturn(FluxPublishOn.java:92)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:55)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891)
	at reactor.core.publisher.Flux.blockLast(Flux.java:2816)
	at com.alibaba.cloud.ai.manus.llm.StreamingResponseHandler.processStreamingResponse(StreamingResponseHandler.java:222)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.executeWithRetry(DynamicAgent.java:187)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.think(DynamicAgent.java:130)
	at com.alibaba.cloud.ai.manus.agent.ReActAgent.step(ReActAgent.java:83)
	at com.alibaba.cloud.ai.manus.agent.BaseAgent.run(BaseAgent.java:222)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.executeStep(AbstractPlanExecutor.java:109)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.lambda$0(AbstractPlanExecutor.java:228)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Flux.blockLast(Flux.java:2817)
		... 11 common frames omitted
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2666)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:741)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipComma(ReaderBasedJsonParser.java:2429)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:924)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR._deserializeNR(UntypedObjectDeserializerNR.java:227)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserialize(UntypedObjectDeserializerNR.java:70)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4931)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3868)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3851)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:104)
	... 39 common frames omitted
2025-09-19 09:20:23:409 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: in_progress
2025-09-19 09:20:23:409 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 40/40
2025-09-19 09:20:23:409 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:20:23:409 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758244822772
- Available files: None

2025-09-19 09:20:23:409 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:20:23:409 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
No operation performed yet

2025-09-19 09:20:23:409 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:20:23:409 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758244822772
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:20:23:409 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:20:23:417 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 134) -Exception occurred
java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:107)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:92)
	at org.springframework.ai.openai.api.OpenAiApi$FunctionTool$Function.<init>(OpenAiApi.java:888)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$getFunctionTools$21(OpenAiChatModel.java:674)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.ai.openai.OpenAiChatModel.getFunctionTools(OpenAiChatModel.java:676)
	at org.springframework.ai.openai.OpenAiChatModel.createRequest(OpenAiChatModel.java:615)
	at org.springframework.ai.openai.OpenAiChatModel.lambda$internalStream$13(OpenAiChatModel.java:272)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxPublishOn.subscribeOrReturn(FluxPublishOn.java:92)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:55)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:68)
	at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891)
	at reactor.core.publisher.Flux.blockLast(Flux.java:2816)
	at com.alibaba.cloud.ai.manus.llm.StreamingResponseHandler.processStreamingResponse(StreamingResponseHandler.java:222)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.executeWithRetry(DynamicAgent.java:187)
	at com.alibaba.cloud.ai.manus.agent.DynamicAgent.think(DynamicAgent.java:130)
	at com.alibaba.cloud.ai.manus.agent.ReActAgent.step(ReActAgent.java:83)
	at com.alibaba.cloud.ai.manus.agent.BaseAgent.run(BaseAgent.java:222)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.executeStep(AbstractPlanExecutor.java:109)
	at com.alibaba.cloud.ai.manus.runtime.executor.AbstractPlanExecutor.lambda$0(AbstractPlanExecutor.java:228)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Flux.blockLast(Flux.java:2817)
		... 11 common frames omitted
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('u' (code 117)): was expecting comma to separate Object entries
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 12, column: 409]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2666)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:741)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipComma(ReaderBasedJsonParser.java:2429)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:924)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR._deserializeNR(UntypedObjectDeserializerNR.java:227)
	at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializerNR.deserialize(UntypedObjectDeserializerNR.java:70)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4931)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3868)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3851)
	at org.springframework.ai.model.ModelOptionsUtils.jsonToMap(ModelOptionsUtils.java:104)
	... 39 common frames omitted
2025-09-19 09:20:23:417 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: in_progress
2025-09-19 09:20:23:421 [level-0-executor-0-thread-2] INFO  c.a.c.a.m.r.service.NewRepoPlanExecutionRecorder(NewRepoPlanExecutionRecorder.java 579) -Successfully recorded complete agent execution for stepId: step-c3f09b99-db8a-4f8f-97ca-4043ff9f0c1e, final status: FINISHED
2025-09-19 09:20:23:431 [level-0-executor-0-thread-2] INFO  c.a.c.a.m.r.service.NewRepoPlanExecutionRecorder(NewRepoPlanExecutionRecorder.java 377) -Successfully recorded step end for stepId: step-c3f09b99-db8a-4f8f-97ca-4043ff9f0c1e, planId: plan-1758244822772, status: FINISHED
2025-09-19 09:20:23:434 [level-0-executor-0-thread-2] INFO  c.a.c.a.m.r.service.NewRepoPlanExecutionRecorder(NewRepoPlanExecutionRecorder.java 377) -Successfully recorded step end for stepId: step-c3f09b99-db8a-4f8f-97ca-4043ff9f0c1e, planId: plan-1758244822772, status: FINISHED
2025-09-19 09:20:23:434 [level-0-executor-0-thread-2] INFO  c.a.cloud.ai.manus.tool.browser.BrowserUseTool(BrowserUseTool.java 556) -Cleaning up Chrome resources for plan: plan-1758244822772
2025-09-19 09:20:23:434 [level-0-executor-0-thread-2] INFO  c.a.cloud.ai.manus.tool.mapreduce.MapOutputTool(MapOutputTool.java 388) -MapOutputTool cleanup completed for planId: plan-1758244822772
2025-09-19 09:20:23:434 [level-0-executor-0-thread-2] INFO  c.a.cloud.ai.manus.tool.database.DatabaseUseTool(DatabaseUseTool.java 188) -Cleaning up database resources for plan: plan-1758244822772
2025-09-19 09:20:23:434 [level-0-executor-0-thread-2] INFO  c.a.cloud.ai.manus.tool.database.DataSourceService(DataSourceService.java 176) -Closing all datasource connections
2025-09-19 09:20:23:434 [level-0-executor-0-thread-2] INFO  c.a.cloud.ai.manus.tool.database.DatabaseUseTool(DatabaseUseTool.java 192) -Successfully cleaned up database connections for plan: plan-1758244822772
2025-09-19 09:20:23:434 [level-0-executor-0-thread-2] INFO  c.a.c.a.m.tool.tableProcessor.TableProcessorTool(TableProcessorTool.java 467) -Cleaning up table processing resources for plan: plan-1758244822772
2025-09-19 09:20:23:434 [level-0-executor-0-thread-2] INFO  c.a.c.a.m.t.tableProcessor.TableProcessingService(TableProcessingService.java 769) -Cleaned up table processing resources for plan: plan-1758244822772
2025-09-19 09:20:23:434 [level-0-executor-0-thread-2] INFO  c.a.cloud.ai.manus.tool.mapreduce.FinalizeTool(FinalizeTool.java 315) -FinalizeTool cleanup completed for planId: plan-1758244822772
2025-09-19 09:20:23:434 [level-0-executor-0-thread-2] INFO  c.a.cloud.ai.manus.tool.innerStorage.FileMergeTool(FileMergeTool.java 263) -FileMergeTool cleanup for plan: plan-1758244822772
2025-09-19 09:20:23:434 [level-0-executor-0-thread-2] INFO  c.a.cloud.ai.manus.tool.mapreduce.DataSplitTool(DataSplitTool.java 526) -DataSplitTool cleanup completed for planId: plan-1758244822772
2025-09-19 09:20:23:434 [level-0-executor-0-thread-2] INFO  c.a.c.ai.manus.tool.mapreduce.ReduceOperationTool(ReduceOperationTool.java 311) -ReduceOperationTool cleanup completed for planId: plan-1758244822772
2025-09-19 09:20:23:434 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.tool.bash.Bash(Bash.java 166) -Cleaned up resources for plan: plan-1758244822772
2025-09-19 09:20:23:434 [level-0-executor-0-thread-2] INFO  c.a.c.ai.manus.tool.textOperator.TextFileOperator(TextFileOperator.java 649) -Cleaning up text file resources for plan: plan-1758244822772
2025-09-19 09:20:23:434 [level-0-executor-0-thread-2] INFO  c.a.c.ai.manus.tool.textOperator.TextFileService(TextFileService.java 226) -Cleaned up resources for plan: plan-1758244822772
2025-09-19 09:20:23:435 [level-0-executor-0-thread-2] INFO  com.alibaba.cloud.ai.manus.tool.cron.CronTool(CronTool.java 165) -Cleaned up resources for plan: plan-1758244822772
2025-09-19 09:20:33:498 [boundedElastic-1] INFO  c.a.cloud.ai.manus.llm.StreamingResponseHandler(StreamingResponseHandler.java 248) -ðŸ”„ Summary generation - Progress[10062ms]: 75 responses received, 682 characters, 0 tool calls. Preview: 'æ ¹æ®æ‚¨æä¾›çš„æ‰§è¡Œè¯¦æƒ…ï¼Œå½“å‰çš„ç”¨æˆ·è¯·æ±‚æ˜¯â€œç»“æž„åŒ–è¾“å‡ºâ€ï¼Œä½†å®žé™…æ‰§è¡Œè¿‡ç¨‹ä¸­æœªèƒ½æˆåŠŸèŽ·å–ç›®æ ‡æ–‡ä»¶å†…å®¹ï¼ˆ`/Users/whisper/Downloads/html.md`ï¼‰çš„è¯¦ç»†ä¿¡æ¯ï¼ŒåŽŸå› æ˜¯æ‰§è¡Œå·²è¾¾åˆ°æœ€å¤§è½®...'
2025-09-19 09:20:35:058 [boundedElastic-1] INFO  c.a.cloud.ai.manus.llm.StreamingResponseHandler(StreamingResponseHandler.java 258) -âœ… Summary generation - Completed[11622ms]: 94 responses processed, 903 characters, 0 tool calls, 0 prompt tokens, 0 completion tokens, 0 total tokens. Preview: 'æ ¹æ®æ‚¨æä¾›çš„æ‰§è¡Œè¯¦æƒ…ï¼Œå½“å‰çš„ç”¨æˆ·è¯·æ±‚æ˜¯â€œç»“æž„åŒ–è¾“å‡ºâ€ï¼Œä½†å®žé™…æ‰§è¡Œè¿‡ç¨‹ä¸­æœªèƒ½æˆåŠŸèŽ·å–ç›®æ ‡æ–‡ä»¶å†…å®¹ï¼ˆ`/Users/whisper/Downloads/html.md`ï¼‰çš„è¯¦ç»†ä¿¡æ¯ï¼ŒåŽŸå› æ˜¯æ‰§è¡Œå·²è¾¾åˆ°æœ€å¤§è½®æ¬¡é™åˆ¶ï¼ˆ40è½®ï¼‰ï¼Œä»»åŠ¡è¢«ç»ˆæ­¢ã€‚

### å½“å‰çŠ¶æ€æ€»ç»“ï¼š
- **è¯·æ±‚ç›®æ ‡**ï¼šå®žçŽ°å¯¹æŒ‡å®šæ–‡ä»¶å†…å®¹çš„ç»“æž„åŒ–è¾“å‡ºã€‚
- **æ‰§è¡Œæƒ…å†µ**ï¼šå°è¯•è¯»å–æœ¬åœ°æ–‡ä»¶ `/Users/whisper/Downloa...'
2025-09-19 09:20:35:069 [level-0-executor-0-thread-2] INFO  c.a.c.a.m.r.service.NewRepoPlanExecutionRecorder(NewRepoPlanExecutionRecorder.java 621) -Successfully recorded plan completion for currentPlanId: plan-1758244822772, completed: true, endTime: 2025-09-19T09:20:35.063485
2025-09-19 09:20:35:069 [level-0-executor-0-thread-2] INFO  c.a.cloud.ai.manus.planning.service.PlanFinalizer(PlanFinalizer.java 114) -Generated summary: æ ¹æ®æ‚¨æä¾›çš„æ‰§è¡Œè¯¦æƒ…ï¼Œå½“å‰çš„ç”¨æˆ·è¯·æ±‚æ˜¯â€œç»“æž„åŒ–è¾“å‡ºâ€ï¼Œä½†å®žé™…æ‰§è¡Œè¿‡ç¨‹ä¸­æœªèƒ½æˆåŠŸèŽ·å–ç›®æ ‡æ–‡ä»¶å†…å®¹ï¼ˆ`/Users/whisper/Downloads/html.md`ï¼‰çš„è¯¦ç»†ä¿¡æ¯ï¼ŒåŽŸå› æ˜¯æ‰§è¡Œå·²è¾¾åˆ°æœ€å¤§è½®æ¬¡é™åˆ¶ï¼ˆ40è½®ï¼‰ï¼Œä»»åŠ¡è¢«ç»ˆæ­¢ã€‚

### å½“å‰çŠ¶æ€æ€»ç»“ï¼š
- **è¯·æ±‚ç›®æ ‡**ï¼šå®žçŽ°å¯¹æŒ‡å®šæ–‡ä»¶å†…å®¹çš„ç»“æž„åŒ–è¾“å‡ºã€‚
- **æ‰§è¡Œæƒ…å†µ**ï¼šå°è¯•è¯»å–æœ¬åœ°æ–‡ä»¶ `/Users/whisper/Downloads/html.md` å¤±è´¥ï¼ŒæœªèŽ·å¾—å®žé™…å†…å®¹ã€‚
- **å¤±è´¥åŽŸå› **ï¼šæ‰§è¡Œæµç¨‹å¡åœ¨å¾ªçŽ¯æˆ–é‡è¯•ä¸­ï¼Œæœ€ç»ˆå› è¾¾åˆ°æœ€å¤§äº¤äº’è½®æ•°è€Œç»ˆæ­¢ã€‚

---

### å»ºè®®åŽç»­æ“ä½œï¼ˆå¯é€‰ï¼‰ï¼š
1. **ç¡®è®¤æ–‡ä»¶è·¯å¾„æœ‰æ•ˆæ€§**ï¼š
   - ç¡®ä¿è·¯å¾„ `/Users/whisper/Downloads/html.md` å­˜åœ¨ä¸”å¯è®¿é—®ã€‚
   - æ£€æŸ¥æ˜¯å¦æœ‰æƒé™è¯»å–è¯¥æ–‡ä»¶ã€‚

2. **æ‰‹åŠ¨æä¾›æ–‡ä»¶å†…å®¹**ï¼š
   - è‹¥æ— æ³•ç›´æŽ¥è¯»å–ï¼Œè¯·å°† `html.md` æ–‡ä»¶çš„å†…å®¹ç²˜è´´å‡ºæ¥ï¼Œæˆ‘å°†ä¸ºæ‚¨è¿›è¡Œç»“æž„åŒ–å¤„ç†ã€‚

3. **å®šä¹‰â€œç»“æž„åŒ–è¾“å‡ºâ€çš„å…·ä½“æ ¼å¼è¦æ±‚**ï¼š
   - ä¾‹å¦‚ï¼šJSONã€YAMLã€è¡¨æ ¼å½¢å¼ï¼Ÿ
   - éœ€è¦æå–å“ªäº›å­—æ®µï¼Ÿå¦‚æ ‡é¢˜ã€æ®µè½ã€é“¾æŽ¥ã€HTMLæ ‡ç­¾å±žæ€§ç­‰ï¼Ÿ

---

### ç¤ºä¾‹ç»“æž„åŒ–è¾“å‡ºï¼ˆå‡è®¾æ€§ï¼‰
è‹¥æ‚¨å¸Œæœ›ä»Ž HTML å†…å®¹ä¸­æå–ç»“æž„åŒ–æ•°æ®ï¼Œä»¥ä¸‹æ˜¯ä¸€ä¸ªç¤ºä¾‹ï¼š

```json
{
  "title": "ç¤ºä¾‹é¡µé¢",
  "headings": [
    { "level": 1, "text": "æ¬¢è¿Žæ¥åˆ°é¦–é¡µ" },
    { "level": 2, "text": "å…³äºŽæˆ‘ä»¬" }
  ],
  "paragraphs": [
    "è¿™æ˜¯ä¸€ä¸ªä»‹ç»æ€§çš„æ®µè½ã€‚",
    "ç¬¬äºŒæ®µåŒ…å«æ›´å¤šä¿¡æ¯ã€‚"
  ],
  "links": [
    {
      "href": "https://example.com",
      "text": "ç‚¹å‡»è®¿é—®ç¤ºä¾‹ç½‘ç«™"
    }
  ]
}
```

---

è¯·è¡¥å……æ–‡ä»¶å†…å®¹æˆ–è¿›ä¸€æ­¥è¯´æ˜Žéœ€æ±‚ç»†èŠ‚ï¼Œæˆ‘å°†ç«‹å³ä¸ºæ‚¨ç”Ÿæˆå‡†ç¡®çš„ç»“æž„åŒ–è¾“å‡ºã€‚
2025-09-19 09:20:35:069 [level-0-executor-0-thread-2] INFO  c.a.c.ai.manus.runtime.controller.ManusController(ManusController.java 272) -Async plan execution completed for planId: plan-1758244822772
2025-09-19 09:21:05:683 [http-nio-18080-exec-6] INFO  c.a.c.ai.manus.runtime.controller.ManusController(ManusController.java 230) -ðŸ”— [HTTP] Received query request from HTTP client: 
2025-09-19 09:21:05:687 [http-nio-18080-exec-6] INFO  c.a.c.ai.manus.runtime.controller.ManusController(ManusController.java 244) -Tool not published, using toolName as planTemplateId: planTemplate-1758202965693
2025-09-19 09:21:05:693 [http-nio-18080-exec-6] INFO  c.a.c.ai.manus.runtime.controller.ManusController(ManusController.java 546) -Replacing parameter placeholders in plan template with input parameters: [planId]
2025-09-19 09:21:05:695 [http-nio-18080-exec-6] INFO  c.a.c.ai.manus.runtime.service.PlanningCoordinator(PlanningCoordinator.java 156) -Starting direct plan execution for plan: null
2025-09-19 09:21:05:695 [http-nio-18080-exec-6] INFO  c.a.c.a.m.r.executor.factory.PlanExecutorFactory(PlanExecutorFactory.java 162) -Creating executor for plan type: dynamic_agent (planId: null)
2025-09-19 09:21:05:721 [level-0-executor-0-thread-3] INFO  c.a.c.a.m.r.service.NewRepoPlanExecutionRecorder(NewRepoPlanExecutionRecorder.java 822) -Successfully created plan relationship for currentPlanId: plan-1758244865687, parentPlanId: null, rootPlanId: plan-1758244865687
2025-09-19 09:21:05:722 [level-0-executor-0-thread-3] INFO  c.a.c.a.m.r.service.NewRepoPlanExecutionRecorder(NewRepoPlanExecutionRecorder.java 148) -Successfully saved plan execution record for ID: plan-1758244865687 with 1 steps
2025-09-19 09:21:05:728 [level-0-executor-0-thread-3] INFO  c.a.cloud.ai.manus.agent.service.AgentServiceImpl(AgentServiceImpl.java 349) -Create new BaseAgent: ConfigurableDynaAgent, planId: plan-1758244865687
2025-09-19 09:21:05:728 [level-0-executor-0-thread-3] INFO  c.a.cloud.ai.manus.agent.service.AgentServiceImpl(AgentServiceImpl.java 204) -No model entity provided for ConfigurableDynaAgent, using null model
2025-09-19 09:21:05:730 [level-0-executor-0-thread-3] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: browser_use
2025-09-19 09:21:05:730 [level-0-executor-0-thread-3] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: database_use
2025-09-19 09:21:10:759 [http-nio-18080-exec-3] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244865687
2025-09-19 09:21:15:737 [http-nio-18080-exec-5] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244865687
2025-09-19 09:21:20:729 [http-nio-18080-exec-9] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244865687
2025-09-19 09:21:25:727 [http-nio-18080-exec-7] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244865687
2025-09-19 09:21:30:726 [http-nio-18080-exec-8] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244865687
2025-09-19 09:21:35:727 [http-nio-18080-exec-10] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244865687
2025-09-19 09:21:40:742 [http-nio-18080-exec-1] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244865687
2025-09-19 09:21:45:729 [http-nio-18080-exec-4] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244865687
2025-09-19 09:21:50:724 [http-nio-18080-exec-2] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244865687
2025-09-19 09:21:55:728 [http-nio-18080-exec-6] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244865687
2025-09-19 09:22:00:727 [http-nio-18080-exec-3] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244865687
2025-09-19 09:22:05:742 [http-nio-18080-exec-5] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244865687
2025-09-19 09:22:10:728 [http-nio-18080-exec-9] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244865687
2025-09-19 09:22:15:727 [http-nio-18080-exec-7] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244865687
2025-09-19 09:22:20:808 [http-nio-18080-exec-8] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244865687
2025-09-19 09:22:25:721 [http-nio-18080-exec-10] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244865687
2025-09-19 09:22:30:723 [http-nio-18080-exec-1] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244865687
2025-09-19 09:22:35:722 [http-nio-18080-exec-4] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244865687
2025-09-19 09:22:40:719 [http-nio-18080-exec-2] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244865687
2025-09-19 09:22:45:721 [http-nio-18080-exec-6] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244865687
2025-09-19 09:22:50:721 [http-nio-18080-exec-3] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244865687
2025-09-19 09:22:55:732 [http-nio-18080-exec-5] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244865687
2025-09-19 09:23:00:721 [http-nio-18080-exec-9] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244865687
2025-09-19 09:23:05:719 [http-nio-18080-exec-7] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244865687
2025-09-19 09:23:10:717 [http-nio-18080-exec-8] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244865687
2025-09-19 09:23:15:720 [http-nio-18080-exec-10] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244865687
2025-09-19 09:23:20:715 [http-nio-18080-exec-1] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244865687
2025-09-19 09:23:25:717 [http-nio-18080-exec-4] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244865687
2025-09-19 09:23:30:715 [http-nio-18080-exec-2] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244865687
2025-09-19 09:23:35:717 [http-nio-18080-exec-6] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244865687
2025-09-19 09:23:40:719 [http-nio-18080-exec-3] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244865687
2025-09-19 09:23:45:716 [http-nio-18080-exec-5] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244865687
2025-09-19 09:23:50:723 [http-nio-18080-exec-9] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244865687
2025-09-19 09:23:55:713 [http-nio-18080-exec-7] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244865687
2025-09-19 09:24:00:720 [http-nio-18080-exec-8] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244865687
2025-09-19 09:24:05:718 [http-nio-18080-exec-10] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244865687
2025-09-19 09:24:10:715 [http-nio-18080-exec-1] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244865687
2025-09-19 09:24:15:719 [http-nio-18080-exec-4] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244865687
2025-09-19 09:24:20:722 [http-nio-18080-exec-2] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244865687
2025-09-19 09:24:25:714 [http-nio-18080-exec-6] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244865687
2025-09-19 09:24:30:717 [http-nio-18080-exec-3] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244865687
2025-09-19 09:24:35:717 [http-nio-18080-exec-5] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244865687
2025-09-19 09:24:40:718 [http-nio-18080-exec-9] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244865687
2025-09-19 09:24:45:715 [http-nio-18080-exec-7] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244865687
2025-09-19 09:24:50:715 [http-nio-18080-exec-8] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244865687
2025-09-19 09:24:55:713 [http-nio-18080-exec-10] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244865687
2025-09-19 09:25:00:717 [http-nio-18080-exec-1] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244865687
2025-09-19 09:25:05:712 [http-nio-18080-exec-4] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244865687
2025-09-19 09:25:10:717 [http-nio-18080-exec-2] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244865687
2025-09-19 09:25:15:711 [http-nio-18080-exec-6] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244865687
2025-09-19 09:25:20:720 [http-nio-18080-exec-3] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244865687
2025-09-19 09:25:25:710 [http-nio-18080-exec-5] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244865687
2025-09-19 09:25:30:709 [http-nio-18080-exec-9] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244865687
2025-09-19 09:25:35:710 [http-nio-18080-exec-7] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244865687
2025-09-19 09:25:40:712 [http-nio-18080-exec-8] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244865687
2025-09-19 09:25:45:708 [http-nio-18080-exec-10] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244865687
2025-09-19 09:25:50:714 [http-nio-18080-exec-1] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244865687
2025-09-19 09:25:55:714 [http-nio-18080-exec-4] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244865687
2025-09-19 09:26:00:719 [http-nio-18080-exec-2] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244865687
2025-09-19 09:26:05:709 [http-nio-18080-exec-6] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244865687
2025-09-19 09:26:10:714 [http-nio-18080-exec-3] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244865687
2025-09-19 09:26:15:713 [http-nio-18080-exec-5] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244865687
2025-09-19 09:26:20:707 [http-nio-18080-exec-9] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244865687
2025-09-19 09:26:25:708 [http-nio-18080-exec-7] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244865687
2025-09-19 09:26:30:709 [http-nio-18080-exec-8] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244865687
2025-09-19 09:26:35:713 [http-nio-18080-exec-10] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244865687
2025-09-19 09:26:40:708 [http-nio-18080-exec-1] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244865687
2025-09-19 09:26:45:791 [http-nio-18080-exec-4] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244865687
2025-09-19 09:26:50:710 [http-nio-18080-exec-2] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244865687
2025-09-19 09:26:55:710 [http-nio-18080-exec-6] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244865687
2025-09-19 09:27:00:706 [http-nio-18080-exec-3] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244865687
2025-09-19 09:27:05:718 [http-nio-18080-exec-5] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244865687
2025-09-19 09:27:10:702 [http-nio-18080-exec-9] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244865687
2025-09-19 09:27:15:708 [http-nio-18080-exec-7] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244865687
2025-09-19 09:27:20:705 [http-nio-18080-exec-8] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244865687
2025-09-19 09:27:25:733 [http-nio-18080-exec-10] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244865687
2025-09-19 09:27:30:703 [http-nio-18080-exec-1] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244865687
2025-09-19 09:27:36:585 [http-nio-18080-exec-4] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244865687
2025-09-19 09:27:41:583 [http-nio-18080-exec-2] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244865687
2025-09-19 09:27:46:593 [http-nio-18080-exec-6] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244865687
2025-09-19 09:27:51:587 [http-nio-18080-exec-3] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244865687
2025-09-19 09:27:56:584 [http-nio-18080-exec-5] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244865687
2025-09-19 09:28:01:582 [http-nio-18080-exec-9] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244865687
2025-09-19 09:28:06:582 [http-nio-18080-exec-7] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244865687
2025-09-19 09:28:11:602 [http-nio-18080-exec-8] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244865687
2025-09-19 09:28:16:596 [http-nio-18080-exec-10] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244865687
2025-09-19 09:28:21:588 [http-nio-18080-exec-1] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244865687
2025-09-19 09:28:26:581 [http-nio-18080-exec-4] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244865687
2025-09-19 09:28:31:580 [http-nio-18080-exec-2] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244865687
2025-09-19 09:28:59:401 [main] INFO  c.a.cloud.ai.manus.OpenManusSpringBootApplication(StartupInfoLogger.java 53) -Starting OpenManusSpringBootApplication using Java 17.0.4.1 with PID 73191 (/Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/target/classes started by whisper in /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus)
2025-09-19 09:28:59:403 [main] INFO  c.a.cloud.ai.manus.OpenManusSpringBootApplication(SpringApplication.java 658) -The following 1 profile is active: "h2"
2025-09-19 09:28:59:756 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate(RepositoryConfigurationDelegate.java 147) -Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-19 09:28:59:886 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate(RepositoryConfigurationDelegate.java 215) -Finished Spring Data repository scanning in 124 ms. Found 17 JPA repository interfaces.
2025-09-19 09:29:00:547 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer(TomcatWebServer.java 111) -Tomcat initialized with port 18080 (http)
2025-09-19 09:29:00:555 [main] INFO  org.apache.coyote.http11.Http11NioProtocol(DirectJDKLog.java 168) -Initializing ProtocolHandler ["http-nio-18080"]
2025-09-19 09:29:00:558 [main] INFO  org.apache.catalina.core.StandardService(DirectJDKLog.java 168) -Starting service [Tomcat]
2025-09-19 09:29:00:558 [main] INFO  org.apache.catalina.core.StandardEngine(DirectJDKLog.java 168) -Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-09-19 09:29:00:611 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/](DirectJDKLog.java 168) -Initializing Spring embedded WebApplicationContext
2025-09-19 09:29:00:611 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext(ServletWebServerApplicationContext.java 301) -Root WebApplicationContext: initialization completed in 1180 ms
2025-09-19 09:29:00:718 [main] INFO  org.hibernate.jpa.internal.util.LogHelper(LogHelper.java 31) -HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-19 09:29:00:755 [main] INFO  org.hibernate.Version(Version.java 44) -HHH000412: Hibernate ORM core version 6.6.22.Final
2025-09-19 09:29:00:777 [main] INFO  o.hibernate.cache.internal.RegionFactoryInitiator(RegionFactoryInitiator.java 50) -HHH000026: Second-level cache disabled
2025-09-19 09:29:00:957 [main] INFO  o.s.o.j.persistenceunit.SpringPersistenceUnitInfo(SpringPersistenceUnitInfo.java 87) -No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-19 09:29:00:979 [main] INFO  com.zaxxer.hikari.HikariDataSource(HikariDataSource.java 109) -Spring-AI-Alibaba-JManus-h2-Pool - Starting...
2025-09-19 09:29:01:187 [main] INFO  com.zaxxer.hikari.pool.HikariPool(HikariPool.java 554) -Spring-AI-Alibaba-JManus-h2-Pool - Added connection conn0: url=jdbc:h2:file:./h2-data/openmanus_db user=SA
2025-09-19 09:29:01:189 [main] INFO  com.zaxxer.hikari.HikariDataSource(HikariDataSource.java 122) -Spring-AI-Alibaba-JManus-h2-Pool - Start completed.
2025-09-19 09:29:01:224 [main] INFO  org.hibernate.orm.connections.pooling(JdbcEnvironmentInitiator.java 163) -HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (Spring-AI-Alibaba-JManus-h2-Pool)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-19 09:29:01:421 [main] INFO  com.alibaba.cloud.ai.manus.config.JacksonConfig(JacksonConfig.java 73) -Successfully registered JavaTimeModule to org.springframework.ai.model.ModelOptionsUtils.OBJECT_MAPPER
2025-09-19 09:29:01:422 [main] INFO  com.alibaba.cloud.ai.manus.config.JacksonConfig(JacksonConfig.java 73) -Successfully registered JavaTimeModule to org.springframework.ai.util.json.JsonParser.OBJECT_MAPPER
2025-09-19 09:29:01:423 [main] INFO  com.alibaba.cloud.ai.manus.config.JacksonConfig(JacksonConfig.java 46) -Created ObjectMapper with JavaTimeModule and UTF-8 support registered
2025-09-19 09:29:02:045 [main] INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator(JtaPlatformInitiator.java 59) -HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-19 09:29:02:113 [main] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean(AbstractEntityManagerFactoryBean.java 447) -Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-19 09:29:02:412 [main] INFO  o.s.data.jpa.repository.query.QueryEnhancerFactory(QueryEnhancerFactory.java 49) -Hibernate is in classpath; If applicable, HQL parser will be used.
2025-09-19 09:29:02:846 [main] INFO  c.a.cloud.ai.manus.mcp.service.McpCacheManager(McpCacheManager.java 274) -MCP service loader configuration changed, updating thread pool
2025-09-19 09:29:02:846 [main] INFO  c.a.cloud.ai.manus.mcp.service.McpCacheManager(McpCacheManager.java 288) -Updated MCP service loader thread pool with max 10 concurrent connections
2025-09-19 09:29:02:847 [main] INFO  c.a.cloud.ai.manus.mcp.service.McpCacheManager(McpCacheManager.java 203) -Initializing MCP cache manager with double buffer mechanism
2025-09-19 09:29:02:850 [main] INFO  c.a.cloud.ai.manus.mcp.service.McpCacheManager(McpCacheManager.java 344) -No MCP server configurations found
2025-09-19 09:29:02:850 [main] INFO  c.a.cloud.ai.manus.mcp.service.McpCacheManager(McpCacheManager.java 214) -Initial cache loaded successfully with 0 services
2025-09-19 09:29:02:851 [main] INFO  c.a.cloud.ai.manus.mcp.service.McpCacheManager(McpCacheManager.java 236) -Scheduled cache update task started, interval: 10 minutes
2025-09-19 09:29:03:046 [main] INFO  com.alibaba.cloud.ai.manus.llm.LlmService(LlmService.java 111) -Checking and init ChatClient instance...
2025-09-19 09:29:03:066 [main] INFO  com.alibaba.cloud.ai.manus.llm.LlmService(LlmService.java 122) -Find default model: qwen-plus
2025-09-19 09:29:03:750 [main] INFO  com.alibaba.cloud.ai.manus.llm.LlmService(LlmService.java 247) -Build or update dynamic chat client for model: qwen-plus
2025-09-19 09:29:03:750 [main] INFO  com.alibaba.cloud.ai.manus.llm.LlmService(LlmService.java 127) -ChatClient init success
2025-09-19 09:29:03:916 [main] INFO  c.alibaba.cloud.ai.manus.config.PlaywrightConfig(PlaywrightConfig.java 60) -PLAYWRIGHT_BROWSERS_PATH not set, using default browser path
2025-09-19 09:29:03:918 [main] INFO  c.a.c.a.m.model.service.ModelDataInitialization(ModelDataInitialization.java 102) -Default model already exists: qwen-plus, skipping environment variable model creation
2025-09-19 09:29:04:485 [main] INFO  o.s.b.autoconfigure.h2.H2ConsoleAutoConfiguration(H2ConsoleAutoConfiguration.java 133) -H2 console available at '/h2-console'. Database available at 'jdbc:h2:file:./h2-data/openmanus_db'
2025-09-19 09:29:04:584 [main] INFO  org.apache.coyote.http11.Http11NioProtocol(DirectJDKLog.java 168) -Starting ProtocolHandler ["http-nio-18080"]
2025-09-19 09:29:04:597 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer(TomcatWebServer.java 243) -Tomcat started on port 18080 (http) with context path '/'
2025-09-19 09:29:04:609 [main] INFO  com.alibaba.cloud.ai.manus.config.ConfigService(ConfigService.java 70) -Found 33 configuration beans
2025-09-19 09:29:04:610 [main] INFO  com.alibaba.cloud.ai.manus.config.ConfigService(ConfigService.java 85) -Cleaning up obsolete configurations not defined in ManusProperties...
2025-09-19 09:29:04:617 [main] INFO  com.alibaba.cloud.ai.manus.config.ConfigService(ConfigService.java 102) -âœ… No obsolete configurations found
2025-09-19 09:29:04:635 [main] INFO  c.a.cloud.ai.manus.OpenManusSpringBootApplication(StartupInfoLogger.java 59) -Started OpenManusSpringBootApplication in 5.558 seconds (process running for 5.921)
2025-09-19 09:29:04:638 [main] INFO  c.a.c.a.m.config.startUp.ConfigAppStartupListener(ConfigAppStartupListener.java 60) -Configuration system initialized with 17 total configs
2025-09-19 09:29:04:638 [main] INFO  c.a.c.a.m.config.startUp.ConfigAppStartupListener(ConfigAppStartupListener.java 61) -Group 'manus': 17 configs
2025-09-19 09:29:04:639 [main] INFO  c.a.c.a.m.config.startUp.ConfigAppStartupListener(ConfigAppStartupListener.java 68) -1 configs are using custom values
2025-09-19 09:29:04:639 [main] INFO  c.a.c.a.m.config.startUp.ConfigAppStartupListener(ConfigAppStartupListener.java 78) -Starting to initialize dynamic agents...
2025-09-19 09:29:04:642 [main] INFO  c.a.c.ai.manus.agent.service.DynamicAgentScanner(DynamicAgentScanner.java 93) -Checking for deprecated @DynamicAgentDefinition annotation usage...
2025-09-19 09:29:04:682 [main] INFO  c.a.c.ai.manus.agent.service.DynamicAgentScanner(DynamicAgentScanner.java 174) -âœ… No deprecated @DynamicAgentDefinition annotations found. System can start normally.
2025-09-19 09:29:04:682 [main] INFO  c.a.c.ai.manus.agent.service.DynamicAgentScanner(DynamicAgentScanner.java 75) -âœ… Force override from YAML enabled - Starting to scan and override agents from YAML configuration files...
2025-09-19 09:29:04:682 [main] INFO  c.a.c.ai.manus.agent.service.DynamicAgentScanner(DynamicAgentScanner.java 181) -ðŸ” Starting to scan YAML agent configuration files...
2025-09-19 09:29:04:684 [main] INFO  c.a.c.a.m.a.startupAgent.StartupAgentConfigLoader(StartupAgentConfigLoader.java 231) -Scanned 0 startup agents: []
2025-09-19 09:29:04:684 [main] INFO  c.a.c.ai.manus.agent.service.DynamicAgentScanner(DynamicAgentScanner.java 212) -âœ… YAML agent configuration scanning completed - Total: 0, Created: 0, Overridden: 0
2025-09-19 09:29:04:684 [main] INFO  c.a.c.ai.manus.agent.service.DynamicAgentScanner(DynamicAgentScanner.java 81) -âœ… Dynamic agent override from YAML files completed
2025-09-19 09:29:04:684 [main] INFO  c.a.c.a.m.config.startUp.ConfigAppStartupListener(ConfigAppStartupListener.java 80) -Dynamic agents initialization completed
2025-09-19 09:29:04:684 [main] INFO  c.a.c.a.m.tool.database.DatabaseUseStartupListener(DatabaseUseStartupListener.java 48) -Starting to initialize database configurations...
2025-09-19 09:29:04:686 [main] INFO  c.a.cloud.ai.manus.tool.database.DataSourceService(DataSourceService.java 62) -Added datasource 'amanus' with url: jdbc:mysql://127.0.0.1:3306/amanus?serverTimezone=UTC&useUnicode=true&characterEncoding=utf8 and type: mysql
2025-09-19 09:29:04:686 [main] INFO  c.a.c.a.m.tool.database.DatabaseUseStartupListener(DatabaseUseStartupListener.java 100) -Initialized datasource 'amanus' (type: mysql)
2025-09-19 09:29:04:686 [main] INFO  c.a.cloud.ai.manus.tool.database.DataSourceService(DataSourceService.java 62) -Added datasource 'testdb' with url: jdbc:h2:file:./h2-data/testdb;MODE=MYSQL;DATABASE_TO_LOWER=TRUE and type: h2
2025-09-19 09:29:04:686 [main] INFO  c.a.c.a.m.tool.database.DatabaseUseStartupListener(DatabaseUseStartupListener.java 100) -Initialized datasource 'testdb' (type: h2)
2025-09-19 09:29:04:686 [main] INFO  c.a.c.a.m.tool.database.DatabaseUseStartupListener(DatabaseUseStartupListener.java 68) -Database configurations initialized with 2 datasources
2025-09-19 09:29:04:686 [main] INFO  c.a.c.a.m.tool.database.DatabaseUseStartupListener(DatabaseUseStartupListener.java 150) -
====================================================================================================
DATABASE DATASOURCE SUMMARY
====================================================================================================
â”‚ Datasource: amanus       â”‚ Type: mysql    â”‚ Status: âœ“ INSTANTIATED â”‚ URL: jdbc:mysql://127.0.0.1:3306/amanus?serverTimezone=UTC&useUnicode=true&characterEncoding=utf8 â”‚
â”‚ Datasource: testdb       â”‚ Type: h2       â”‚ Status: âœ“ INSTANTIATED â”‚ URL: jdbc:h2:file:./h2-data/testdb;MODE=MYSQL;DATABASE_TO_LOWER=TRUE â”‚
----------------------------------------------------------------------------------------------------
â”‚ SUMMARY: Total=2, Instantiated=2, Disabled=0, Failed=0 â”‚
====================================================================================================


2025-09-19 09:29:04:706 [main] INFO  c.a.c.a.m.n.service.NamespaceDataInitialization(NamespaceDataInitialization.java 53) -1 namespaces already exist, skipping default namespace initialization
2025-09-19 09:29:04:707 [main] INFO  c.a.c.a.m.tool.jsxGenerator.JsxGeneratorService(JsxGeneratorService.java 69) -JsxGeneratorService initialized
2025-09-19 09:29:04:707 [main] INFO  c.a.c.a.m.tool.jsxGenerator.JsxGeneratorService(JsxGeneratorService.java 442) -Registered template: counter-button
2025-09-19 09:29:04:707 [main] INFO  c.a.c.a.m.tool.jsxGenerator.JsxGeneratorService(JsxGeneratorService.java 442) -Registered template: data-form
2025-09-19 09:29:04:707 [main] INFO  c.a.c.a.m.tool.jsxGenerator.JsxGeneratorService(JsxGeneratorService.java 203) -Default templates initialized: [counter-button, data-form]
2025-09-19 09:29:04:730 [main] INFO  c.a.c.a.manus.cron.scheduler.DynamicCronTaskLoader(DynamicCronTaskLoader.java 93) -Loaded 0 enabled scheduled tasks
2025-09-19 09:29:04:730 [main] INFO  c.a.c.a.manus.cron.scheduler.DynamicCronTaskLoader(DynamicCronTaskLoader.java 52) -Scheduled task loading completed
2025-09-19 09:29:04:730 [main] INFO  c.a.c.ai.manus.tool.textOperator.TextFileService(TextFileService.java 76) -TextFileService initialized
2025-09-19 09:29:04:732 [main] INFO  c.a.c.ai.manus.config.startUp.AppStartupListener(AppStartupListener.java 54) -Application started, attempting to open browser to access: http://localhost:18080/ui/index.html
2025-09-19 09:29:04:761 [main] INFO  c.a.c.ai.manus.config.startUp.AppStartupListener(AppStartupListener.java 75) -Successfully opened browser via macOS open command
2025-09-19 09:29:04:763 [main] INFO  c.a.c.a.m.s.initializer.SubplanToolInitializer(SubplanToolInitializer.java 54) -Starting subplan tools initialization...
2025-09-19 09:29:04:763 [main] INFO  c.a.c.a.m.s.initializer.SubplanToolInitializer(SubplanToolInitializer.java 74) -Initializing plan templates...
2025-09-19 09:29:04:771 [main] INFO  c.a.c.a.m.s.initializer.SubplanToolInitializer(SubplanToolInitializer.java 113) -Initializing predefined subplan tools...
2025-09-19 09:29:04:774 [main] INFO  c.a.c.a.m.s.initializer.SubplanToolInitializer(SubplanToolInitializer.java 63) -Subplan tools initialization completed successfully
2025-09-19 09:29:05:187 [http-nio-18080-exec-1] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/](DirectJDKLog.java 168) -Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-19 09:29:05:188 [http-nio-18080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet(FrameworkServlet.java 532) -Initializing Servlet 'dispatcherServlet'
2025-09-19 09:29:05:190 [http-nio-18080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet(FrameworkServlet.java 554) -Completed initialization in 2 ms
2025-09-19 09:29:05:346 [http-nio-18080-exec-4] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: browser_use
2025-09-19 09:29:05:347 [http-nio-18080-exec-4] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: database_use
2025-09-19 09:29:32:677 [http-nio-18080-exec-9] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244865687
2025-09-19 09:30:07:488 [http-nio-18080-exec-4] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: terminate
2025-09-19 09:30:33:602 [http-nio-18080-exec-10] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244865687
2025-09-19 09:31:21:554 [http-nio-18080-exec-4] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: bash
2025-09-19 09:31:21:558 [http-nio-18080-exec-4] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: doc_loader
2025-09-19 09:31:21:564 [http-nio-18080-exec-4] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: text_file_operator
2025-09-19 09:31:21:578 [http-nio-18080-exec-4] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: table_processor
2025-09-19 09:31:21:586 [http-nio-18080-exec-4] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: file_merge_tool
2025-09-19 09:31:21:591 [http-nio-18080-exec-4] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: form_input
2025-09-19 09:31:21:593 [http-nio-18080-exec-4] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: data_split_tool
2025-09-19 09:31:21:596 [http-nio-18080-exec-4] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: map_output_tool
2025-09-19 09:31:21:598 [http-nio-18080-exec-4] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: reduce_operation_tool
2025-09-19 09:31:21:601 [http-nio-18080-exec-4] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: mapreduce_finalize_tool
2025-09-19 09:31:21:604 [http-nio-18080-exec-4] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: cron_tool
2025-09-19 09:31:21:612 [http-nio-18080-exec-4] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: excel_processor
2025-09-19 09:31:21:635 [http-nio-18080-exec-4] INFO  c.a.c.ai.manus.subplan.service.SubplanToolService(SubplanToolService.java 93) -Creating subplan tool callbacks for planId: 1065f9b8-0609-4535-a10a-6c91ad897d6e, rootPlanId: 1065f9b8-0609-4535-a10a-6c91ad897d6e
2025-09-19 09:31:21:697 [http-nio-18080-exec-4] INFO  c.a.c.ai.manus.subplan.service.SubplanToolService(SubplanToolService.java 106) -Found 4 subplan tools to register
2025-09-19 09:31:21:702 [http-nio-18080-exec-4] INFO  c.a.c.ai.manus.subplan.service.SubplanToolService(SubplanToolService.java 130) -Successfully registered subplan tool: extract_relevant_content -> extract_relevant_content_template
2025-09-19 09:31:21:704 [http-nio-18080-exec-4] INFO  c.a.c.ai.manus.subplan.service.SubplanToolService(SubplanToolService.java 130) -Successfully registered subplan tool: searchShenxun -> planTemplate-1758087694822
2025-09-19 09:31:21:706 [http-nio-18080-exec-4] INFO  c.a.c.ai.manus.subplan.service.SubplanToolService(SubplanToolService.java 130) -Successfully registered subplan tool: summaryResult -> planTemplate-1758202965673
2025-09-19 09:31:21:707 [http-nio-18080-exec-4] INFO  c.a.c.ai.manus.subplan.service.SubplanToolService(SubplanToolService.java 130) -Successfully registered subplan tool: summaryStructure -> planTemplate-1758202965693
2025-09-19 09:31:21:708 [http-nio-18080-exec-4] INFO  c.a.c.ai.manus.subplan.service.SubplanToolService(SubplanToolService.java 144) -Created 4 subplan tool callbacks
2025-09-19 09:31:21:768 [http-nio-18080-exec-4] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 314) -Registered 4 subplan tools
2025-09-19 09:31:21:771 [http-nio-18080-exec-4] INFO  c.a.cloud.ai.manus.mcp.service.McpCacheManager(McpCacheManager.java 553) -Cache invalidation requested for plan: 1065f9b8-0609-4535-a10a-6c91ad897d6e, but using double buffer mechanism - no action needed
2025-09-19 09:31:29:559 [http-nio-18080-exec-2] INFO  c.a.c.a.m.c.controller.CoordinatorToolController(CoordinatorToolController.java 116) -Getting or creating coordinator tool for plan template: planTemplate-1758202965693
2025-09-19 09:31:29:606 [http-nio-18080-exec-6] INFO  c.a.cloud.ai.manus.model.service.ModelServiceImpl(ModelServiceImpl.java 432) -Sending HTTP request to: https://dashscope.aliyuncs.com/compatible-mode/v1/models
2025-09-19 09:31:29:942 [http-nio-18080-exec-6] INFO  c.a.cloud.ai.manus.model.service.ModelServiceImpl(ModelServiceImpl.java 442) -HTTP request completed - Status code: 200, Duration: 334ms
2025-09-19 09:31:29:943 [http-nio-18080-exec-6] INFO  c.a.cloud.ai.manus.model.service.ModelServiceImpl(ModelServiceImpl.java 321) -Successfully parsed response, obtained 97 available models
2025-09-19 09:31:29:943 [http-nio-18080-exec-6] INFO  c.a.cloud.ai.manus.model.service.ModelServiceImpl(ModelServiceImpl.java 447) -Successfully parsed response, obtained 97 models
2025-09-19 09:31:32:637 [http-nio-18080-exec-9] INFO  c.a.c.ai.manus.runtime.controller.ManusController(ManusController.java 230) -ðŸ”— [HTTP] Received query request from HTTP client: 
2025-09-19 09:31:32:639 [http-nio-18080-exec-9] INFO  c.a.c.ai.manus.runtime.controller.ManusController(ManusController.java 244) -Tool not published, using toolName as planTemplateId: planTemplate-1758202965693
2025-09-19 09:31:32:641 [http-nio-18080-exec-9] INFO  c.a.c.ai.manus.runtime.controller.ManusController(ManusController.java 546) -Replacing parameter placeholders in plan template with input parameters: [planId]
2025-09-19 09:31:32:673 [http-nio-18080-exec-9] INFO  c.a.c.ai.manus.runtime.service.PlanningCoordinator(PlanningCoordinator.java 156) -Starting direct plan execution for plan: null
2025-09-19 09:31:32:673 [http-nio-18080-exec-9] INFO  c.a.c.a.m.r.executor.factory.PlanExecutorFactory(PlanExecutorFactory.java 162) -Creating executor for plan type: dynamic_agent (planId: null)
2025-09-19 09:31:32:684 [http-nio-18080-exec-9] INFO  c.a.c.a.m.runtime.executor.LevelBasedExecutorPool(LevelBasedExecutorPool.java 207) -Created executor pool for depth level 0: level-0-executor-0 (core: 5, max: 20, queue: 100)
2025-09-19 09:31:32:717 [level-0-executor-0-thread-1] INFO  c.a.c.a.m.r.service.NewRepoPlanExecutionRecorder(NewRepoPlanExecutionRecorder.java 822) -Successfully created plan relationship for currentPlanId: plan-1758245492640, parentPlanId: null, rootPlanId: plan-1758245492640
2025-09-19 09:31:32:718 [level-0-executor-0-thread-1] INFO  c.a.c.a.m.r.service.NewRepoPlanExecutionRecorder(NewRepoPlanExecutionRecorder.java 148) -Successfully saved plan execution record for ID: plan-1758245492640 with 1 steps
2025-09-19 09:31:32:727 [level-0-executor-0-thread-1] INFO  c.a.cloud.ai.manus.agent.service.AgentServiceImpl(AgentServiceImpl.java 349) -Create new BaseAgent: ConfigurableDynaAgent, planId: plan-1758245492640
2025-09-19 09:31:32:728 [level-0-executor-0-thread-1] INFO  c.a.cloud.ai.manus.agent.service.AgentServiceImpl(AgentServiceImpl.java 204) -No model entity provided for ConfigurableDynaAgent, using null model
2025-09-19 09:31:32:730 [level-0-executor-0-thread-1] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: browser_use
2025-09-19 09:31:32:730 [level-0-executor-0-thread-1] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: database_use
2025-09-19 09:31:34:609 [http-nio-18080-exec-5] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244865687
2025-09-19 09:31:37:731 [http-nio-18080-exec-7] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758245492640
2025-09-19 09:31:42:730 [http-nio-18080-exec-6] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758245492640
2025-09-19 09:31:47:729 [http-nio-18080-exec-9] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758245492640
2025-09-19 09:31:52:728 [http-nio-18080-exec-4] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758245492640
2025-09-19 09:31:57:728 [http-nio-18080-exec-1] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758245492640
2025-09-19 09:32:02:737 [http-nio-18080-exec-7] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758245492640
2025-09-19 09:32:07:728 [http-nio-18080-exec-6] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758245492640
2025-09-19 09:32:12:745 [http-nio-18080-exec-9] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758245492640
2025-09-19 09:32:13:922 [level-0-executor-0-thread-1] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: terminate
2025-09-19 09:32:13:925 [level-0-executor-0-thread-1] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: bash
2025-09-19 09:32:13:927 [level-0-executor-0-thread-1] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: doc_loader
2025-09-19 09:32:13:930 [level-0-executor-0-thread-1] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: text_file_operator
2025-09-19 09:32:13:932 [level-0-executor-0-thread-1] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: table_processor
2025-09-19 09:32:13:934 [level-0-executor-0-thread-1] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: file_merge_tool
2025-09-19 09:32:13:936 [level-0-executor-0-thread-1] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: form_input
2025-09-19 09:32:13:938 [level-0-executor-0-thread-1] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: data_split_tool
2025-09-19 09:32:13:940 [level-0-executor-0-thread-1] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: map_output_tool
2025-09-19 09:32:13:942 [level-0-executor-0-thread-1] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: reduce_operation_tool
2025-09-19 09:32:13:944 [level-0-executor-0-thread-1] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: mapreduce_finalize_tool
2025-09-19 09:32:13:946 [level-0-executor-0-thread-1] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: cron_tool
2025-09-19 09:32:13:948 [level-0-executor-0-thread-1] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: excel_processor
2025-09-19 09:32:13:952 [level-0-executor-0-thread-1] INFO  c.a.c.ai.manus.subplan.service.SubplanToolService(SubplanToolService.java 93) -Creating subplan tool callbacks for planId: plan-1758245492640, rootPlanId: plan-1758245492640
2025-09-19 09:32:13:964 [level-0-executor-0-thread-1] INFO  c.a.c.ai.manus.subplan.service.SubplanToolService(SubplanToolService.java 106) -Found 4 subplan tools to register
2025-09-19 09:32:13:966 [level-0-executor-0-thread-1] INFO  c.a.c.ai.manus.subplan.service.SubplanToolService(SubplanToolService.java 130) -Successfully registered subplan tool: extract_relevant_content -> extract_relevant_content_template
2025-09-19 09:32:13:968 [level-0-executor-0-thread-1] INFO  c.a.c.ai.manus.subplan.service.SubplanToolService(SubplanToolService.java 130) -Successfully registered subplan tool: searchShenxun -> planTemplate-1758087694822
2025-09-19 09:32:13:969 [level-0-executor-0-thread-1] INFO  c.a.c.ai.manus.subplan.service.SubplanToolService(SubplanToolService.java 130) -Successfully registered subplan tool: summaryResult -> planTemplate-1758202965673
2025-09-19 09:32:13:971 [level-0-executor-0-thread-1] INFO  c.a.c.ai.manus.subplan.service.SubplanToolService(SubplanToolService.java 130) -Successfully registered subplan tool: summaryStructure -> planTemplate-1758202965693
2025-09-19 09:32:13:972 [level-0-executor-0-thread-1] INFO  c.a.c.ai.manus.subplan.service.SubplanToolService(SubplanToolService.java 144) -Created 4 subplan tool callbacks
2025-09-19 09:32:13:976 [level-0-executor-0-thread-1] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 314) -Registered 4 subplan tools
2025-09-19 09:32:13:996 [level-0-executor-0-thread-1] INFO  c.a.c.a.m.r.service.NewRepoPlanExecutionRecorder(NewRepoPlanExecutionRecorder.java 329) -Successfully recorded step start for stepId: step-2f27abc8-1b5d-4630-8c9c-7b7cd2627193, planId: plan-1758245492640, status: RUNNING
2025-09-19 09:32:13:997 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 1/40
2025-09-19 09:32:13:997 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:32:13:997 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758245492640
- Available files: None

2025-09-19 09:32:13:998 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:32:13:998 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
No operation performed yet

2025-09-19 09:32:13:998 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:32:13:998 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758245492640
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:32:13:998 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:32:15:818 [boundedElastic-1] INFO  c.a.cloud.ai.manus.llm.StreamingResponseHandler(StreamingResponseHandler.java 258) -âœ… Agent ConfigurableDynaAgent thinking - Completed[1766ms]: 1 responses processed, 0 characters, 1 tool calls, 0 prompt tokens, 0 completion tokens, 0 total tokens. Preview: '(empty)'
2025-09-19 09:32:15:823 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 196) -âœ¨ ConfigurableDynaAgent's thoughts: 
2025-09-19 09:32:15:823 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 197) -ðŸ› ï¸ ConfigurableDynaAgent selected 1 tools to use
2025-09-19 09:32:15:824 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 200) -ðŸ§° Tools being prepared: [text_file_operator]
2025-09-19 09:32:15:829 [level-0-executor-0-thread-1] INFO  c.a.c.a.m.r.service.NewRepoPlanExecutionRecorder(NewRepoPlanExecutionRecorder.java 429) -Successfully recorded thinking and action for stepId: step-2f27abc8-1b5d-4630-8c9c-7b7cd2627193, thinkActRecordId: 211
2025-09-19 09:32:15:833 [level-0-executor-0-thread-1] INFO  c.a.c.ai.manus.tool.textOperator.TextFileOperator(TextFileOperator.java 211) -TextFileOperator input: action=get_all_text, filePath=/Users/whisper/Downloads/html.md
2025-09-19 09:32:15:910 [level-0-executor-0-thread-1] INFO  c.a.c.a.m.t.innerStorage.SmartContentSavingService(SmartContentSavingService.java 112) -Processing content for plan plan-1758245492640: content length = 2404, threshold = 20000, infinite context enabled
2025-09-19 09:32:15:911 [level-0-executor-0-thread-1] INFO  c.a.c.a.m.t.innerStorage.SmartContentSavingService(SmartContentSavingService.java 117) -Content length 2404 is within threshold 20000, returning original content
2025-09-19 09:32:15:914 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 327) -Tool text_file_operator executed successfully for planId: plan-1758245492640
2025-09-19 09:32:15:926 [level-0-executor-0-thread-1] INFO  c.a.c.a.m.r.service.NewRepoPlanExecutionRecorder(NewRepoPlanExecutionRecorder.java 504) -Successfully processed action results, processed 1 tools
2025-09-19 09:32:15:927 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: in_progress
2025-09-19 09:32:15:927 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 2/40
2025-09-19 09:32:15:928 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:32:15:929 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758245492640
- Available files: None

2025-09-19 09:32:15:929 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:32:15:929 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
Success: Retrieved all text

2025-09-19 09:32:15:929 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:32:15:929 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758245492640
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:32:15:929 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:32:17:725 [http-nio-18080-exec-4] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758245492640
2025-09-19 09:32:22:726 [http-nio-18080-exec-1] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758245492640
2025-09-19 09:32:27:731 [http-nio-18080-exec-7] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758245492640
2025-09-19 09:32:32:725 [http-nio-18080-exec-6] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758245492640
2025-09-19 09:32:34:595 [http-nio-18080-exec-9] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244865687
2025-09-19 09:32:38:498 [main] INFO  c.a.cloud.ai.manus.OpenManusSpringBootApplication(StartupInfoLogger.java 53) -Starting OpenManusSpringBootApplication using Java 17.0.4.1 with PID 81770 (/Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/target/classes started by whisper in /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus)
2025-09-19 09:32:38:499 [main] INFO  c.a.cloud.ai.manus.OpenManusSpringBootApplication(SpringApplication.java 658) -The following 1 profile is active: "h2"
2025-09-19 09:32:38:989 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate(RepositoryConfigurationDelegate.java 147) -Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-19 09:32:39:106 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate(RepositoryConfigurationDelegate.java 215) -Finished Spring Data repository scanning in 111 ms. Found 17 JPA repository interfaces.
2025-09-19 09:32:39:529 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer(TomcatWebServer.java 111) -Tomcat initialized with port 18080 (http)
2025-09-19 09:32:39:539 [main] INFO  org.apache.coyote.http11.Http11NioProtocol(DirectJDKLog.java 168) -Initializing ProtocolHandler ["http-nio-18080"]
2025-09-19 09:32:39:540 [main] INFO  org.apache.catalina.core.StandardService(DirectJDKLog.java 168) -Starting service [Tomcat]
2025-09-19 09:32:39:540 [main] INFO  org.apache.catalina.core.StandardEngine(DirectJDKLog.java 168) -Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-09-19 09:32:39:578 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/](DirectJDKLog.java 168) -Initializing Spring embedded WebApplicationContext
2025-09-19 09:32:39:578 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext(ServletWebServerApplicationContext.java 301) -Root WebApplicationContext: initialization completed in 1051 ms
2025-09-19 09:32:39:664 [main] INFO  org.hibernate.jpa.internal.util.LogHelper(LogHelper.java 31) -HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-19 09:32:39:694 [main] INFO  org.hibernate.Version(Version.java 44) -HHH000412: Hibernate ORM core version 6.6.22.Final
2025-09-19 09:32:39:713 [main] INFO  o.hibernate.cache.internal.RegionFactoryInitiator(RegionFactoryInitiator.java 50) -HHH000026: Second-level cache disabled
2025-09-19 09:32:39:862 [main] INFO  o.s.o.j.persistenceunit.SpringPersistenceUnitInfo(SpringPersistenceUnitInfo.java 87) -No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-19 09:32:39:878 [main] INFO  com.zaxxer.hikari.HikariDataSource(HikariDataSource.java 109) -Spring-AI-Alibaba-JManus-h2-Pool - Starting...
2025-09-19 09:32:40:071 [main] INFO  com.zaxxer.hikari.pool.HikariPool(HikariPool.java 554) -Spring-AI-Alibaba-JManus-h2-Pool - Added connection conn0: url=jdbc:h2:file:./h2-data/openmanus_db user=SA
2025-09-19 09:32:40:072 [main] INFO  com.zaxxer.hikari.HikariDataSource(HikariDataSource.java 122) -Spring-AI-Alibaba-JManus-h2-Pool - Start completed.
2025-09-19 09:32:40:109 [main] INFO  org.hibernate.orm.connections.pooling(JdbcEnvironmentInitiator.java 163) -HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (Spring-AI-Alibaba-JManus-h2-Pool)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-19 09:32:40:277 [main] INFO  com.alibaba.cloud.ai.manus.config.JacksonConfig(JacksonConfig.java 73) -Successfully registered JavaTimeModule to org.springframework.ai.model.ModelOptionsUtils.OBJECT_MAPPER
2025-09-19 09:32:40:277 [main] INFO  com.alibaba.cloud.ai.manus.config.JacksonConfig(JacksonConfig.java 73) -Successfully registered JavaTimeModule to org.springframework.ai.util.json.JsonParser.OBJECT_MAPPER
2025-09-19 09:32:40:278 [main] INFO  com.alibaba.cloud.ai.manus.config.JacksonConfig(JacksonConfig.java 46) -Created ObjectMapper with JavaTimeModule and UTF-8 support registered
2025-09-19 09:32:40:773 [main] INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator(JtaPlatformInitiator.java 59) -HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-19 09:32:40:809 [main] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean(AbstractEntityManagerFactoryBean.java 447) -Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-19 09:32:40:970 [main] INFO  o.s.data.jpa.repository.query.QueryEnhancerFactory(QueryEnhancerFactory.java 49) -Hibernate is in classpath; If applicable, HQL parser will be used.
2025-09-19 09:32:41:347 [main] INFO  c.a.cloud.ai.manus.mcp.service.McpCacheManager(McpCacheManager.java 274) -MCP service loader configuration changed, updating thread pool
2025-09-19 09:32:41:347 [main] INFO  c.a.cloud.ai.manus.mcp.service.McpCacheManager(McpCacheManager.java 288) -Updated MCP service loader thread pool with max 10 concurrent connections
2025-09-19 09:32:41:348 [main] INFO  c.a.cloud.ai.manus.mcp.service.McpCacheManager(McpCacheManager.java 203) -Initializing MCP cache manager with double buffer mechanism
2025-09-19 09:32:41:350 [main] INFO  c.a.cloud.ai.manus.mcp.service.McpCacheManager(McpCacheManager.java 344) -No MCP server configurations found
2025-09-19 09:32:41:350 [main] INFO  c.a.cloud.ai.manus.mcp.service.McpCacheManager(McpCacheManager.java 214) -Initial cache loaded successfully with 0 services
2025-09-19 09:32:41:351 [main] INFO  c.a.cloud.ai.manus.mcp.service.McpCacheManager(McpCacheManager.java 236) -Scheduled cache update task started, interval: 10 minutes
2025-09-19 09:32:41:490 [main] INFO  com.alibaba.cloud.ai.manus.llm.LlmService(LlmService.java 111) -Checking and init ChatClient instance...
2025-09-19 09:32:41:502 [main] INFO  com.alibaba.cloud.ai.manus.llm.LlmService(LlmService.java 122) -Find default model: qwen-plus
2025-09-19 09:32:41:757 [main] INFO  com.alibaba.cloud.ai.manus.llm.LlmService(LlmService.java 247) -Build or update dynamic chat client for model: qwen-plus
2025-09-19 09:32:41:758 [main] INFO  com.alibaba.cloud.ai.manus.llm.LlmService(LlmService.java 127) -ChatClient init success
2025-09-19 09:32:42:031 [main] INFO  c.alibaba.cloud.ai.manus.config.PlaywrightConfig(PlaywrightConfig.java 60) -PLAYWRIGHT_BROWSERS_PATH not set, using default browser path
2025-09-19 09:32:42:034 [main] INFO  c.a.c.a.m.model.service.ModelDataInitialization(ModelDataInitialization.java 102) -Default model already exists: qwen-plus, skipping environment variable model creation
2025-09-19 09:32:42:370 [main] INFO  o.s.b.autoconfigure.h2.H2ConsoleAutoConfiguration(H2ConsoleAutoConfiguration.java 133) -H2 console available at '/h2-console'. Database available at 'jdbc:h2:file:./h2-data/openmanus_db'
2025-09-19 09:32:42:460 [main] INFO  org.apache.coyote.http11.Http11NioProtocol(DirectJDKLog.java 168) -Starting ProtocolHandler ["http-nio-18080"]
2025-09-19 09:32:42:474 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer(TomcatWebServer.java 243) -Tomcat started on port 18080 (http) with context path '/'
2025-09-19 09:32:42:484 [main] INFO  com.alibaba.cloud.ai.manus.config.ConfigService(ConfigService.java 70) -Found 33 configuration beans
2025-09-19 09:32:42:486 [main] INFO  com.alibaba.cloud.ai.manus.config.ConfigService(ConfigService.java 85) -Cleaning up obsolete configurations not defined in ManusProperties...
2025-09-19 09:32:42:495 [main] INFO  com.alibaba.cloud.ai.manus.config.ConfigService(ConfigService.java 102) -âœ… No obsolete configurations found
2025-09-19 09:32:42:512 [main] INFO  c.a.cloud.ai.manus.OpenManusSpringBootApplication(StartupInfoLogger.java 59) -Started OpenManusSpringBootApplication in 4.351 seconds (process running for 4.798)
2025-09-19 09:32:42:515 [main] INFO  c.a.c.a.m.config.startUp.ConfigAppStartupListener(ConfigAppStartupListener.java 60) -Configuration system initialized with 17 total configs
2025-09-19 09:32:42:515 [main] INFO  c.a.c.a.m.config.startUp.ConfigAppStartupListener(ConfigAppStartupListener.java 61) -Group 'manus': 17 configs
2025-09-19 09:32:42:515 [main] INFO  c.a.c.a.m.config.startUp.ConfigAppStartupListener(ConfigAppStartupListener.java 68) -1 configs are using custom values
2025-09-19 09:32:42:515 [main] INFO  c.a.c.a.m.config.startUp.ConfigAppStartupListener(ConfigAppStartupListener.java 78) -Starting to initialize dynamic agents...
2025-09-19 09:32:42:517 [main] INFO  c.a.c.ai.manus.agent.service.DynamicAgentScanner(DynamicAgentScanner.java 93) -Checking for deprecated @DynamicAgentDefinition annotation usage...
2025-09-19 09:32:42:554 [main] INFO  c.a.c.ai.manus.agent.service.DynamicAgentScanner(DynamicAgentScanner.java 174) -âœ… No deprecated @DynamicAgentDefinition annotations found. System can start normally.
2025-09-19 09:32:42:555 [main] INFO  c.a.c.ai.manus.agent.service.DynamicAgentScanner(DynamicAgentScanner.java 75) -âœ… Force override from YAML enabled - Starting to scan and override agents from YAML configuration files...
2025-09-19 09:32:42:555 [main] INFO  c.a.c.ai.manus.agent.service.DynamicAgentScanner(DynamicAgentScanner.java 181) -ðŸ” Starting to scan YAML agent configuration files...
2025-09-19 09:32:42:558 [main] INFO  c.a.c.a.m.a.startupAgent.StartupAgentConfigLoader(StartupAgentConfigLoader.java 231) -Scanned 0 startup agents: []
2025-09-19 09:32:42:558 [main] INFO  c.a.c.ai.manus.agent.service.DynamicAgentScanner(DynamicAgentScanner.java 212) -âœ… YAML agent configuration scanning completed - Total: 0, Created: 0, Overridden: 0
2025-09-19 09:32:42:559 [main] INFO  c.a.c.ai.manus.agent.service.DynamicAgentScanner(DynamicAgentScanner.java 81) -âœ… Dynamic agent override from YAML files completed
2025-09-19 09:32:42:559 [main] INFO  c.a.c.a.m.config.startUp.ConfigAppStartupListener(ConfigAppStartupListener.java 80) -Dynamic agents initialization completed
2025-09-19 09:32:42:559 [main] INFO  c.a.c.a.m.tool.database.DatabaseUseStartupListener(DatabaseUseStartupListener.java 48) -Starting to initialize database configurations...
2025-09-19 09:32:42:560 [main] INFO  c.a.cloud.ai.manus.tool.database.DataSourceService(DataSourceService.java 62) -Added datasource 'amanus' with url: jdbc:mysql://127.0.0.1:3306/amanus?serverTimezone=UTC&useUnicode=true&characterEncoding=utf8 and type: mysql
2025-09-19 09:32:42:560 [main] INFO  c.a.c.a.m.tool.database.DatabaseUseStartupListener(DatabaseUseStartupListener.java 100) -Initialized datasource 'amanus' (type: mysql)
2025-09-19 09:32:42:560 [main] INFO  c.a.cloud.ai.manus.tool.database.DataSourceService(DataSourceService.java 62) -Added datasource 'testdb' with url: jdbc:h2:file:./h2-data/testdb;MODE=MYSQL;DATABASE_TO_LOWER=TRUE and type: h2
2025-09-19 09:32:42:560 [main] INFO  c.a.c.a.m.tool.database.DatabaseUseStartupListener(DatabaseUseStartupListener.java 100) -Initialized datasource 'testdb' (type: h2)
2025-09-19 09:32:42:560 [main] INFO  c.a.c.a.m.tool.database.DatabaseUseStartupListener(DatabaseUseStartupListener.java 68) -Database configurations initialized with 2 datasources
2025-09-19 09:32:42:561 [main] INFO  c.a.c.a.m.tool.database.DatabaseUseStartupListener(DatabaseUseStartupListener.java 150) -
====================================================================================================
DATABASE DATASOURCE SUMMARY
====================================================================================================
â”‚ Datasource: amanus       â”‚ Type: mysql    â”‚ Status: âœ“ INSTANTIATED â”‚ URL: jdbc:mysql://127.0.0.1:3306/amanus?serverTimezone=UTC&useUnicode=true&characterEncoding=utf8 â”‚
â”‚ Datasource: testdb       â”‚ Type: h2       â”‚ Status: âœ“ INSTANTIATED â”‚ URL: jdbc:h2:file:./h2-data/testdb;MODE=MYSQL;DATABASE_TO_LOWER=TRUE â”‚
----------------------------------------------------------------------------------------------------
â”‚ SUMMARY: Total=2, Instantiated=2, Disabled=0, Failed=0 â”‚
====================================================================================================


2025-09-19 09:32:42:563 [main] INFO  c.a.c.ai.manus.tool.textOperator.TextFileService(TextFileService.java 76) -TextFileService initialized
2025-09-19 09:32:42:564 [main] INFO  c.a.c.a.manus.cron.scheduler.DynamicCronTaskLoader(DynamicCronTaskLoader.java 93) -Loaded 0 enabled scheduled tasks
2025-09-19 09:32:42:564 [main] INFO  c.a.c.a.manus.cron.scheduler.DynamicCronTaskLoader(DynamicCronTaskLoader.java 52) -Scheduled task loading completed
2025-09-19 09:32:42:577 [main] INFO  c.a.c.a.m.n.service.NamespaceDataInitialization(NamespaceDataInitialization.java 53) -1 namespaces already exist, skipping default namespace initialization
2025-09-19 09:32:42:578 [main] INFO  c.a.c.a.m.tool.jsxGenerator.JsxGeneratorService(JsxGeneratorService.java 69) -JsxGeneratorService initialized
2025-09-19 09:32:42:578 [main] INFO  c.a.c.a.m.tool.jsxGenerator.JsxGeneratorService(JsxGeneratorService.java 442) -Registered template: counter-button
2025-09-19 09:32:42:578 [main] INFO  c.a.c.a.m.tool.jsxGenerator.JsxGeneratorService(JsxGeneratorService.java 442) -Registered template: data-form
2025-09-19 09:32:42:578 [main] INFO  c.a.c.a.m.tool.jsxGenerator.JsxGeneratorService(JsxGeneratorService.java 203) -Default templates initialized: [counter-button, data-form]
2025-09-19 09:32:42:598 [main] INFO  c.a.c.ai.manus.config.startUp.AppStartupListener(AppStartupListener.java 54) -Application started, attempting to open browser to access: http://localhost:18080/ui/index.html
2025-09-19 09:32:42:623 [main] INFO  c.a.c.ai.manus.config.startUp.AppStartupListener(AppStartupListener.java 75) -Successfully opened browser via macOS open command
2025-09-19 09:32:42:626 [main] INFO  c.a.c.a.m.s.initializer.SubplanToolInitializer(SubplanToolInitializer.java 54) -Starting subplan tools initialization...
2025-09-19 09:32:42:626 [main] INFO  c.a.c.a.m.s.initializer.SubplanToolInitializer(SubplanToolInitializer.java 74) -Initializing plan templates...
2025-09-19 09:32:42:638 [main] INFO  c.a.c.a.m.s.initializer.SubplanToolInitializer(SubplanToolInitializer.java 113) -Initializing predefined subplan tools...
2025-09-19 09:32:42:641 [main] INFO  c.a.c.a.m.s.initializer.SubplanToolInitializer(SubplanToolInitializer.java 63) -Subplan tools initialization completed successfully
2025-09-19 09:32:43:008 [http-nio-18080-exec-1] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/](DirectJDKLog.java 168) -Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-19 09:32:43:008 [http-nio-18080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet(FrameworkServlet.java 532) -Initializing Servlet 'dispatcherServlet'
2025-09-19 09:32:43:010 [http-nio-18080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet(FrameworkServlet.java 554) -Completed initialization in 1 ms
2025-09-19 09:32:43:152 [http-nio-18080-exec-4] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: browser_use
2025-09-19 09:32:43:155 [http-nio-18080-exec-4] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: database_use
2025-09-19 09:32:49:302 [http-nio-18080-exec-4] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: terminate
2025-09-19 09:32:49:309 [http-nio-18080-exec-4] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: bash
2025-09-19 09:32:49:311 [http-nio-18080-exec-4] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: doc_loader
2025-09-19 09:32:49:312 [http-nio-18080-exec-4] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: text_file_operator
2025-09-19 09:32:49:314 [http-nio-18080-exec-4] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: table_processor
2025-09-19 09:32:49:314 [http-nio-18080-exec-4] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: file_merge_tool
2025-09-19 09:32:49:315 [http-nio-18080-exec-4] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: form_input
2025-09-19 09:32:49:317 [http-nio-18080-exec-4] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: data_split_tool
2025-09-19 09:32:49:319 [http-nio-18080-exec-4] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: map_output_tool
2025-09-19 09:32:49:320 [http-nio-18080-exec-4] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: reduce_operation_tool
2025-09-19 09:32:49:320 [http-nio-18080-exec-4] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: mapreduce_finalize_tool
2025-09-19 09:32:49:322 [http-nio-18080-exec-4] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: cron_tool
2025-09-19 09:32:49:326 [http-nio-18080-exec-4] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: excel_processor
2025-09-19 09:32:49:342 [http-nio-18080-exec-4] INFO  c.a.c.ai.manus.subplan.service.SubplanToolService(SubplanToolService.java 93) -Creating subplan tool callbacks for planId: 924c2aab-cbb8-473d-a4c3-c3685e264947, rootPlanId: 924c2aab-cbb8-473d-a4c3-c3685e264947
2025-09-19 09:32:49:372 [http-nio-18080-exec-4] INFO  c.a.c.ai.manus.subplan.service.SubplanToolService(SubplanToolService.java 106) -Found 4 subplan tools to register
2025-09-19 09:32:49:376 [http-nio-18080-exec-4] INFO  c.a.c.ai.manus.subplan.service.SubplanToolService(SubplanToolService.java 130) -Successfully registered subplan tool: extract_relevant_content -> extract_relevant_content_template
2025-09-19 09:32:49:377 [http-nio-18080-exec-4] INFO  c.a.c.ai.manus.subplan.service.SubplanToolService(SubplanToolService.java 130) -Successfully registered subplan tool: searchShenxun -> planTemplate-1758087694822
2025-09-19 09:32:49:377 [http-nio-18080-exec-4] INFO  c.a.c.ai.manus.subplan.service.SubplanToolService(SubplanToolService.java 130) -Successfully registered subplan tool: summaryResult -> planTemplate-1758202965673
2025-09-19 09:32:49:378 [http-nio-18080-exec-4] INFO  c.a.c.ai.manus.subplan.service.SubplanToolService(SubplanToolService.java 130) -Successfully registered subplan tool: summaryStructure -> planTemplate-1758202965693
2025-09-19 09:32:49:378 [http-nio-18080-exec-4] INFO  c.a.c.ai.manus.subplan.service.SubplanToolService(SubplanToolService.java 144) -Created 4 subplan tool callbacks
2025-09-19 09:32:49:393 [http-nio-18080-exec-4] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 314) -Registered 4 subplan tools
2025-09-19 09:32:49:395 [http-nio-18080-exec-4] INFO  c.a.cloud.ai.manus.mcp.service.McpCacheManager(McpCacheManager.java 553) -Cache invalidation requested for plan: 924c2aab-cbb8-473d-a4c3-c3685e264947, but using double buffer mechanism - no action needed
2025-09-19 09:32:52:650 [http-nio-18080-exec-9] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244865687
2025-09-19 09:32:55:686 [http-nio-18080-exec-3] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758244865687
2025-09-19 09:32:57:321 [http-nio-18080-exec-8] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: browser_use
2025-09-19 09:32:57:321 [http-nio-18080-exec-8] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: database_use
2025-09-19 09:32:57:321 [http-nio-18080-exec-8] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: terminate
2025-09-19 09:32:57:321 [http-nio-18080-exec-8] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: bash
2025-09-19 09:32:57:322 [http-nio-18080-exec-8] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: doc_loader
2025-09-19 09:32:57:322 [http-nio-18080-exec-8] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: text_file_operator
2025-09-19 09:32:57:322 [http-nio-18080-exec-8] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: table_processor
2025-09-19 09:32:57:322 [http-nio-18080-exec-8] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: file_merge_tool
2025-09-19 09:32:57:322 [http-nio-18080-exec-8] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: form_input
2025-09-19 09:32:57:322 [http-nio-18080-exec-8] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: data_split_tool
2025-09-19 09:32:57:322 [http-nio-18080-exec-8] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: map_output_tool
2025-09-19 09:32:57:322 [http-nio-18080-exec-8] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: reduce_operation_tool
2025-09-19 09:32:57:323 [http-nio-18080-exec-8] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: mapreduce_finalize_tool
2025-09-19 09:32:57:323 [http-nio-18080-exec-8] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: cron_tool
2025-09-19 09:32:57:323 [http-nio-18080-exec-8] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: excel_processor
2025-09-19 09:32:57:324 [http-nio-18080-exec-8] INFO  c.a.c.ai.manus.subplan.service.SubplanToolService(SubplanToolService.java 93) -Creating subplan tool callbacks for planId: 8be6bbd6-33d5-4a9a-b331-a77c00b39c65, rootPlanId: 8be6bbd6-33d5-4a9a-b331-a77c00b39c65
2025-09-19 09:32:57:329 [http-nio-18080-exec-8] INFO  c.a.c.ai.manus.subplan.service.SubplanToolService(SubplanToolService.java 106) -Found 4 subplan tools to register
2025-09-19 09:32:57:330 [http-nio-18080-exec-8] INFO  c.a.c.ai.manus.subplan.service.SubplanToolService(SubplanToolService.java 130) -Successfully registered subplan tool: extract_relevant_content -> extract_relevant_content_template
2025-09-19 09:32:57:331 [http-nio-18080-exec-8] INFO  c.a.c.ai.manus.subplan.service.SubplanToolService(SubplanToolService.java 130) -Successfully registered subplan tool: searchShenxun -> planTemplate-1758087694822
2025-09-19 09:32:57:331 [http-nio-18080-exec-8] INFO  c.a.c.ai.manus.subplan.service.SubplanToolService(SubplanToolService.java 130) -Successfully registered subplan tool: summaryResult -> planTemplate-1758202965673
2025-09-19 09:32:57:331 [http-nio-18080-exec-8] INFO  c.a.c.ai.manus.subplan.service.SubplanToolService(SubplanToolService.java 130) -Successfully registered subplan tool: summaryStructure -> planTemplate-1758202965693
2025-09-19 09:32:57:331 [http-nio-18080-exec-8] INFO  c.a.c.ai.manus.subplan.service.SubplanToolService(SubplanToolService.java 144) -Created 4 subplan tool callbacks
2025-09-19 09:32:57:333 [http-nio-18080-exec-8] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 314) -Registered 4 subplan tools
2025-09-19 09:32:57:334 [http-nio-18080-exec-8] INFO  c.a.cloud.ai.manus.mcp.service.McpCacheManager(McpCacheManager.java 553) -Cache invalidation requested for plan: 8be6bbd6-33d5-4a9a-b331-a77c00b39c65, but using double buffer mechanism - no action needed
2025-09-19 09:33:00:607 [http-nio-18080-exec-10] INFO  c.a.c.a.m.c.controller.CoordinatorToolController(CoordinatorToolController.java 116) -Getting or creating coordinator tool for plan template: planTemplate-1758202965693
2025-09-19 09:33:00:654 [http-nio-18080-exec-3] INFO  c.a.cloud.ai.manus.model.service.ModelServiceImpl(ModelServiceImpl.java 432) -Sending HTTP request to: https://dashscope.aliyuncs.com/compatible-mode/v1/models
2025-09-19 09:33:01:034 [http-nio-18080-exec-3] INFO  c.a.cloud.ai.manus.model.service.ModelServiceImpl(ModelServiceImpl.java 442) -HTTP request completed - Status code: 200, Duration: 380ms
2025-09-19 09:33:01:034 [http-nio-18080-exec-3] INFO  c.a.cloud.ai.manus.model.service.ModelServiceImpl(ModelServiceImpl.java 321) -Successfully parsed response, obtained 97 available models
2025-09-19 09:33:01:035 [http-nio-18080-exec-3] INFO  c.a.cloud.ai.manus.model.service.ModelServiceImpl(ModelServiceImpl.java 447) -Successfully parsed response, obtained 97 models
2025-09-19 09:33:03:423 [http-nio-18080-exec-6] INFO  c.a.c.ai.manus.runtime.controller.ManusController(ManusController.java 230) -ðŸ”— [HTTP] Received query request from HTTP client: 
2025-09-19 09:33:03:427 [http-nio-18080-exec-6] INFO  c.a.c.ai.manus.runtime.controller.ManusController(ManusController.java 244) -Tool not published, using toolName as planTemplateId: planTemplate-1758202965693
2025-09-19 09:33:03:429 [http-nio-18080-exec-6] INFO  c.a.c.ai.manus.runtime.controller.ManusController(ManusController.java 546) -Replacing parameter placeholders in plan template with input parameters: [planId]
2025-09-19 09:33:03:466 [http-nio-18080-exec-6] INFO  c.a.c.ai.manus.runtime.service.PlanningCoordinator(PlanningCoordinator.java 156) -Starting direct plan execution for plan: null
2025-09-19 09:33:03:466 [http-nio-18080-exec-6] INFO  c.a.c.a.m.r.executor.factory.PlanExecutorFactory(PlanExecutorFactory.java 162) -Creating executor for plan type: dynamic_agent (planId: null)
2025-09-19 09:33:03:476 [http-nio-18080-exec-6] INFO  c.a.c.a.m.runtime.executor.LevelBasedExecutorPool(LevelBasedExecutorPool.java 207) -Created executor pool for depth level 0: level-0-executor-0 (core: 5, max: 20, queue: 100)
2025-09-19 09:33:03:519 [level-0-executor-0-thread-1] INFO  c.a.c.a.m.r.service.NewRepoPlanExecutionRecorder(NewRepoPlanExecutionRecorder.java 822) -Successfully created plan relationship for currentPlanId: plan-1758245583427, parentPlanId: null, rootPlanId: plan-1758245583427
2025-09-19 09:33:03:519 [level-0-executor-0-thread-1] INFO  c.a.c.a.m.r.service.NewRepoPlanExecutionRecorder(NewRepoPlanExecutionRecorder.java 148) -Successfully saved plan execution record for ID: plan-1758245583427 with 1 steps
2025-09-19 09:33:03:531 [level-0-executor-0-thread-1] INFO  c.a.cloud.ai.manus.agent.service.AgentServiceImpl(AgentServiceImpl.java 349) -Create new BaseAgent: ConfigurableDynaAgent, planId: plan-1758245583427
2025-09-19 09:33:03:531 [level-0-executor-0-thread-1] INFO  c.a.cloud.ai.manus.agent.service.AgentServiceImpl(AgentServiceImpl.java 204) -No model entity provided for ConfigurableDynaAgent, using null model
2025-09-19 09:33:03:534 [level-0-executor-0-thread-1] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: browser_use
2025-09-19 09:33:03:535 [level-0-executor-0-thread-1] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: database_use
2025-09-19 09:33:03:535 [level-0-executor-0-thread-1] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: terminate
2025-09-19 09:33:03:535 [level-0-executor-0-thread-1] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: bash
2025-09-19 09:33:03:536 [level-0-executor-0-thread-1] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: doc_loader
2025-09-19 09:33:03:536 [level-0-executor-0-thread-1] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: text_file_operator
2025-09-19 09:33:03:536 [level-0-executor-0-thread-1] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: table_processor
2025-09-19 09:33:03:536 [level-0-executor-0-thread-1] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: file_merge_tool
2025-09-19 09:33:03:536 [level-0-executor-0-thread-1] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: form_input
2025-09-19 09:33:03:536 [level-0-executor-0-thread-1] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: data_split_tool
2025-09-19 09:33:03:536 [level-0-executor-0-thread-1] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: map_output_tool
2025-09-19 09:33:03:536 [level-0-executor-0-thread-1] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: reduce_operation_tool
2025-09-19 09:33:03:536 [level-0-executor-0-thread-1] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: mapreduce_finalize_tool
2025-09-19 09:33:03:536 [level-0-executor-0-thread-1] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: cron_tool
2025-09-19 09:33:03:536 [level-0-executor-0-thread-1] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: excel_processor
2025-09-19 09:33:03:537 [level-0-executor-0-thread-1] INFO  c.a.c.ai.manus.subplan.service.SubplanToolService(SubplanToolService.java 93) -Creating subplan tool callbacks for planId: plan-1758245583427, rootPlanId: plan-1758245583427
2025-09-19 09:33:03:538 [level-0-executor-0-thread-1] INFO  c.a.c.ai.manus.subplan.service.SubplanToolService(SubplanToolService.java 106) -Found 4 subplan tools to register
2025-09-19 09:33:03:538 [level-0-executor-0-thread-1] INFO  c.a.c.ai.manus.subplan.service.SubplanToolService(SubplanToolService.java 130) -Successfully registered subplan tool: extract_relevant_content -> extract_relevant_content_template
2025-09-19 09:33:03:538 [level-0-executor-0-thread-1] INFO  c.a.c.ai.manus.subplan.service.SubplanToolService(SubplanToolService.java 130) -Successfully registered subplan tool: searchShenxun -> planTemplate-1758087694822
2025-09-19 09:33:03:538 [level-0-executor-0-thread-1] INFO  c.a.c.ai.manus.subplan.service.SubplanToolService(SubplanToolService.java 130) -Successfully registered subplan tool: summaryResult -> planTemplate-1758202965673
2025-09-19 09:33:03:539 [level-0-executor-0-thread-1] INFO  c.a.c.ai.manus.subplan.service.SubplanToolService(SubplanToolService.java 130) -Successfully registered subplan tool: summaryStructure -> planTemplate-1758202965693
2025-09-19 09:33:03:539 [level-0-executor-0-thread-1] INFO  c.a.c.ai.manus.subplan.service.SubplanToolService(SubplanToolService.java 144) -Created 4 subplan tool callbacks
2025-09-19 09:33:03:539 [level-0-executor-0-thread-1] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 314) -Registered 4 subplan tools
2025-09-19 09:33:03:554 [level-0-executor-0-thread-1] INFO  c.a.c.a.m.r.service.NewRepoPlanExecutionRecorder(NewRepoPlanExecutionRecorder.java 329) -Successfully recorded step start for stepId: step-784121bb-7d76-47f7-ad0f-0a0634d82b6f, planId: plan-1758245583427, status: RUNNING
2025-09-19 09:33:03:554 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 1/40
2025-09-19 09:33:03:554 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:33:03:555 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758245583427
- Available files: None

2025-09-19 09:33:03:555 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:33:03:555 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
No operation performed yet

2025-09-19 09:33:03:555 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:33:03:555 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758245583427
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:33:03:555 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:33:05:534 [boundedElastic-1] INFO  c.a.cloud.ai.manus.llm.StreamingResponseHandler(StreamingResponseHandler.java 258) -âœ… Agent ConfigurableDynaAgent thinking - Completed[1937ms]: 1 responses processed, 0 characters, 1 tool calls, 0 prompt tokens, 0 completion tokens, 0 total tokens. Preview: '(empty)'
2025-09-19 09:33:05:544 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 196) -âœ¨ ConfigurableDynaAgent's thoughts: 
2025-09-19 09:33:05:544 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 197) -ðŸ› ï¸ ConfigurableDynaAgent selected 1 tools to use
2025-09-19 09:33:05:544 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 200) -ðŸ§° Tools being prepared: [text_file_operator]
2025-09-19 09:33:05:561 [level-0-executor-0-thread-1] INFO  c.a.c.a.m.r.service.NewRepoPlanExecutionRecorder(NewRepoPlanExecutionRecorder.java 429) -Successfully recorded thinking and action for stepId: step-784121bb-7d76-47f7-ad0f-0a0634d82b6f, thinkActRecordId: 243
2025-09-19 09:33:05:565 [level-0-executor-0-thread-1] INFO  c.a.c.ai.manus.tool.textOperator.TextFileOperator(TextFileOperator.java 211) -TextFileOperator input: action=get_all_text, filePath=/Users/whisper/Downloads/html.md
2025-09-19 09:33:05:577 [level-0-executor-0-thread-1] INFO  c.a.c.a.m.t.innerStorage.SmartContentSavingService(SmartContentSavingService.java 112) -Processing content for plan plan-1758245583427: content length = 2404, threshold = 20000, infinite context enabled
2025-09-19 09:33:05:577 [level-0-executor-0-thread-1] INFO  c.a.c.a.m.t.innerStorage.SmartContentSavingService(SmartContentSavingService.java 117) -Content length 2404 is within threshold 20000, returning original content
2025-09-19 09:33:05:579 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 327) -Tool text_file_operator executed successfully for planId: plan-1758245583427
2025-09-19 09:33:05:590 [level-0-executor-0-thread-1] INFO  c.a.c.a.m.r.service.NewRepoPlanExecutionRecorder(NewRepoPlanExecutionRecorder.java 504) -Successfully processed action results, processed 1 tools
2025-09-19 09:33:05:591 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: in_progress
2025-09-19 09:33:05:591 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 220) -Executing round 2/40
2025-09-19 09:33:05:591 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: file_merge_tool
2025-09-19 09:33:05:592 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'file_merge_tool' env data: FileMerge current status:
- Storage root directory: /Users/whisper/Downloads/project/spring-ai-alibaba/spring-ai-alibaba-jmanus/extensions/inner_storage/plan-1758245583427
- Available files: None

2025-09-19 09:33:05:592 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: text_file_operator
2025-09-19 09:33:05:592 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'text_file_operator' env data: Current Text File Operation State:
- Error getting working directory: filePath cannot be null or empty

- Last Operation Result:
Success: Retrieved all text

2025-09-19 09:33:05:592 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 549) -ðŸ” collectEnvData called for tool: terminate
2025-09-19 09:33:05:592 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 553) -ðŸ“Š Tool 'terminate' env data: Termination Tool Status:
- Current State: âš¡ Active
- Last Termination: No termination recorded
- Termination Message: N/A
- Timestamp: N/A
- Plan ID: plan-1758245583427
- Expected Return Info: url,è¯´æ˜Ž

2025-09-19 09:33:05:592 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 147) -Attempt 1/3: Executing agent thinking process
2025-09-19 09:33:08:533 [http-nio-18080-exec-8] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758245583427
2025-09-19 09:33:09:855 [http-nio-18080-exec-7] INFO  c.a.c.ai.manus.runtime.controller.ManusController(ManusController.java 597) -Fetching agent execution detail for stepId: step-784121bb-7d76-47f7-ad0f-0a0634d82b6f
2025-09-19 09:33:09:875 [http-nio-18080-exec-7] INFO  c.a.c.a.m.r.service.NewRepoPlanExecutionRecorder(NewRepoPlanExecutionRecorder.java 670) -Successfully fetched agent execution detail for stepId: step-784121bb-7d76-47f7-ad0f-0a0634d82b6f with 1 think-act steps
2025-09-19 09:33:09:875 [http-nio-18080-exec-7] INFO  c.a.c.ai.manus.runtime.controller.ManusController(ManusController.java 605) -Successfully retrieved agent execution detail for stepId: step-784121bb-7d76-47f7-ad0f-0a0634d82b6f
2025-09-19 09:33:13:536 [http-nio-18080-exec-4] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758245583427
2025-09-19 09:33:18:560 [http-nio-18080-exec-10] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758245583427
2025-09-19 09:33:23:531 [http-nio-18080-exec-1] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758245583427
2025-09-19 09:33:28:537 [http-nio-18080-exec-2] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758245583427
2025-09-19 09:33:33:536 [http-nio-18080-exec-9] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758245583427
2025-09-19 09:33:36:017 [boundedElastic-1] INFO  c.a.cloud.ai.manus.llm.StreamingResponseHandler(StreamingResponseHandler.java 248) -ðŸ”„ Agent ConfigurableDynaAgent thinking - Progress[30420ms]: 1 responses received, 0 characters, 1 tool calls. Preview: '(empty)'
2025-09-19 09:33:36:021 [boundedElastic-1] INFO  c.a.cloud.ai.manus.llm.StreamingResponseHandler(StreamingResponseHandler.java 258) -âœ… Agent ConfigurableDynaAgent thinking - Completed[30424ms]: 1 responses processed, 0 characters, 1 tool calls, 0 prompt tokens, 0 completion tokens, 0 total tokens. Preview: '(empty)'
2025-09-19 09:33:36:022 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 196) -âœ¨ ConfigurableDynaAgent's thoughts: 
2025-09-19 09:33:36:023 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 197) -ðŸ› ï¸ ConfigurableDynaAgent selected 1 tools to use
2025-09-19 09:33:36:023 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 200) -ðŸ§° Tools being prepared: [terminate]
2025-09-19 09:33:36:033 [level-0-executor-0-thread-1] INFO  c.a.c.a.m.r.service.NewRepoPlanExecutionRecorder(NewRepoPlanExecutionRecorder.java 429) -Successfully recorded thinking and action for stepId: step-784121bb-7d76-47f7-ad0f-0a0634d82b6f, thinkActRecordId: 244
2025-09-19 09:33:38:649 [http-nio-18080-exec-3] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758245583427
2025-09-19 09:33:43:538 [http-nio-18080-exec-5] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758245583427
2025-09-19 09:33:48:534 [http-nio-18080-exec-6] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758245583427
2025-09-19 09:33:53:502 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.tool.TerminateTool(TerminateTool.java 193) -Terminate with input: {message=[{url=http://www.baidu.com/link?url=sbh8H_j1e1fWtMjWRQQDCfT69I6-LRP6iPIB2VDZ-lVt1dqW7k0BLfCIiLB42Ad5mpObES2eGGxKKl_r-ab_nz6phb7tuCIKETMsfQgTi_3, è¯´æ˜Ž=çŽ‹æ™¶æ˜±(èŠ±å:æ²ˆè¯¢),é˜¿é‡Œå·´å·´èµ„æ·±ä¸“å®¶,2008å¹´åŠ å…¥æ·˜å®,ä¹‹åŽä¸€ç›´åœ¨ä¸­é—´ä»¶å’Œç¨³å®šæ€§å¹³å°å·¥ä½œè‡³ä»Šã€‚ç›®å‰è´Ÿè´£é˜¿é‡Œåˆ†å¸ƒå¼æ•°æ®åº“,ä¹‹å‰å«TDDL,çŽ°åœ¨è¿ç”¨åˆ°é˜¿é‡Œäº‘ä¸Šæ”¹åä¸ºDRDSã€‚æ­¤å¤–,ä»–è¿˜è´Ÿè´£é˜¿é‡Œçš„åˆ†å¸ƒå¼æ¶ˆæ¯æœåŠ¡(Notify/MetaQ),ä»¥åŠé˜¿é‡Œä¼ä¸šçº§äº’è”ç½‘æž¶æž„å¹³å°çš„æ–°äº§å“ç ”å‘å·¥ä½œã€‚}, {url=http://www.baidu.com/link?url=Y2GwvCx-EhJ9xft18aGkO-jIB9Vse6CV7fEB_3blVBWg1AyFwz1n2GTeHi-YgUPo, è¯´æ˜Ž=çŽ‹æ™¶æ˜±èŠ±åæ²ˆè¯¢,é˜¿é‡Œé«˜çº§ä¸“å®¶,æ¥è‡ªé˜¿é‡Œå·´å·´ä¸­é—´ä»¶å’Œç¨³å®šæ€§å¹³å°ã€‚ç›®å‰ä¸»è¦è´Ÿè´£é˜¿é‡Œçš„åˆ†å¸ƒå¼æ•°æ®åº“DRDS(TDDL)å’Œé˜¿é‡Œçš„åˆ†å¸ƒå¼æ¶ˆæ¯æœåŠ¡ONS(RocketMQ/Notify)ä¸¤ä¸ªç³»ç»Ÿã€‚}, {url=http://www.baidu.com/link?url=Y2GwvCx-EhJ9xft18aGkOxmJL09HMkznrYRM0famBzgyrpX5_L3ydbQK7RY6eq9T, è¯´æ˜Ž=çŽ‹æ™¶æ˜±(èŠ±å:æ²ˆè¯¢),é˜¿é‡Œå·´å·´èµ„æ·±ä¸“å®¶,2008å¹´åŠ å…¥æ·˜å®,ä¹‹åŽä¸€ç›´åœ¨ä¸­é—´ä»¶å’Œç¨³å®šæ€§å¹³å°å·¥ä½œè‡³ä»Šã€‚ç›®å‰è´Ÿè´£é˜¿é‡Œåˆ†å¸ƒå¼æ•°æ®åº“,ä¹‹å‰å«TDDL,çŽ°åœ¨è¿ç”¨åˆ°é˜¿é‡Œäº‘ä¸Šæ”¹åä¸ºDRDSã€‚æ­¤å¤–,ä»–è¿˜è´Ÿè´£é˜¿é‡Œçš„åˆ†å¸ƒå¼æ¶ˆæ¯æœåŠ¡(Notify/MetaQ),ä»¥åŠé˜¿é‡Œä¼ä¸šçº§äº’è”ç½‘æž¶æž„å¹³å°çš„æ–°äº§å“ç ”å‘å·¥ä½œã€‚}, {url=http://www.baidu.com/link?url=sbh8H_j1e1fWtMjWRQQDChdhoq2SLo699o2iSGfP329Q0nRBNskKa9LwKphGQbkF0Y4LvWJ9AW_a_8vcAGA-V8ez7cQkA3KQd3CoH2vli-e, è¯´æ˜Ž=è®²è¿°äº†é˜¿é‡Œå·´å·´èµ„æ·±æŠ€æœ¯ä¸“å®¶æ²ˆè¯¢åœ¨é˜¿é‡Œçš„å…«å¹´æˆé•¿åŽ†ç¨‹,ä»Žä¸€ä¸ªæŠ€æœ¯æ–°äººæˆé•¿ä¸ºåˆ†å¸ƒå¼æ•°æ®åº“DRDSçš„ä¸“å®¶,æœŸé—´å‚ä¸Žäº†åŒåä¸€èƒŒåŽçš„æŠ€æœ¯æ”¯æŒå·¥ä½œã€‚}, {url=http://www.baidu.com/link?url=WVHTrH3v6SZVhfoc9dXUYUcgtBBhkxC_E7vg_3cEbtiiN5O7CcgJ3FhEvPQAyZfIQYrgxKPoV-4VY-VARf7xKq, è¯´æ˜Ž=æ²ˆè¯¢å…¶äºº é˜¿é‡Œå·´å·´ä¸­é—´ä»¶èµ„æ·±ä¸“å®¶æ²ˆè¯¢(èŠ±å)çŽ°åœ¨å›žå¤´çœ‹,å½“å¹´è‡ªå·±æ˜¯ç¨€é‡Œç³Šæ¶‚é€‰å¯¹äº†å…¬å¸ã€‚è¯»å¤§å­¦æ—¶,ä»–å¯¹ç”µå•†åœ¨ä¸­å›½çš„å‰æ™¯å……æ»¡ç–‘æƒ‘ã€‚æ¯å½“ä»–æƒ³åˆ°â€œæ¥¼ä¸‹å°±æ˜¯å®¶ä¹ç¦æˆ‘ä¸ºä»€ä¹ˆè¦åˆ°ç½‘ä¸Šä¹°...}, {url=http://www.baidu.com/link?url=sbh8H_j1e1fWtMjWRQQDChdhoq2SLo699o2iSGfP329Q0nRBNskKa9LwKphGQbkFdJXxmGhKkG6rrE0dAf0m4CGBGn_XOujOxAd8m8itFR3, è¯´æ˜Ž=çŽ‹æ™¶æ˜±èŠ±åæ²ˆè¯¢,é˜¿é‡Œé«˜çº§ä¸“å®¶,æ¥è‡ªé˜¿é‡Œå·´å·´ä¸­é—´ä»¶å’Œç¨³å®šæ€§å¹³å°ã€‚ç›®å‰ä¸»è¦è´Ÿè´£é˜¿é‡Œçš„åˆ†å¸ƒå¼æ•°æ®åº“DRDS(TDDL)å’Œé˜¿é‡Œçš„åˆ†å¸ƒå¼æ¶ˆæ¯æœåŠ¡ONS(RocketMQ/Notify)ä¸¤ä¸ªç³»ç»Ÿã€‚}, {url=http://www.baidu.com/link?url=Cg8qgC7Q1S8qt4yzQkztimtxnt38rK5KQzD63Q0fwmsiPmbRDaUwEO-CM0ZaMu3_CF2ePo970jyLWEJ31l7DoK, è¯´æ˜Ž=æ²ˆè¯¢åœ¨æ·˜å®å·¥ä½œå…«å¹´é—´,ä¸»è¦è´Ÿè´£çš„äº§å“æœ‰æ·˜å®åˆ†å¸ƒå¼æ•°æ®åº“(TDDL/DRDS)ã€åˆ†å¸ƒå¼æ¶ˆæ¯ç³»ç»Ÿ(Notify/ONS)ç­‰,æ•…å¯¹æ•´ä¸ªåˆ†å¸ƒå¼çš„äº’è”ç½‘æž¶æž„æ¯”è¾ƒäº†è§£ã€‚}, {url=http://www.baidu.com/link?url=sbh8H_j1e1fWtMjWRQQDCg2KBkGkXdXolXN7OkJbTMWY7hJ_YvXdo0N_4fu0rIbW7i0pg2DX4OrjE2ph5mFiPa, è¯´æ˜Ž=ä½œä¸ºé˜¿é‡Œæ ¸å¿ƒçš„ä¸­é—´ä»¶åˆæ˜¯å¦‚ä½•æ¼”å˜æˆâ€œå¤šç‚¹å¼€èŠ±â€çš„ç››ä¸–?å®ƒä»¬åˆæ˜¯å¦‚ä½•ä¸ºé˜¿é‡Œçš„åŒ11å¤§æˆ˜ä¿é©¾æŠ¤èˆªçš„å‘¢?æœ¬æœŸåäººå ‚æˆ‘ä»¬é‚€è¯·åˆ°äº†é˜¿é‡Œèµ„æ·±ä¸“å®¶æ²ˆæ´µåé•‡,ä¸ºæˆ‘ä»¬æ­æ™“åŒ11èƒŒåŽçš„é‚£äº›æŠ€æœ¯ã€‚}, {url=http://www.baidu.com/link?url=CqfL88ek7keZjAjj5m9DXe_oM9QjAum-P0wi3pCVm1xqdxYD1kadfYTdbFR6sQyalZHFBmVSnT5RUVIeqfW66a, è¯´æ˜Ž=çŽ‹æ™¶æ˜±(èŠ±å:æ²ˆè¯¢),é˜¿é‡Œé›†å›¢ä¸­é—´ä»¶èµ„æ·±æŠ€æœ¯ä¸“å®¶ é’ŸåŽ(èŠ±å:å¤è°¦),é˜¿é‡Œé›†å›¢ä¸­é—´ä»¶é«˜çº§æŠ€æœ¯ä¸“å®¶ ä¸‹é¢æ˜¯é‡‡è®¿å†…å®¹æ•´ç†ã€‚}]}
2025-09-19 09:33:53:530 [http-nio-18080-exec-8] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758245583427
2025-09-19 09:33:58:534 [http-nio-18080-exec-7] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758245583427
2025-09-19 09:34:03:541 [http-nio-18080-exec-4] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758245583427
2025-09-19 09:34:06:488 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.DynamicAgent(DynamicAgent.java 313) -TerminableTool can terminate for planId: plan-1758245583427
2025-09-19 09:34:06:495 [level-0-executor-0-thread-1] INFO  c.a.c.a.m.r.service.NewRepoPlanExecutionRecorder(NewRepoPlanExecutionRecorder.java 504) -Successfully processed action results, processed 1 tools
2025-09-19 09:34:06:496 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.agent.BaseAgent(BaseAgent.java 230) -Agent state: completed
2025-09-19 09:34:06:502 [level-0-executor-0-thread-1] INFO  c.a.c.a.m.r.service.NewRepoPlanExecutionRecorder(NewRepoPlanExecutionRecorder.java 579) -Successfully recorded complete agent execution for stepId: step-784121bb-7d76-47f7-ad0f-0a0634d82b6f, final status: FINISHED
2025-09-19 09:34:06:507 [level-0-executor-0-thread-1] INFO  c.a.c.a.m.r.service.NewRepoPlanExecutionRecorder(NewRepoPlanExecutionRecorder.java 377) -Successfully recorded step end for stepId: step-784121bb-7d76-47f7-ad0f-0a0634d82b6f, planId: plan-1758245583427, status: FINISHED
2025-09-19 09:34:06:511 [level-0-executor-0-thread-1] INFO  c.a.c.a.m.r.service.NewRepoPlanExecutionRecorder(NewRepoPlanExecutionRecorder.java 377) -Successfully recorded step end for stepId: step-784121bb-7d76-47f7-ad0f-0a0634d82b6f, planId: plan-1758245583427, status: FINISHED
2025-09-19 09:34:06:513 [level-0-executor-0-thread-1] INFO  c.a.cloud.ai.manus.tool.browser.BrowserUseTool(BrowserUseTool.java 556) -Cleaning up Chrome resources for plan: plan-1758245583427
2025-09-19 09:34:06:513 [level-0-executor-0-thread-1] INFO  c.a.cloud.ai.manus.tool.mapreduce.MapOutputTool(MapOutputTool.java 388) -MapOutputTool cleanup completed for planId: plan-1758245583427
2025-09-19 09:34:06:513 [level-0-executor-0-thread-1] INFO  c.a.cloud.ai.manus.tool.database.DatabaseUseTool(DatabaseUseTool.java 188) -Cleaning up database resources for plan: plan-1758245583427
2025-09-19 09:34:06:513 [level-0-executor-0-thread-1] INFO  c.a.cloud.ai.manus.tool.database.DataSourceService(DataSourceService.java 176) -Closing all datasource connections
2025-09-19 09:34:06:513 [level-0-executor-0-thread-1] INFO  c.a.cloud.ai.manus.tool.database.DatabaseUseTool(DatabaseUseTool.java 192) -Successfully cleaned up database connections for plan: plan-1758245583427
2025-09-19 09:34:06:513 [level-0-executor-0-thread-1] INFO  c.a.c.a.m.tool.tableProcessor.TableProcessorTool(TableProcessorTool.java 467) -Cleaning up table processing resources for plan: plan-1758245583427
2025-09-19 09:34:06:514 [level-0-executor-0-thread-1] INFO  c.a.c.a.m.t.tableProcessor.TableProcessingService(TableProcessingService.java 769) -Cleaned up table processing resources for plan: plan-1758245583427
2025-09-19 09:34:06:514 [level-0-executor-0-thread-1] INFO  c.a.cloud.ai.manus.tool.mapreduce.FinalizeTool(FinalizeTool.java 315) -FinalizeTool cleanup completed for planId: plan-1758245583427
2025-09-19 09:34:06:514 [level-0-executor-0-thread-1] INFO  c.a.cloud.ai.manus.tool.innerStorage.FileMergeTool(FileMergeTool.java 263) -FileMergeTool cleanup for plan: plan-1758245583427
2025-09-19 09:34:06:514 [level-0-executor-0-thread-1] INFO  c.a.cloud.ai.manus.tool.mapreduce.DataSplitTool(DataSplitTool.java 526) -DataSplitTool cleanup completed for planId: plan-1758245583427
2025-09-19 09:34:06:514 [level-0-executor-0-thread-1] INFO  c.a.c.ai.manus.tool.mapreduce.ReduceOperationTool(ReduceOperationTool.java 311) -ReduceOperationTool cleanup completed for planId: plan-1758245583427
2025-09-19 09:34:06:514 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.tool.bash.Bash(Bash.java 166) -Cleaned up resources for plan: plan-1758245583427
2025-09-19 09:34:06:514 [level-0-executor-0-thread-1] INFO  c.a.c.ai.manus.tool.textOperator.TextFileOperator(TextFileOperator.java 649) -Cleaning up text file resources for plan: plan-1758245583427
2025-09-19 09:34:06:514 [level-0-executor-0-thread-1] INFO  c.a.c.ai.manus.tool.textOperator.TextFileService(TextFileService.java 226) -Cleaned up resources for plan: plan-1758245583427
2025-09-19 09:34:06:514 [level-0-executor-0-thread-1] INFO  com.alibaba.cloud.ai.manus.tool.cron.CronTool(CronTool.java 165) -Cleaned up resources for plan: plan-1758245583427
2025-09-19 09:34:08:531 [http-nio-18080-exec-10] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758245583427
2025-09-19 09:34:13:544 [http-nio-18080-exec-1] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758245583427
2025-09-19 09:34:16:645 [boundedElastic-2] INFO  c.a.cloud.ai.manus.llm.StreamingResponseHandler(StreamingResponseHandler.java 248) -ðŸ”„ Summary generation - Progress[10122ms]: 107 responses received, 1138 characters, 0 tool calls. Preview: '{
  "request": "ç»“æž„åŒ–è¾“å‡º",
  "status": "completed",
  "data": [
    {
      "name": "çŽ‹æ™¶æ˜±",
      "nickn...'
2025-09-19 09:34:18:533 [http-nio-18080-exec-2] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758245583427
2025-09-19 09:34:23:535 [http-nio-18080-exec-9] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758245583427
2025-09-19 09:34:25:138 [boundedElastic-2] INFO  c.a.cloud.ai.manus.llm.StreamingResponseHandler(StreamingResponseHandler.java 258) -âœ… Summary generation - Completed[18615ms]: 208 responses processed, 1916 characters, 0 tool calls, 0 prompt tokens, 0 completion tokens, 0 total tokens. Preview: '{
  "request": "ç»“æž„åŒ–è¾“å‡º",
  "status": "completed",
  "data": [
    {
      "name": "çŽ‹æ™¶æ˜±",
      "nickname": "æ²ˆè¯¢",
      "company": "é˜¿é‡Œå·´å·´",
      "position": "èµ„æ·±ä¸“å®¶ / é«˜çº§ä¸“å®¶",
      "join_year": 2008,
     ...'
2025-09-19 09:34:25:144 [level-0-executor-0-thread-1] INFO  c.a.c.a.m.r.service.NewRepoPlanExecutionRecorder(NewRepoPlanExecutionRecorder.java 621) -Successfully recorded plan completion for currentPlanId: plan-1758245583427, completed: true, endTime: 2025-09-19T09:34:25.141378
2025-09-19 09:34:25:144 [level-0-executor-0-thread-1] INFO  c.a.cloud.ai.manus.planning.service.PlanFinalizer(PlanFinalizer.java 114) -Generated summary: {
  "request": "ç»“æž„åŒ–è¾“å‡º",
  "status": "completed",
  "data": [
    {
      "name": "çŽ‹æ™¶æ˜±",
      "nickname": "æ²ˆè¯¢",
      "company": "é˜¿é‡Œå·´å·´",
      "position": "èµ„æ·±ä¸“å®¶ / é«˜çº§ä¸“å®¶",
      "join_year": 2008,
      "department": "ä¸­é—´ä»¶å’Œç¨³å®šæ€§å¹³å°",
      "responsibilities": [
        "åˆ†å¸ƒå¼æ•°æ®åº“ DRDSï¼ˆåŽŸTDDLï¼‰",
        "åˆ†å¸ƒå¼æ¶ˆæ¯æœåŠ¡ ONSï¼ˆNotify/MetaQ/RocketMQï¼‰",
        "é˜¿é‡Œä¼ä¸šçº§äº’è”ç½‘æž¶æž„å¹³å°æ–°äº§å“ç ”å‘"
      ],
      "experience": "è‡ª2008å¹´åŠ å…¥æ·˜å®ä»¥æ¥ï¼Œé•¿æœŸè´Ÿè´£æ ¸å¿ƒä¸­é—´ä»¶ç³»ç»Ÿçš„ç ”å‘ä¸Žä¼˜åŒ–ï¼Œå‚ä¸ŽåŒåä¸€ç­‰é‡å¤§æŠ€æœ¯ä¿éšœå·¥ä½œï¼Œå¯¹åˆ†å¸ƒå¼äº’è”ç½‘æž¶æž„æœ‰æ·±å…¥ç†è§£ã€‚"
    },
    {
      "name": "é’ŸåŽ",
      "nickname": "å¤è°¦",
      "company": "é˜¿é‡Œé›†å›¢",
      "position": "ä¸­é—´ä»¶é«˜çº§æŠ€æœ¯ä¸“å®¶",
      "department": "ä¸­é—´ä»¶å›¢é˜Ÿ",
      "responsibilities": [],
      "experience": "ä¸Žæ²ˆè¯¢ä¸€åŒå‚ä¸Žä¸­é—´ä»¶ç›¸å…³æŠ€æœ¯è®¿è°ˆï¼Œå…·ä½“èŒè´£æœªè¯¦è¿°ã€‚"
    }
  ],
  "sources": [
    "http://www.baidu.com/link?url=sbh8H_j1e1fWtMjWRQQDCfT69I6-LRP6iPIB2VDZ-lVt1dqW7k0BLfCIiLB42Ad5mpObES2eGGxKKl_r-ab_nz6phb7tuCIKETMsfQgTi_3",
    "http://www.baidu.com/link?url=Y2GwvCx-EhJ9xft18aGkO-jIB9Vse6CV7fEB_3blVBWg1AyFwz1n2GTeHi-YgUPo",
    "http://www.baidu.com/link?url=Y2GwvCx-EhJ9xft18aGkOxmJL09HMkznrYRM0famBzgyrpX5_L3ydbQK7RY6eq9T",
    "http://www.baidu.com/link?url=sbh8H_j1e1fWtMjWRQQDChdhoq2SLo699o2iSGfP329Q0nRBNskKa9LwKphGQbkF0Y4LvWJ9AW_a_8vcAGA-V8ez7cQkA3KQd3CoH2vli-e",
    "http://www.baidu.com/link?url=WVHTrH3v6SZVhfoc9dXUYUcgtBBhkxC_E7vg_3cEbtiiN5O7CcgJ3FhEvPQAyZfIQYrgxKPoV-4VY-VARf7xKq",
    "http://www.baidu.com/link?url=sbh8H_j1e1fWtMjWRQQDChdhoq2SLo699o2iSGfP329Q0nRBNskKa9LwKphGQbkFdJXxmGhKkG6rrE0dAf0m4CGBGn_XOujOxAd8m8itFR3",
    "http://www.baidu.com/link?url=Cg8qgC7Q1S8qt4yzQkztimtxnt38rK5KQzD63Q0fwmsiPmbRDaUwEO-CM0ZaMu3_CF2ePo970jyLWEJ31l7DoK",
    "http://www.baidu.com/link?url=sbh8H_j1e1fWtMjWRQQDCg2KBkGkXdXolXN7OkJbTMWY7hJ_YvXdo0N_4fu0rIbW7i0pg2DX4OrjE2ph5mFiPa",
    "http://www.baidu.com/link?url=CqfL88ek7keZjAjj5m9DXe_oM9QjAum-P0wi3pCVm1xqdxYD1kadfYTdbFR6sQyalZHFBmVSnT5RUVIeqfW66a"
  ],
  "notes": "ä¿¡æ¯ä¸»è¦å›´ç»•çŽ‹æ™¶æ˜±ï¼ˆèŠ±åï¼šæ²ˆè¯¢ï¼‰çš„èŒä¸šèƒŒæ™¯å’ŒæŠ€æœ¯è´¡çŒ®å±•å¼€ï¼Œéƒ¨åˆ†å†…å®¹æåŠé’ŸåŽï¼ˆèŠ±åï¼šå¤è°¦ï¼‰ã€‚æ‰€æœ‰æ•°æ®æ¥æºäºŽæä¾›çš„æœç´¢ç»“æžœæ‘˜è¦ã€‚"
}

2025-09-19 09:34:25:145 [level-0-executor-0-thread-1] INFO  c.a.c.ai.manus.runtime.controller.ManusController(ManusController.java 272) -Async plan execution completed for planId: plan-1758245583427
2025-09-19 09:34:28:531 [http-nio-18080-exec-3] INFO  c.a.c.a.m.r.service.PlanHierarchyReaderService(PlanHierarchyReaderService.java 129) -Successfully converted root plan with 0 sub-plans for rootPlanId: plan-1758245583427
2025-09-19 09:34:56:787 [http-nio-18080-exec-5] INFO  c.a.c.ai.manus.runtime.controller.ManusController(ManusController.java 597) -Fetching agent execution detail for stepId: step-784121bb-7d76-47f7-ad0f-0a0634d82b6f
2025-09-19 09:34:56:793 [http-nio-18080-exec-5] INFO  c.a.c.a.m.r.service.NewRepoPlanExecutionRecorder(NewRepoPlanExecutionRecorder.java 670) -Successfully fetched agent execution detail for stepId: step-784121bb-7d76-47f7-ad0f-0a0634d82b6f with 2 think-act steps
2025-09-19 09:34:56:794 [http-nio-18080-exec-5] INFO  c.a.c.ai.manus.runtime.controller.ManusController(ManusController.java 605) -Successfully retrieved agent execution detail for stepId: step-784121bb-7d76-47f7-ad0f-0a0634d82b6f
2025-09-19 09:42:41:333 [McpCacheUpdateTask] INFO  c.a.cloud.ai.manus.mcp.service.McpCacheManager(McpCacheManager.java 344) -No MCP server configurations found
2025-09-19 09:42:41:335 [McpCacheUpdateTask] INFO  c.a.cloud.ai.manus.mcp.service.McpCacheManager(McpCacheManager.java 258) -Cache updated successfully via scheduled task, services count: 0
2025-09-19 09:52:41:298 [McpCacheUpdateTask] INFO  c.a.cloud.ai.manus.mcp.service.McpCacheManager(McpCacheManager.java 344) -No MCP server configurations found
2025-09-19 09:52:41:302 [McpCacheUpdateTask] INFO  c.a.cloud.ai.manus.mcp.service.McpCacheManager(McpCacheManager.java 258) -Cache updated successfully via scheduled task, services count: 0
2025-09-19 09:55:06:127 [http-nio-18080-exec-3] INFO  c.a.c.a.m.c.controller.CoordinatorToolController(CoordinatorToolController.java 116) -Getting or creating coordinator tool for plan template: planTemplate-1758202965693
2025-09-19 09:55:06:149 [http-nio-18080-exec-4] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: browser_use
2025-09-19 09:55:06:151 [http-nio-18080-exec-4] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: database_use
2025-09-19 09:55:06:153 [http-nio-18080-exec-4] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: terminate
2025-09-19 09:55:06:154 [http-nio-18080-exec-4] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: bash
2025-09-19 09:55:06:154 [http-nio-18080-exec-4] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: doc_loader
2025-09-19 09:55:06:154 [http-nio-18080-exec-4] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: text_file_operator
2025-09-19 09:55:06:154 [http-nio-18080-exec-4] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: table_processor
2025-09-19 09:55:06:156 [http-nio-18080-exec-4] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: file_merge_tool
2025-09-19 09:55:06:156 [http-nio-18080-exec-4] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: form_input
2025-09-19 09:55:06:156 [http-nio-18080-exec-4] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: data_split_tool
2025-09-19 09:55:06:156 [http-nio-18080-exec-4] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: map_output_tool
2025-09-19 09:55:06:156 [http-nio-18080-exec-4] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: reduce_operation_tool
2025-09-19 09:55:06:166 [http-nio-18080-exec-4] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: mapreduce_finalize_tool
2025-09-19 09:55:06:174 [http-nio-18080-exec-4] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: cron_tool
2025-09-19 09:55:06:177 [http-nio-18080-exec-4] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 298) -Registering tool: excel_processor
2025-09-19 09:55:06:189 [http-nio-18080-exec-4] INFO  c.a.c.ai.manus.subplan.service.SubplanToolService(SubplanToolService.java 93) -Creating subplan tool callbacks for planId: a44c8794-70d3-4da0-8a5b-4d963b344043, rootPlanId: a44c8794-70d3-4da0-8a5b-4d963b344043
2025-09-19 09:55:06:199 [http-nio-18080-exec-5] INFO  c.a.cloud.ai.manus.model.service.ModelServiceImpl(ModelServiceImpl.java 432) -Sending HTTP request to: https://dashscope.aliyuncs.com/compatible-mode/v1/models
2025-09-19 09:55:06:230 [http-nio-18080-exec-4] INFO  c.a.c.ai.manus.subplan.service.SubplanToolService(SubplanToolService.java 106) -Found 4 subplan tools to register
2025-09-19 09:55:06:232 [http-nio-18080-exec-4] INFO  c.a.c.ai.manus.subplan.service.SubplanToolService(SubplanToolService.java 130) -Successfully registered subplan tool: extract_relevant_content -> extract_relevant_content_template
2025-09-19 09:55:06:236 [http-nio-18080-exec-4] INFO  c.a.c.ai.manus.subplan.service.SubplanToolService(SubplanToolService.java 130) -Successfully registered subplan tool: searchShenxun -> planTemplate-1758087694822
2025-09-19 09:55:06:237 [http-nio-18080-exec-4] INFO  c.a.c.ai.manus.subplan.service.SubplanToolService(SubplanToolService.java 130) -Successfully registered subplan tool: summaryResult -> planTemplate-1758202965673
2025-09-19 09:55:06:238 [http-nio-18080-exec-4] INFO  c.a.c.ai.manus.subplan.service.SubplanToolService(SubplanToolService.java 130) -Successfully registered subplan tool: summaryStructure -> planTemplate-1758202965693
2025-09-19 09:55:06:238 [http-nio-18080-exec-4] INFO  c.a.c.ai.manus.subplan.service.SubplanToolService(SubplanToolService.java 144) -Created 4 subplan tool callbacks
2025-09-19 09:55:06:243 [http-nio-18080-exec-4] INFO  c.alibaba.cloud.ai.manus.planning.PlanningFactory(PlanningFactory.java 314) -Registered 4 subplan tools
2025-09-19 09:55:06:244 [http-nio-18080-exec-4] INFO  c.a.cloud.ai.manus.mcp.service.McpCacheManager(McpCacheManager.java 553) -Cache invalidation requested for plan: a44c8794-70d3-4da0-8a5b-4d963b344043, but using double buffer mechanism - no action needed
2025-09-19 09:55:06:498 [http-nio-18080-exec-5] INFO  c.a.cloud.ai.manus.model.service.ModelServiceImpl(ModelServiceImpl.java 442) -HTTP request completed - Status code: 200, Duration: 298ms
2025-09-19 09:55:06:498 [http-nio-18080-exec-5] INFO  c.a.cloud.ai.manus.model.service.ModelServiceImpl(ModelServiceImpl.java 321) -Successfully parsed response, obtained 97 available models
2025-09-19 09:55:06:498 [http-nio-18080-exec-5] INFO  c.a.cloud.ai.manus.model.service.ModelServiceImpl(ModelServiceImpl.java 447) -Successfully parsed response, obtained 97 models
2025-09-19 10:02:41:257 [McpCacheUpdateTask] INFO  c.a.cloud.ai.manus.mcp.service.McpCacheManager(McpCacheManager.java 344) -No MCP server configurations found
2025-09-19 10:02:41:260 [McpCacheUpdateTask] INFO  c.a.cloud.ai.manus.mcp.service.McpCacheManager(McpCacheManager.java 258) -Cache updated successfully via scheduled task, services count: 0
2025-09-19 10:12:41:224 [McpCacheUpdateTask] INFO  c.a.cloud.ai.manus.mcp.service.McpCacheManager(McpCacheManager.java 344) -No MCP server configurations found
2025-09-19 10:12:41:228 [McpCacheUpdateTask] INFO  c.a.cloud.ai.manus.mcp.service.McpCacheManager(McpCacheManager.java 258) -Cache updated successfully via scheduled task, services count: 0
2025-09-19 10:22:41:311 [McpCacheUpdateTask] INFO  c.a.cloud.ai.manus.mcp.service.McpCacheManager(McpCacheManager.java 344) -No MCP server configurations found
2025-09-19 10:22:41:315 [McpCacheUpdateTask] INFO  c.a.cloud.ai.manus.mcp.service.McpCacheManager(McpCacheManager.java 258) -Cache updated successfully via scheduled task, services count: 0
2025-09-19 10:32:41:284 [McpCacheUpdateTask] INFO  c.a.cloud.ai.manus.mcp.service.McpCacheManager(McpCacheManager.java 344) -No MCP server configurations found
2025-09-19 10:32:41:287 [McpCacheUpdateTask] INFO  c.a.cloud.ai.manus.mcp.service.McpCacheManager(McpCacheManager.java 258) -Cache updated successfully via scheduled task, services count: 0
