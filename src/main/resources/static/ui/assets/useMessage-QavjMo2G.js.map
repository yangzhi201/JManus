{"version":3,"file":"useMessage-QavjMo2G.js","sources":["../../src/components/modal/index.vue","../../src/components/toast/Toast.vue","../../src/plugins/useToast.ts","../../src/composables/useMessage.ts"],"sourcesContent":["<!-- \n * Copyright 2025 the original author or authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n-->\n<template>\n  <Teleport to=\"body\">\n    <Transition name=\"modal\">\n      <div v-if=\"modelValue\" class=\"modal-overlay\" @click=\"handleOverlayClick\">\n        <div class=\"modal-container\" @click.stop>\n          <div class=\"modal-header\">\n            <div class=\"header-content\">\n              <h3>{{ title }}</h3>\n              <!-- Status Icon -->\n              <div\n                v-if=\"statusIcon\"\n                class=\"status-icon\"\n                :class=\"statusIconClass\"\n                :title=\"statusIconTitle\"\n              >\n                <Icon :icon=\"statusIcon\" width=\"16\" />\n              </div>\n            </div>\n            <button class=\"close-btn\" @click=\"$emit('update:modelValue', false)\">\n              <Icon icon=\"carbon:close\" />\n            </button>\n          </div>\n          <div class=\"modal-content\">\n            <slot></slot>\n          </div>\n          <div class=\"modal-footer\">\n            <slot name=\"footer\">\n              <button class=\"cancel-btn\" @click=\"$emit('update:modelValue', false)\">\n                {{ $t('common.cancel') }}\n              </button>\n              <button class=\"confirm-btn\" @click=\"$emit('confirm')\">\n                {{ $t('common.confirm') }}\n              </button>\n            </slot>\n          </div>\n        </div>\n      </div>\n    </Transition>\n  </Teleport>\n</template>\n\n<script setup lang=\"ts\">\n// Define component name to satisfy Vue linting rules\ndefineOptions({\n  name: 'ModalDialog',\n})\nimport { Icon } from '@iconify/vue'\nimport { onMounted, onUnmounted } from 'vue'\n\nconst props = defineProps({\n  modelValue: {\n    type: Boolean,\n    required: true,\n  },\n  title: {\n    type: String,\n    default: '',\n  },\n  statusIcon: {\n    type: String,\n    default: '',\n  },\n  statusIconClass: {\n    type: String,\n    default: '',\n  },\n  statusIconTitle: {\n    type: String,\n    default: '',\n  },\n})\n\nconst emit = defineEmits(['update:modelValue', 'confirm'])\n\nconst handleOverlayClick = (e: MouseEvent) => {\n  if (e.target === e.currentTarget) {\n    e.stopPropagation()\n    e.preventDefault()\n  }\n}\n\nconst handleEscKey = (e: KeyboardEvent) => {\n  if (e.key === 'Escape' && props.modelValue) {\n    emit('update:modelValue', false)\n  }\n}\n\nonMounted(() => {\n  document.addEventListener('keydown', handleEscKey)\n})\n\nonUnmounted(() => {\n  document.removeEventListener('keydown', handleEscKey)\n})\n</script>\n\n<style scoped>\n.modal-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.7);\n  backdrop-filter: blur(4px);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 1000;\n}\n\n.modal-container {\n  background: linear-gradient(135deg, rgba(102, 126, 234, 0.1), rgba(118, 75, 162, 0.15));\n  border: 1px solid rgba(255, 255, 255, 0.1);\n  border-radius: 16px;\n  width: 90%;\n  max-width: 900px;\n  max-height: 90vh;\n  overflow-y: auto;\n  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);\n}\n\n.modal-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 20px 24px;\n  border-bottom: 1px solid rgba(255, 255, 255, 0.1);\n}\n\n.header-content {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  flex: 1;\n}\n\n.modal-header h3 {\n  margin: 0;\n  font-size: 18px;\n  font-weight: 500;\n  color: rgba(255, 255, 255, 0.9);\n}\n\n.status-icon {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 24px;\n  height: 24px;\n  border-radius: 50%;\n  transition: all 0.3s ease;\n}\n\n.status-icon.published {\n  color: #4ade80;\n  background: rgba(74, 222, 128, 0.1);\n}\n\n.status-icon.pending {\n  color: #fbbf24;\n  background: rgba(251, 191, 36, 0.1);\n}\n\n.close-btn {\n  background: none;\n  border: none;\n  color: rgba(255, 255, 255, 0.6);\n  cursor: pointer;\n  padding: 4px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: all 0.3s;\n}\n\n.close-btn:hover {\n  color: rgba(255, 255, 255, 0.9);\n}\n\n.modal-content {\n  padding: 24px;\n}\n\n.modal-footer {\n  padding: 20px 24px;\n  border-top: 1px solid rgba(255, 255, 255, 0.1);\n  display: flex;\n  justify-content: flex-end;\n  gap: 12px;\n}\n\n.cancel-btn,\n.confirm-btn {\n  padding: 8px 16px;\n  border-radius: 6px;\n  font-size: 14px;\n  cursor: pointer;\n  transition: all 0.3s;\n}\n\n.cancel-btn {\n  background: rgba(255, 255, 255, 0.05);\n  border: 1px solid rgba(255, 255, 255, 0.1);\n  color: rgba(255, 255, 255, 0.8);\n}\n\n.cancel-btn:hover {\n  background: rgba(255, 255, 255, 0.1);\n}\n\n.confirm-btn {\n  background: rgba(102, 126, 234, 0.1);\n  border: 1px solid rgba(102, 126, 234, 0.2);\n  color: #667eea;\n}\n\n.confirm-btn:hover {\n  background: rgba(102, 126, 234, 0.2);\n}\n\n/* Transition animations */\n.modal-enter-active,\n.modal-leave-active {\n  transition: opacity 0.3s ease;\n}\n\n.modal-enter-from,\n.modal-leave-to {\n  opacity: 0;\n}\n</style>\n","<!-- \n * Copyright 2025 the original author or authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n-->\n\n<template>\n  <!-- Toast notification container -->\n  <Teleport to=\"body\">\n    <transition name=\"modal\">\n      <!-- Toast message box -->\n      <div v-if=\"visible\" class=\"toast-overlay\" @click=\"hide\">\n        <div class=\"toast-modal\" :class=\"`toast--${type}`\" @click.stop>\n          <div class=\"toast-header\">\n            <Icon :icon=\"icon\" class=\"toast-icon\" />\n            <span class=\"toast-title\">{{ type === 'success' ? 'Success' : 'Error' }}</span>\n          </div>\n          <div class=\"toast-content\">\n            <span>{{ message }}</span>\n          </div>\n          <div class=\"toast-actions\">\n            <button class=\"toast-btn toast-btn--primary\" @click=\"hide\">Confirm</button>\n          </div>\n        </div>\n      </div>\n    </transition>\n  </Teleport>\n</template>\n\n<script setup lang=\"ts\">\n// Define component name to satisfy Vue linting rules\ndefineOptions({\n  name: 'ToastNotification',\n})\n\nimport { ref } from 'vue'\nimport { Icon } from '@iconify/vue'\n\n// Interface for exposing toast methods\ninterface ToastInstance {\n  show: (message: string, type?: 'success' | 'error', duration?: number) => void\n}\n\n// Toast visibility state\nconst visible = ref(false)\n// Message content\nconst message = ref('')\n// Toast type: success / error\nconst type = ref('success')\nconst icon = ref('carbon:checkmark')\n// Duration before auto-hide\nconst duration = ref(3000)\n\n/**\n * Show the toast message\n * @param msg - Message text to display\n * @param toastType - Type of toast: 'success' or 'error'\n * @param customDuration - Optional custom duration in ms (ignored for modal style)\n */\nconst show = (msg: string, toastType = 'success', customDuration = 3000) => {\n  message.value = msg\n  type.value = toastType\n  icon.value = toastType === 'success' ? 'carbon:checkmark' : 'carbon:error'\n  duration.value = customDuration\n  visible.value = true\n\n  // Modal style toast doesn't auto-hide, user must click confirm\n  // setTimeout(() => {\n  //   visible.value = false\n  // }, duration.value)\n}\n\n// Hide the toast manually\nconst hide = () => {\n  visible.value = false\n}\n\n// Expose public API\ndefineExpose<ToastInstance>({ show })\n</script>\n\n<style scoped>\n/* Toast overlay - full screen backdrop */\n.toast-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.5);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 999999 !important; /* Highest possible z-index */\n  backdrop-filter: blur(4px);\n}\n\n/* Toast modal container */\n.toast-modal {\n  background: rgba(20, 20, 25, 0.95);\n  border: 1px solid rgba(255, 255, 255, 0.1);\n  border-radius: 12px;\n  padding: 24px;\n  min-width: 320px;\n  max-width: 480px;\n  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.6);\n  backdrop-filter: blur(20px);\n}\n\n/* Toast header */\n.toast-header {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  margin-bottom: 16px;\n}\n\n.toast-icon {\n  width: 24px;\n  height: 24px;\n  flex-shrink: 0;\n}\n\n.toast-title {\n  font-size: 18px;\n  font-weight: 600;\n  color: rgba(255, 255, 255, 0.9);\n}\n\n/* Toast content */\n.toast-content {\n  margin-bottom: 20px;\n  line-height: 1.5;\n}\n\n.toast-content span {\n  font-size: 14px;\n  color: rgba(255, 255, 255, 0.8);\n}\n\n/* Toast actions */\n.toast-actions {\n  display: flex;\n  justify-content: flex-end;\n  gap: 12px;\n}\n\n.toast-btn {\n  padding: 10px 20px;\n  border: none;\n  border-radius: 6px;\n  font-size: 14px;\n  font-weight: 500;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  min-width: 80px;\n}\n\n.toast-btn--primary {\n  background: rgba(102, 126, 234, 0.8);\n  color: #fff;\n  border: 1px solid rgba(102, 126, 234, 0.3);\n}\n\n.toast-btn--primary:hover {\n  background: rgba(102, 126, 234, 1);\n  border-color: rgba(102, 126, 234, 0.5);\n  transform: translateY(-1px);\n}\n\n/* Success style */\n.toast--success .toast-icon {\n  color: #10b981;\n}\n\n.toast--success .toast-title {\n  color: #10b981;\n}\n\n/* Error style */\n.toast--error .toast-icon {\n  color: #ef4444;\n}\n\n.toast--error .toast-title {\n  color: #ef4444;\n}\n\n/* Modal transition animations */\n.modal-enter-active,\n.modal-leave-active {\n  transition: all 0.3s ease;\n}\n\n.modal-enter-from,\n.modal-leave-to {\n  opacity: 0;\n}\n\n.modal-enter-from .toast-modal,\n.modal-leave-to .toast-modal {\n  transform: scale(0.9) translateY(-20px);\n}\n\n.modal-enter-to .toast-modal,\n.modal-leave-from .toast-modal {\n  transform: scale(1) translateY(0);\n}\n</style>\n","/*\n * Copyright 2025 the original author or authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { createApp } from 'vue'\nimport Toast from '@/components/toast/Toast.vue'\n\ntype ToastInstance = InstanceType<typeof Toast>\n\nlet toastInstance: ToastInstance | null = null\nexport const useToast = () => {\n  if (!toastInstance) {\n    const app = createApp(Toast)\n    const container = document.createElement('div')\n    document.body.appendChild(container)\n    const instance = app.mount(container)\n\n    // Assign mounted instance to toastInstance\n    toastInstance = instance as ToastInstance\n  }\n\n  return {\n    // Show success message\n    success: (msg: string, duration?: number) => {\n      toastInstance?.show(msg, 'success', duration)\n    },\n\n    // Show error message\n    error: (msg: string, duration?: number) => {\n      toastInstance?.show(msg, 'error', duration)\n    },\n  }\n}\n","import { reactive } from 'vue'\nimport type { Message, MessageType } from '@/types/mcp'\n\nexport function useMessage() {\n  const message = reactive<Message>({\n    show: false,\n    text: '',\n    type: 'success',\n  })\n\n  const showMessage = (text: string, type: MessageType = 'success') => {\n    console.log(`Showing message: ${text}, Type: ${type}`)\n\n    message.text = text\n    message.type = type\n    message.show = true\n\n    // Set different display times based on message type\n    const displayTime = type === 'error' ? 5000 : 3000 // Error messages display for 5 seconds, others for 3 seconds\n\n    console.log(`Message will be automatically hidden after ${displayTime}ms`)\n\n    setTimeout(() => {\n      message.show = false\n      console.log('Message hidden')\n    }, displayTime)\n  }\n\n  return {\n    message,\n    showMessage,\n  }\n}\n"],"names":["props","__props","emit","__emit","handleOverlayClick","e","handleEscKey","onMounted","onUnmounted","_createBlock","_Teleport","_createVNode","_Transition","_createElementBlock","_createElementVNode","_hoisted_1","_hoisted_2","_normalizeClass","_unref","Icon","$emit","_hoisted_4","_renderSlot","_ctx","_hoisted_5","$t","visible","ref","message","type","icon","duration","show","msg","toastType","customDuration","hide","__expose","_toDisplayString","_hoisted_3","toastInstance","useToast","app","createApp","Toast","container","useMessage","reactive","text","displayTime"],"mappings":"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"}