import{d as D,a as g,b as m,z as V,l as j,f as T,i as N,e as a,t as r,r as I,u as F,c as _,o as K,g as w,w as G,m as z,F as A,q as O,y as R,A as P}from"./index-BzpuArMA.js";import{_ as U}from"./Java-AI-BYpq8IxI.js";import{I as B,_ as E}from"./_plugin-vue_export-helper-CJZCuUvD.js";import{L as Q}from"./LanguageSwitcher-DP-ttqwM.js";import{u as W,s as l}from"./sidebar-U86cmuOs.js";import"./llm-check-BVkAKrj3.js";const X={key:1,class:"blur-card-content"},Y=D({__name:"BlurCard",props:{content:{},wrapperStyle:{}},emits:["clickCard"],setup(S,{emit:d}){const n=S,i=d,c=()=>{console.log("[BlurCard] handleClick called with content:",n.content),i("clickCard",n.content),console.log("[BlurCard] clickCard event emitted")};return(t,x)=>{var p,h,b,v,f;return m(),g("button",{class:"blur-card",onClick:c,style:V(t.wrapperStyle)},[(p=t.content)!=null&&p.icon?(m(),j(N(B),{key:0,icon:t.content.icon,class:"blur-card-icon"},null,8,["icon"])):T("",!0),(h=t.content)!=null&&h.title||(b=t.content)!=null&&b.description?(m(),g("div",X,[a("h3",null,r((v=t.content)==null?void 0:v.title),1),a("p",null,r((f=t.content)==null?void 0:f.description),1)])):T("",!0)],4)}}}),Z=E(Y,[["__scopeId","data-v-45044436"]]),ee={class:"home-page"},oe={class:"welcome-container"},te={class:"header"},ae={class:"header-top"},se={class:"logo-container"},ne={class:"tagline"},le={class:"main-content"},ie={class:"conversation-container"},ce={class:"welcome-section"},re={class:"welcome-title"},de={class:"welcome-subtitle"},me={class:"input-section"},pe={class:"input-container"},ue=["placeholder"],ge=["disabled"],he={class:"examples-section"},be={class:"examples-grid"},ve={class:"card-type"},fe=D({__name:"index",setup(S){const d=R(),n=W(),i=I(""),c=I(),{t}=F(),x=()=>{const o=Date.now().toString();d.push({name:"direct",params:{id:o}}).then(()=>{console.log("[Home] jump to direct page"+t("common.success"))}).catch(e=>{console.error("[Home] jump to direct page"+t("common.error"),e)})},p=_(()=>[{title:t("home.examples.stockPrice.title"),type:"github",description:t("home.examples.stockPrice.description"),icon:"carbon:chart-line-data",url:t("home.examples.stockPrice.url")},{title:t("home.examples.weather.title"),type:"github",description:t("home.examples.weather.description"),icon:"carbon:location",url:t("home.examples.weather.url")},{title:t("home.examples.imagePdfRecognition.title"),type:"github",description:t("home.examples.imagePdfRecognition.description"),icon:"carbon:document-view",url:t("home.examples.imagePdfRecognition.url")}]),h=_(()=>[{title:t("home.examples.queryplan.title"),type:"github",description:t("home.examples.queryplan.description"),icon:"carbon:plan",url:t("home.examples.queryplan.url")},{title:t("home.examples.ainovel.title"),type:"github",description:t("home.examples.ainovel.description"),icon:"carbon:document-tasks",url:t("home.examples.ainovel.url")},{title:t("home.examples.formInputDemo.title"),type:"github",description:t("home.examples.formInputDemo.description"),icon:"carbon:watson",url:t("home.examples.formInputDemo.url")}]),b=_(()=>[...p.value,...h.value]),v=o=>{console.log("[Home] openGitHubPage called with item:",o),o.url&&window.open(o.url,"_blank")},f=o=>{o.type==="github"?v(o):o.type==="message"?M(o):o.type==="plan-act"&&q(o)};K(()=>{console.log("[Home] onMounted called"),console.log("[Home] taskStore:",n),console.log("[Home] examples:",p),n.markHomeVisited(),console.log("[Home] Home visited marked")});const $=async o=>{try{await l.createNewTemplate(o.planType),l.jsonContent=JSON.stringify(o);const e=await l.saveTemplate();return e!=null&&e.duplicate?console.log("[Sidebar] "+t("sidebar.saveCompleted",{message:e.message,versionCount:e.versionCount})):e!=null&&e.saved?console.log("[Sidebar] "+t("sidebar.saveSuccess",{message:e.message,versionCount:e.versionCount})):e!=null&&e.message&&console.log("[Sidebar] "+t("sidebar.saveStatus",{message:e.message})),e}catch(e){throw console.error("[Sidebar] Failed to save the plan to the template library:",e),alert(e.message||t("sidebar.saveFailed")),e}},J=()=>{P(()=>{c.value&&(c.value.style.height="auto",c.value.style.height=Math.min(c.value.scrollHeight,200)+"px")})},L=o=>{console.log("[Home] handleKeydown called, key:",o.key),o.key==="Enter"&&!o.shiftKey&&(o.preventDefault(),console.log("[Home] Enter key pressed, calling handleSend"),H())},H=()=>{if(console.log("[Home] handleSend called, userInput:",i.value),!i.value.trim()){console.log("[Home] handleSend aborted - empty input");return}const o=i.value.trim();console.log("[Home] Setting task to store:",o),n.setTask(o),console.log("[Home] Task set to store, current task:",n.currentTask);const e=Date.now().toString();console.log("[Home] Navigating to direct page with chatId:",e),d.push({name:"direct",params:{id:e}}).then(()=>{console.log("[Home] Navigation to direct page completed")}).catch(s=>{console.error("[Home] Navigation error:",s)})},M=o=>{console.log("[Home] selectExample called with example:",o),console.log("[Home] Example prompt:",o.prompt),n.setTask(o.prompt),console.log("[Home] Task set to store from example, current task:",n.currentTask);const e=Date.now().toString();console.log("[Home] Navigating to direct page with chatId:",e),d.push({name:"direct",params:{id:e}}).then(()=>{console.log("[Home] Navigation to direct page completed (from example)")}).catch(s=>{console.error("[Home] Navigation error (from example):",s)})},q=async o=>{console.log("[Home] selectPlan called with plan:",o);try{const e=await $(o.planJson);console.log("[Home] Plan saved to templates, saveResult:",e);const s=Date.now().toString();await d.push({name:"direct",params:{id:s}}),P(async()=>{await new Promise(u=>setTimeout(u,300)),l.isCollapsed?(await l.toggleSidebar(),console.log("[Sidebar] Sidebar toggled")):console.log("[Sidebar] Sidebar is already open"),await l.loadPlanTemplateList(),console.log("[Sidebar] Template list loaded");const y=(e==null?void 0:e.planId)||o.planJson.planTemplateId,k=l.planTemplateList.find(u=>u.id===y);if(!k){console.error("[Sidebar] Template not found for ID:",y),console.log("[Sidebar] Available templates:",l.planTemplateList.map(u=>u.id));return}await l.selectTemplate(k),console.log("[Sidebar] Template selected:",k.title);const C=document.querySelector(".execute-btn");C.disabled?console.error("[Sidebar] Execute button not found or disabled"):(console.log("[Sidebar] Triggering execute button click"),C.click())})}catch(e){console.error("[Home] Error in selectPlan:",e)}};return(o,e)=>(m(),g("div",ee,[a("div",oe,[e[2]||(e[2]=a("div",{class:"background-effects"},[a("div",{class:"gradient-orb orb-1"}),a("div",{class:"gradient-orb orb-2"}),a("div",{class:"gradient-orb orb-3"})],-1)),a("header",te,[a("div",ae,[w(Q)]),a("div",se,[e[1]||(e[1]=a("div",{class:"logo"},[a("img",{src:U,alt:"JManus",class:"java-logo"}),a("h1",null,"JManus")],-1)),a("span",ne,r(o.$t("home.tagline")),1)])]),a("main",le,[a("div",ie,[a("div",ce,[a("h2",re,r(o.$t("home.welcomeTitle")),1),a("p",de,r(o.$t("home.welcomeSubtitle")),1),a("button",{class:"direct-button",onClick:x},r(o.$t("home.directButton")),1)]),a("div",me,[a("div",pe,[G(a("textarea",{"onUpdate:modelValue":e[0]||(e[0]=s=>i.value=s),ref_key:"textareaRef",ref:c,class:"main-input",placeholder:o.$t("home.inputPlaceholder"),onKeydown:L,onInput:J},null,40,ue),[[z,i.value]]),a("button",{class:"send-button",disabled:!i.value.trim(),onClick:H},[w(N(B),{icon:"carbon:send-alt"})],8,ge)])]),a("div",he,[a("div",be,[(m(!0),g(A,null,O(b.value,s=>(m(),g("div",{key:s.title,class:"card-with-type"},[w(Z,{content:s,onClickCard:y=>f(s)},null,8,["content","onClickCard"]),a("span",ve,r(s.type==="github"?"GitHub":s.type),1)]))),128))])])])])])]))}}),He=E(fe,[["__scopeId","data-v-d9c7a607"]]);export{He as default};
