import{d as C,a as u,b as m,z as q,l as V,f as S,i as T,e as s,t as c,r as H,u as j,c as b,o as F,g as v,w as K,m as G,F as z,q as A,y as O,A as x}from"./index-qhJLWyvg.js";import{_ as U}from"./Java-AI-BYpq8IxI.js";import{I,_ as P}from"./_plugin-vue_export-helper-DA4EjwVq.js";import{L as Q}from"./LanguageSwitcher-C6sHqOYy.js";import{u as W,s as l}from"./sidebar-CRBevvcl.js";import"./llm-check-CJy4TeZw.js";const X={key:1,class:"blur-card-content"},Y=C({__name:"BlurCard",props:{content:{},wrapperStyle:{}},emits:["clickCard"],setup(f,{emit:d}){const n=f,i=d,r=()=>{console.log("[BlurCard] handleClick called with content:",n.content),i("clickCard",n.content),console.log("[BlurCard] clickCard event emitted")};return(o,y)=>(m(),u("button",{class:"blur-card",onClick:r,style:q(o.wrapperStyle)},[o.content?.icon?(m(),V(T(I),{key:0,icon:o.content.icon,class:"blur-card-icon"},null,8,["icon"])):S("",!0),o.content?.title||o.content?.description?(m(),u("div",X,[s("h3",null,c(o.content?.title),1),s("p",null,c(o.content?.description),1)])):S("",!0)],4))}}),Z=P(Y,[["__scopeId","data-v-4f09be0d"]]),ee={class:"home-page"},oe={class:"welcome-container"},te={class:"header"},se={class:"header-top"},ae={class:"logo-container"},ne={class:"tagline"},le={class:"main-content"},ie={class:"conversation-container"},re={class:"welcome-section"},ce={class:"welcome-title"},de={class:"welcome-subtitle"},me={class:"input-section"},pe={class:"input-container"},ue=["placeholder"],ge=["disabled"],he={class:"examples-section"},be={class:"examples-grid"},ve={class:"card-type"},fe=C({name:"HomeIndex",__name:"index",setup(f){const d=O(),n=W(),i=H(""),r=H(),{t:o}=j(),y=()=>{const e=Date.now().toString();d.push({name:"direct",params:{id:e}}).then(()=>{console.log("[Home] jump to direct page"+o("common.success"))}).catch(t=>{console.error("[Home] jump to direct page"+o("common.error"),t)})},k=b(()=>[{title:o("home.examples.stockPrice.title"),type:"github",description:o("home.examples.stockPrice.description"),icon:"carbon:chart-line-data",url:o("home.examples.stockPrice.url")},{title:o("home.examples.weather.title"),type:"github",description:o("home.examples.weather.description"),icon:"carbon:location",url:o("home.examples.weather.url")},{title:o("home.examples.imagePdfRecognition.title"),type:"github",description:o("home.examples.imagePdfRecognition.description"),icon:"carbon:document-view",url:o("home.examples.imagePdfRecognition.url")}]),D=b(()=>[{title:o("home.examples.queryplan.title"),type:"github",description:o("home.examples.queryplan.description"),icon:"carbon:plan",url:o("home.examples.queryplan.url")},{title:o("home.examples.ainovel.title"),type:"github",description:o("home.examples.ainovel.description"),icon:"carbon:document-tasks",url:o("home.examples.ainovel.url")},{title:o("home.examples.formInputDemo.title"),type:"github",description:o("home.examples.formInputDemo.description"),icon:"carbon:watson",url:o("home.examples.formInputDemo.url")}]),N=b(()=>[...k.value,...D.value]),B=e=>{console.log("[Home] openGitHubPage called with item:",e),e.url&&window.open(e.url,"_blank")},E=e=>{e.type==="github"?B(e):e.type==="message"?J(e):e.type==="plan-act"&&L(e)};F(()=>{console.log("[Home] onMounted called"),console.log("[Home] taskStore:",n),console.log("[Home] examples:",k),n.markHomeVisited(),console.log("[Home] Home visited marked")});const R=async e=>{try{await l.createNewTemplate(e.planType),l.jsonContent=JSON.stringify(e);const t=await l.saveTemplate(),a=t;return a?.duplicate?console.log("[Sidebar] "+o("sidebar.saveCompleted",{message:a.message,versionCount:a.versionCount})):a?.saved?console.log("[Sidebar] "+o("sidebar.saveSuccess",{message:a.message,versionCount:a.versionCount})):a?.message&&console.log("[Sidebar] "+o("sidebar.saveStatus",{message:a.message})),t}catch(t){console.error("[Sidebar] Failed to save the plan to the template library:",t);const a=t instanceof Error?t.message:o("sidebar.saveFailed");throw alert(a),t}},$=()=>{x(()=>{r.value&&(r.value.style.height="auto",r.value.style.height=Math.min(r.value.scrollHeight,200)+"px")})},M=e=>{console.log("[Home] handleKeydown called, key:",e.key),e.key==="Enter"&&!e.shiftKey&&(e.preventDefault(),console.log("[Home] Enter key pressed, calling handleSend"),_())},_=()=>{if(console.log("[Home] handleSend called, userInput:",i.value),!i.value.trim()){console.log("[Home] handleSend aborted - empty input");return}const e=i.value.trim();console.log("[Home] Setting task to store:",e),n.setTask(e),console.log("[Home] Task set to store, current task:",n.currentTask);const t=Date.now().toString();console.log("[Home] Navigating to direct page with chatId:",t),d.push({name:"direct",params:{id:t}}).then(()=>{console.log("[Home] Navigation to direct page completed")}).catch(a=>{console.error("[Home] Navigation error:",a)})},J=e=>{console.log("[Home] selectExample called with example:",e),console.log("[Home] Example prompt:",e.prompt),e.prompt&&n.setTask(e.prompt),console.log("[Home] Task set to store from example, current task:",n.currentTask);const t=Date.now().toString();console.log("[Home] Navigating to direct page with chatId:",t),d.push({name:"direct",params:{id:t}}).then(()=>{console.log("[Home] Navigation to direct page completed (from example)")}).catch(a=>{console.error("[Home] Navigation error (from example):",a)})},L=async e=>{console.log("[Home] selectPlan called with plan:",e);try{const t=await R(e.planJson);console.log("[Home] Plan saved to templates, saveResult:",t);const a=Date.now().toString();await d.push({name:"direct",params:{id:a}}),x(async()=>{await new Promise(p=>setTimeout(p,300)),l.isCollapsed?(await l.toggleSidebar(),console.log("[Sidebar] Sidebar toggled")):console.log("[Sidebar] Sidebar is already open"),await l.loadPlanTemplateList(),console.log("[Sidebar] Template list loaded");const g=t?.planId||e.planJson.planTemplateId,h=l.planTemplateList.find(p=>p.id===g);if(!h){console.error("[Sidebar] Template not found for ID:",g),console.log("[Sidebar] Available templates:",l.planTemplateList.map(p=>p.id));return}await l.selectTemplate(h),console.log("[Sidebar] Template selected:",h.title);const w=document.querySelector(".execute-btn");w.disabled?console.error("[Sidebar] Execute button not found or disabled"):(console.log("[Sidebar] Triggering execute button click"),w.click())})}catch(t){console.error("[Home] Error in selectPlan:",t)}};return(e,t)=>(m(),u("div",ee,[s("div",oe,[t[2]||(t[2]=s("div",{class:"background-effects"},[s("div",{class:"gradient-orb orb-1"}),s("div",{class:"gradient-orb orb-2"}),s("div",{class:"gradient-orb orb-3"})],-1)),s("header",te,[s("div",se,[v(Q)]),s("div",ae,[t[1]||(t[1]=s("div",{class:"logo"},[s("img",{src:U,alt:"JManus",class:"java-logo"}),s("h1",null,"JManus")],-1)),s("span",ne,c(e.$t("home.tagline")),1)])]),s("main",le,[s("div",ie,[s("div",re,[s("h2",ce,c(e.$t("home.welcomeTitle")),1),s("p",de,c(e.$t("home.welcomeSubtitle")),1),s("button",{class:"direct-button",onClick:y},c(e.$t("home.directButton")),1)]),s("div",me,[s("div",pe,[K(s("textarea",{"onUpdate:modelValue":t[0]||(t[0]=a=>i.value=a),ref_key:"textareaRef",ref:r,class:"main-input",placeholder:e.$t("home.inputPlaceholder"),onKeydown:M,onInput:$},null,40,ue),[[G,i.value]]),s("button",{class:"send-button",disabled:!i.value.trim(),onClick:_},[v(T(I),{icon:"carbon:send-alt"})],8,ge)])]),s("div",he,[s("div",be,[(m(!0),u(z,null,A(N.value,a=>(m(),u("div",{key:a.title,class:"card-with-type"},[v(Z,{content:a,onClickCard:g=>E(a)},null,8,["content","onClickCard"]),s("span",ve,c(a.type==="github"?"GitHub":a.type),1)]))),128))])])])])])]))}}),xe=P(fe,[["__scopeId","data-v-b47b75cb"]]);export{xe as default};
//# sourceMappingURL=index-ydVn9JPO.js.map
